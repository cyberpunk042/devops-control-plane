[
    {
        "context": "wizard/welcome",
        "title": "Welcome to the Setup Wizard",
        "icon": "ğŸ§™",
        "content": "6 steps to shape your project. Everything starts here â€” your project's identity, where it lives, and how it's organized.\n\nTake your time. Nothing is saved until you hit Finish on the last step, so feel free to explore and come back.",
        "children": [
            {
                "id": "project-name",
                "title": "Project Name",
                "icon": "âœï¸",
                "selector": "#wiz-name",
                "content": "This is your project's identity â€” the name that follows it everywhere.",
                "expanded": "It shows up in Docker image tags, CI/CD pipeline names, Helm chart metadata, generated folder structures, and every config file the control plane produces.\n\nPick something lowercase, hyphen-separated â€” like my-api or data-pipeline. Spaces and special characters can cause issues in Docker tags and file paths downstream.\n\nğŸ’¡ Changing this later is possible but ripples through generated configs. Best to get it right now.",
                "children": []
            },
            {
                "id": "description",
                "title": "Description",
                "icon": "ğŸ“",
                "selector": "#wiz-desc",
                "content": "A short summary of what this project does â€” one or two sentences is perfect.",
                "expanded": "This text appears in your README header, package metadata (package.json, pyproject.toml), GitHub repository description, and Helm chart annotations.\n\nIt's not required, but it's the kind of thing you'll appreciate having when someone new looks at the project six months from now.\n\nğŸ’¡ Write it for a colleague who's never seen this repo before.",
                "children": []
            },
            {
                "id": "repository",
                "title": "Repository",
                "icon": "ğŸ”—",
                "selector": "#wiz-repo",
                "content": "Your Git remote â€” this connects the project to its home on GitHub, GitLab, or wherever it lives.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The control plane uses this for:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CI/CD webhooks</span><span>triggering pipelines on push</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub integration</span><span>PR management, secrets sync, Actions dispatch</span><span style=\"font-weight:600;color:var(--text-secondary)\">Docker registry paths</span><span>deriving container image names</span><span style=\"font-weight:600;color:var(--text-secondary)\">Generated configs</span><span>embedding the repo URL in Helm charts, Dockerfiles, and CI workflows</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Format: github.com/owner/repo (without https://). If you're using GitHub, the control plane can often auto-detect this from your local git remote.</div></div></div>",
                "children": []
            },
            {
                "id": "domains",
                "title": "Domains",
                "icon": "ğŸ·ï¸",
                "selector": "#wiz-domains",
                "separator": true,
                "content": "Domains are logical groupings for your codebase â€” not internet domains, more like folders of purpose.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">When you add modules in Step 2, each one belongs to a domain. Think of it as organizing your project by responsibility:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">library</span><span>shared utilities, core business logic</span><span style=\"font-weight:600;color:var(--text-secondary)\">ops</span><span>DevOps tooling, scripts, CI/CD configs</span><span style=\"font-weight:600;color:var(--text-secondary)\">docs</span><span>documentation, guides, Docusaurus sites</span><span style=\"font-weight:600;color:var(--text-secondary)\">services</span><span>microservices, APIs, workers</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You've got {{domainCount}} so far. You can always add more later â€” this just shapes how modules are categorized in the dashboard.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "content": "One of your project domains. Modules assigned to this domain will be grouped together in the dashboard and reports.",
                    "selector": "#wiz-domains > span"
                },
                "children": [
                    {
                        "id": "add-domain",
                        "title": "Add domainâ€¦",
                        "icon": "â•",
                        "selector": "#wiz-new-domain",
                        "content": "Type a name and press Enter or click + Add.",
                        "expanded": "Good domain names are short and describe a purpose, not a technology. Think library over python, or services over backend.\n\nğŸ’¡ You don't need to plan this perfectly. Domains can be added, renamed, or reorganized anytime.",
                        "children": []
                    }
                ]
            },
            {
                "id": "environments",
                "title": "Environments",
                "icon": "ğŸ“‹",
                "selector": "#wiz-envs",
                "separator": true,
                "content": "Environments scope your secrets and deployment variables. Your project configuration, integrations, and generated files are shared across all of them â€” what changes per environment are the credentials and endpoint values.",
                "expanded": "So your DB_HOST might be localhost:5432 in development but prod-db.internal in production. Same Dockerfile, same CI pipeline, different .env file per environment.\n\nEach environment gets its own encrypted .env file managed by the Vault in Step 3. The control plane keeps them separate â€” secrets from one environment never leak into another.\n\nYou've got {{envCount}} set up. Most projects need at least development and production. Add staging or preview if your workflow needs intermediate deployment targets.",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "content": "The {{name}} environment â€” one of your deployment targets. It gets its own .env file with credentials and endpoint values scoped specifically to this context.",
                    "expanded": "When you define secrets and variables in Step 3, each environment has its own set of values. So your API keys, database URLs, and feature flags can differ between environments while sharing the same project config and generated files.\n\nğŸ’¡ Click the name or description to edit. Use Ã— to remove this environment.",
                    "selector": "#wiz-envs > div"
                },
                "children": [
                    {
                        "id": "add-env-name",
                        "title": "Environment name",
                        "icon": "â•",
                        "selector": "#wiz-new-env-name",
                        "content": "Add another deployment target â€” staging, qa, preview, or whatever your workflow needs.",
                        "expanded": "Keep it lowercase, no spaces. This name becomes part of your .env file path (.env.staging), GitHub deployment environment name, and CI/CD workflow target.\n\nEach new environment gets its own secret values in Step 3.\n\nğŸ’¡ Common patterns: development + production for simple projects. Add staging for a QA gate, or preview for PR-based ephemeral environments.",
                        "children": []
                    },
                    {
                        "id": "add-env-desc",
                        "title": "Environment description",
                        "icon": "ğŸ“",
                        "selector": "#wiz-new-env-desc",
                        "content": "A human-readable label â€” helps your team know what each environment is for at a glance.",
                        "expanded": "Examples: \"Local development and testing\", \"Pre-production staging\", \"Live customer-facing\".\n\nThis shows up in the dashboard environment selector and in the Vault management view. It's optional but makes life easier when you have 3+ environments.",
                        "children": []
                    }
                ]
            }
        ]
    },
    {
        "context": "wizard/modules",
        "title": "Modules",
        "icon": "ğŸ”",
        "content": "Modules are the building blocks of your project â€” each one maps to a directory in your codebase with its own stack and purpose.\n\nThe control plane uses them to decide what to generate: Dockerfiles, CI pipelines, linting configs, audit scans, and dashboard structure all flow from what you define here.",
        "children": [
            {
                "id": "auto-detect",
                "title": "Auto-Detect",
                "icon": "ğŸ”",
                "selector": "button[onclick='wizardDetect()']",
                "content": "Scans your project root for recognizable structures â€” pyproject.toml, package.json, docker-compose.yml, Makefile, docs folders â€” and creates module entries from what it finds.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Detection looks at file signatures:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pyproject.toml or setup.py â†’ python-lib or python-cli</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ app.py / wsgi.py â†’ python-flask</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ package.json â†’ node</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker-compose.yml â†’ docker-compose</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ .md files in a docs/ folder â†’ markdown</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">It also reads descriptions from package metadata when available. Detection is non-destructive â€” it won't overwrite modules you've already added manually.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ’¡ If your project has an unusual structure, you can always add modules manually below.</div></div></div>",
                "children": []
            },
            {
                "id": "modules-list",
                "title": "Module List",
                "icon": "ğŸ“¦",
                "selector": "#wizard-modules-list",
                "content": "Your configured modules â€” {{moduleCount}} so far. Each one represents a directory the control plane knows about and manages.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Every module gets its own treatment in the pipeline:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Python modules get linting (ruff/flake8), type checking, and test runners</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Flask modules get Dockerfile generation, health check endpoints, and deployment configs</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Node modules get npm scripts, bundler configs, and dependency audits</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Docker-compose modules get service orchestration and K8s migration paths</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Markdown modules get Docusaurus site generation and content management</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane uses module paths to scope operations â€” when you run audit, lint, or generate configs, it targets the right directories.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "content": "The {{name}} module â€” managed by the control plane as part of your project structure.",
                    "expanded": "This module's stack determines what the control plane generates for it: Dockerfiles, CI workflows, linting configs, and audit targets. Its domain assignment controls how it's grouped in the dashboard.\n\nğŸ’¡ Use Ã— to remove this module if it was detected incorrectly or is no longer needed.",
                    "selector": "#wizard-modules-list > div"
                },
                "children": []
            },
            {
                "id": "add-module",
                "title": "Add Module",
                "icon": "â•",
                "selector": "#wiz-add-module",
                "separator": true,
                "content": "Manually define a module the auto-detector missed, or add one for a directory you're about to create. Pick a stack from the dropdown to tell the control plane what technology this module uses.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Three fields define a module:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Name</span><span>appears in dashboard cards, CI pipeline names, and generated configs</span><span style=\"font-weight:600;color:var(--text-secondary)\">Path</span><span>directory relative to project root (e.g. src/core, services/api)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Stack</span><span>the technology stack that drives everything the control plane generates</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Available stacks (47 total):\nğŸ python Â· python-lib Â· python-cli Â· python-flask Â· python-fastapi Â· python-django\nğŸ“¦ node Â· node-express Â· node-nextjs Â· node-react Â· node-lib Â· typescript Â· typescript-lib\nğŸ¹ go Â· go-gin Â· go-fiber Â· go-cli Â· go-lib\nğŸ¦€ rust Â· rust-actix Â· rust-axum Â· rust-cli Â· rust-lib\nâš™ï¸ c Â· cpp Â· âš¡ zig Â· ğŸ swift\nâ˜• java-maven Â· java-maven-spring Â· java-gradle Â· java-gradle-spring\nğŸ”· dotnet Â· dotnet-aspnet Â· dotnet-blazor\nğŸ’ ruby Â· ruby-rails Â· ruby-sinatra Â· ğŸ’§ elixir Â· elixir-phoenix\nğŸ˜ php Â· ğŸ“¡ protobuf\nğŸ³ docker-compose Â· â˜¸ï¸ kubernetes Â· âˆ helm Â· ğŸ—ï¸ terraform\nğŸ“ markdown Â· ğŸŒ static-site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Flavored stacks inherit from their base and add framework-specific capabilities. Each is defined in stacks/<name>/stack.yml.</div></div></div>",
                "children": [
                    {
                        "id": "mod-name",
                        "title": "Module Name",
                        "icon": "âœï¸",
                        "selector": "#wiz-mod-name",
                        "content": "A short, descriptive name for this module â€” like core, api, web, or docs.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This name appears in:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Dashboard module cards</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI pipeline names (e.g. lint-core, test-api)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Docker image tags when applicable</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Generated config references</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Keep it lowercase, hyphen-separated. It doesn't need to match the directory name, but it helps.</div></div></div>",
                        "children": []
                    },
                    {
                        "id": "mod-path",
                        "title": "Module Path",
                        "icon": "ğŸ“‚",
                        "selector": "#wiz-mod-path",
                        "content": "The directory path relative to your project root â€” this is where the control plane looks for source files.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Must point to an actual directory (or one you plan to create). The control plane uses this to:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Scope linting and audit operations to the right files</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Generate Dockerfiles with correct COPY paths</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Set up CI workflows that only trigger on changes in this directory</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Resolve dependencies between modules</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Examples: src/core, src/ui/web, services/auth, docs</div></div></div>",
                        "children": []
                    },
                    {
                        "id": "mod-stack",
                        "title": "Stack",
                        "icon": "ğŸ”§",
                        "selector": "#wiz-mod-stack",
                        "content": "A stack is a technology definition â€” it tells the control plane how to detect, build, lint, test, and deploy this module. Flavored stacks inherit capabilities from their base language.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each stack is defined in stacks/<name>/stack.yml. Flavored stacks declare a parent and inherit detection rules, requirements, and capabilities from their base â€” then add their own.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ Python</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">python</span><span>Generic Python project</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-lib</span><span>Library, no entry point (domain: library)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-cli</span><span>Click/argparse CLI tool (+run)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-flask</span><span>Flask web app (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-fastapi</span><span>FastAPI app (+serve via uvicorn)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-django</span><span>Django app (+serve, migrate, shell)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ“¦ JavaScript / TypeScript</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">node</span><span>Node.js project</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-express</span><span>Express.js server (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-nextjs</span><span>Next.js app (+dev, serve, build override)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-react</span><span>React SPA (+dev)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-lib</span><span>npm library (domain: library)</span><span style=\"font-weight:600;color:var(--text-secondary)\">typescript</span><span>TypeScript project</span><span style=\"font-weight:600;color:var(--text-secondary)\">typescript-lib</span><span>TS library (domain: library)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ¹ Go</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">go</span><span>Go project (Go modules)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-gin</span><span>Gin web framework (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-fiber</span><span>Fiber web framework (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-cli</span><span>CLI tool (Cobra/urfave)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-lib</span><span>Library (domain: library)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ¦€ Rust</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">rust</span><span>Rust project (Cargo)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-actix</span><span>Actix-web service (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-axum</span><span>Axum web service (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-cli</span><span>CLI tool (clap)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-lib</span><span>Library crate (domain: library)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">âš™ï¸ Systems</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">c</span><span>C project (Makefile/CMake)</span><span style=\"font-weight:600;color:var(--text-secondary)\">cpp</span><span>C++ project (Makefile/CMake)</span><span style=\"font-weight:600;color:var(--text-secondary)\">zig</span><span>Zig project</span><span style=\"font-weight:600;color:var(--text-secondary)\">swift</span><span>Swift project (SPM)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â˜• JVM & .NET</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">java-maven</span><span>Java (Maven build)</span><span style=\"font-weight:600;color:var(--text-secondary)\">java-maven-spring</span><span>Spring Boot + Maven (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">java-gradle</span><span>Java/Kotlin (Gradle build)</span><span style=\"font-weight:600;color:var(--text-secondary)\">java-gradle-spring</span><span>Spring Boot + Gradle (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">dotnet</span><span>.NET / C#</span><span style=\"font-weight:600;color:var(--text-secondary)\">dotnet-aspnet</span><span>ASP.NET web app (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">dotnet-blazor</span><span>Blazor app (+serve)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ’ Other Languages</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ruby</span><span>Ruby (Bundler)</span><span style=\"font-weight:600;color:var(--text-secondary)\">ruby-rails</span><span>Rails (+serve, migrate, console)</span><span style=\"font-weight:600;color:var(--text-secondary)\">ruby-sinatra</span><span>Sinatra (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">elixir</span><span>Elixir (Mix)</span><span style=\"font-weight:600;color:var(--text-secondary)\">elixir-phoenix</span><span>Phoenix (+serve, migrate, routes)</span><span style=\"font-weight:600;color:var(--text-secondary)\">php</span><span>PHP (Composer)</span><span style=\"font-weight:600;color:var(--text-secondary)\">protobuf</span><span>Protocol Buffers / gRPC</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ³ Infrastructure</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">docker-compose</span><span>Docker Compose orchestration</span><span style=\"font-weight:600;color:var(--text-secondary)\">kubernetes</span><span>Kubernetes manifests</span><span style=\"font-weight:600;color:var(--text-secondary)\">helm</span><span>Helm charts</span><span style=\"font-weight:600;color:var(--text-secondary)\">terraform</span><span>Terraform infrastructure</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ“ Content</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">markdown</span><span>Documentation (Docusaurus/MkDocs)</span><span style=\"font-weight:600;color:var(--text-secondary)\">static-site</span><span>Static site (HTML/CSS/JS)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use \"Custom\" to type an unlisted stack name â€” you can create its YAML later.</div></div></div>",
                        "children": []
                    }
                ]
            }
        ]
    },
    {
        "context": "wizard/secrets",
        "title": "Secrets & Encryption",
        "icon": "ğŸ”",
        "content": "This step shows the state of your project's secrets infrastructure â€” one vault per environment, your GitHub connection, and the content encryption key.\n\nUnlike Step 1, some actions here take effect immediately when you click them. The + Create and ğŸ’¾ Save buttons write to disk right away â€” they don't wait for Finish.",
        "children": [
            {
                "id": "env-vault-status",
                "title": "Environment Vault Status",
                "icon": "ğŸŒ",
                "selector": "#wiz-env-vault-list",
                "separator": true,
                "content": "Each environment you defined in Step 1 gets its own encrypted vault file. In multi-environment mode, .env is a working copy of the active environment â€” when you switch environments, the control plane swaps the file automatically.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The file model:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.env</span><span>live working copy of whichever environment is active</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.{name}</span><span>stored snapshot of each environment's secrets</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.active</span><span>marker file recording which environment is selected</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">When you activate production, the control plane saves .env â†’ .env.development, then copies .env.production â†’ .env. In single-env mode, there's just .env â€” no swapping.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ’¡ Vault files (.env.vault) are the encrypted versions. The .gitignore excludes plaintext .env files, and encryption adds the real protection.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "code",
                    "content": "Vault file for the {{name}} environment.",
                    "expanded": "Checking statusâ€¦",
                    "selector": "#wiz-env-vault-list > div",
                    "variants": [
                        {
                            "when": {
                                "textContains": "unlocked",
                                "hasSelector": "[data-env-active]"
                            },
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”“ unlocked Â· ACTIVE</div><div class=\"state-detail\">This is the active environment â€” .env is a live copy of this file right now. The vault is decrypted and ready for editing.\n\nAny changes you make in the ğŸ” Secrets tab modify this environment's .env directly. Remember to lock it when you're done.\n\nSwitching to another environment will save this file and swap in the new one.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "locked",
                                "hasSelector": "[data-env-active]"
                            },
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”’ locked Â· ACTIVE</div><div class=\"state-detail\">This is the active environment but the vault is locked â€” .env is encrypted on disk.\n\nUnlock it from the ğŸ” Secrets tab to view or edit secrets. The vault passphrase decrypts it on demand.\n\nSwitching to another environment will keep this vault locked and swap in the new one.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "missing",
                                "hasSelector": "[data-env-active]"
                            },
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ“­ missing Â· ACTIVE</div><div class=\"state-detail\">This is the active environment but no .env file exists yet. Hit + Create to generate one â€” the file is written to disk immediately.\n\nThis is normal for new setups. Once created, you can add secrets through the ğŸ” Secrets tab.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "unlocked"
                            },
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”“ unlocked</div><div class=\"state-detail\">This vault is decrypted and ready. You can view and edit secrets through the ğŸ” Secrets tab on the dashboard.\n\nRemember to lock it when you're done â€” plaintext .env files should never be committed to git. The .gitignore already excludes them, but encryption is the real protection.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "locked"
                            },
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”’ locked</div><div class=\"state-detail\">This vault is encrypted â€” its contents are safe on disk. This is the expected state when you're not actively editing credentials.\n\nTo read or edit secrets, unlock it from the ğŸ” Secrets tab. The vault passphrase decrypts it on demand.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "missing"
                            },
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ“­ missing</div><div class=\"state-detail\">This vault doesn't exist yet. Hit + Create to generate it â€” the file is written to disk immediately with an auto-generated encryption key.\n\nThis is normal for new environments. You can add secrets afterwards through the ğŸ” Secrets tab.</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "gh-integration",
                "title": "GitHub Integration",
                "icon": "ğŸ”—",
                "selector": "#wiz-gh-integration",
                "separator": true,
                "content": "GITHUB_REPOSITORY connects your local vault to your GitHub remote â€” it's how the control plane knows where to sync secrets and dispatch workflows.",
                "expanded": "This value stays local to your .env file. It's never pushed to GitHub secrets â€” it's the bridge between your local credentials and your remote repository.\n\nWith this set, you get secrets sync to GitHub Actions, workflow dispatch, and PR management from the dashboard.",
                "variants": [
                    {
                        "when": {
                            "textContains": "configured"
                        },
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… configured</div><div class=\"state-detail\">Your repository is set in .env. The control plane can push secrets, dispatch workflows, and manage PRs.\n\nThis value stays local â€” it's never pushed to GitHub. It's the link between your local vault and your remote repo.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "detected"
                        },
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ detected but not saved</div><div class=\"state-detail\">Your git remote was auto-detected but isn't persisted in .env yet. Click ğŸ’¾ Save to .env to keep it â€” this takes effect immediately.\n\nWithout it saved, GitHub integration features won't know where to target on next startup.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "could not detect"
                        },
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â“ not detected</div><div class=\"state-detail\">No git remote found. You can set GITHUB_REPOSITORY manually in your .env file as owner/repo (e.g., my-org/my-project).\n\nThis is needed for secrets sync, GitHub Actions dispatch, and PR management.</div></div>"
                    }
                ],
                "children": [
                    {
                        "id": "gh-deploy-envs",
                        "title": "Deployment Environments",
                        "icon": "ğŸŒ",
                        "selector": "#wiz-gh-deploy-envs",
                        "content": "GitHub Deployment Environments scope secrets to specific environments like development and production. Each environment in your project should have a matching GitHub environment.",
                        "expanded": "Without matching GitHub environments, you can't push environment-scoped secrets. Dev typically uses repo-level secrets, but production needs its own environment for isolation.\n\nğŸ’¡ Hit ğŸš€ Create to provision missing environments on GitHub directly from the wizard.",
                        "dynamic": true,
                        "childTemplate": {
                            "title": "{{name}}",
                            "nameSelector": "code",
                            "content": "GitHub deployment environment.",
                            "selector": "#wiz-gh-deploy-list > div",
                            "variants": [
                                {
                                    "when": {
                                        "textContains": "exists"
                                    },
                                    "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… exists</div><div class=\"state-detail\">This environment is provisioned on GitHub. You can push scoped secrets to it from the ğŸ” Secrets tab and use environment-level protection rules in GitHub Actions.</div></div>"
                                },
                                {
                                    "when": {
                                        "textContains": "not found"
                                    },
                                    "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ not found</div><div class=\"state-detail\">This environment doesnâ€™t exist on GitHub yet. Hit ğŸš€ Create to provision it â€” this is required before you can push environment-scoped secrets.\n\nWithout it, secrets sync for this environment will fail.</div></div>"
                                }
                            ]
                        },
                        "children": []
                    }
                ]
            },
            {
                "id": "enc-key-status",
                "title": "Content Encryption Key",
                "icon": "ğŸ”‘",
                "selector": "#wiz-enc-key-status",
                "separator": true,
                "content": "CONTENT_VAULT_ENC_KEY is a general-purpose encryption key stored in your .env file. It enables on-demand encryption for any git-committed item â€” you toggle it per file or message, and the key does the rest.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This key protects multiple things across the control plane:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Content files</span><span>media, documents, assets in the content vault</span><span style=\"font-weight:600;color:var(--text-secondary)\">Chat messages</span><span>encrypted at rest, decrypted on read</span><span style=\"font-weight:600;color:var(--text-secondary)\">Backup archives</span><span>encrypted snapshots of your project</span><span style=\"font-weight:600;color:var(--text-secondary)\">New vault seeding</span><span>auto-injected when creating environment vaults</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">It's separate from the vault passphrase that locks .env files. The vault passphrase protects secrets (API keys, database URLs). This key protects everything else you choose to encrypt.</div></div></div>",
                "variants": [
                    {
                        "when": {
                            "textContains": "configured"
                        },
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… configured</div><div class=\"state-detail\">Your encryption key is active. You can encrypt content files, chat messages, and backup archives on demand.\n\nThis key is auto-injected into new environment vaults when you create them. As long as your .env file is backed up, anything encrypted with this key is recoverable.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "not set"
                        },
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ not set</div><div class=\"state-detail\">No encryption key configured. Without it, you can't encrypt content files, chat messages, or backup archives.\n\nEnter your own key (at least 8 characters) or hit ğŸ² Generate for a strong random one. Either way, it's stored in .env â€” keep that file safe.\n\nâš ï¸ Losing this key means losing access to everything encrypted with it. There's no recovery mechanism.\n\nIf you don't need any of these encryption features, you can safely skip this.</div></div>"
                    }
                ],
                "children": []
            },
            {
                "id": "secrets-list",
                "title": "Detected Secret Files",
                "icon": "ğŸ“„",
                "selector": "#wiz-secrets-list",
                "separator": true,
                "content": "These are secret files found in your project â€” .env files, encrypted vaults, and related artifacts. This is a read-only snapshot of whatâ€™s on disk right now.",
                "expanded": "In multi-environment mode, .env is a live copy of the active environment â€” it will match one of the .env.{name} files. The other .env.{name} files hold each environment's stored secrets.\n\nFor full vault management â€” locking, unlocking, adding keys, pushing secrets to GitHub â€” use the ğŸ” Secrets tab on the dashboard after you finish the wizard.\n\nğŸ’¡ Encrypted files are safe to commit (theyâ€™re ciphertext). Plaintext files should be locked before pushing to git.",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "code",
                    "content": "A secret file in your project.",
                    "selector": "#wiz-detected-files > div",
                    "variants": [
                        {
                            "when": {
                                "textContains": "= .env."
                            },
                            "content": "This is the live working copy of the active environment.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”“ Active Copy</div><div class=\"state-detail\">In multi-environment mode, .env is automatically maintained as a copy of whichever environment is currently active.\n\nWhen you switch environments from the ğŸ” Secrets tab, the control plane saves this file back and copies the new environment into its place.\n\nYou donâ€™t edit .env directly for switching â€” use the Activate button in the Secrets tab.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".env.development"
                            },
                            "content": "Development environment secrets â€” used for local development and testing.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš§ Development</div><div class=\"state-detail\">This file holds secrets for your development environment â€” typically local databases, test API keys, and debug configurations.\n\nIts contents are separate from production. When development is active, .env is a copy of this file.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".env.production"
                            },
                            "content": "Production environment secrets â€” used for released and deployed applications.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Production</div><div class=\"state-detail\">This file holds secrets for your production environment â€” live database credentials, real API keys, and deployment-specific configurations.\n\nHandle with extra care. When production is active, .env is a copy of this file. We suggest locking the vault when you move away â€” each environment can have its own passphrase for independent protection.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Encrypted"
                            },
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”’ Encrypted</div><div class=\"state-detail\">Contents are safe on disk â€” this file can be committed to git without exposing secrets. To read or edit it, unlock through the ğŸ” Secrets tab.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Plaintext"
                            },
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”“ Plaintext</div><div class=\"state-detail\">Anyone with file access can read this fileâ€™s contents. Use the ğŸ” Secrets tab to lock it when youâ€™re done editing â€” plaintext .env files should never be committed to git.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Missing"
                            },
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Missing</div><div class=\"state-detail\">This file is expected but not found on disk. It may have been deleted or hasnâ€™t been created yet. Use + Create in the vault section above, or the ğŸ” Secrets tab.</div></div>"
                        }
                    ]
                },
                "children": []
            }
        ]
    },
    {
        "context": "wizard/content",
        "title": "Content Folders",
        "icon": "ğŸ“",
        "content": "Choose which folders appear in the ğŸ“ Content tab â€” your workspace for browsing, previewing, encrypting, and archiving project files.\n\nBelow the folders, you'll see the infrastructure directories that the control plane manages automatically. These track your chat history, audit traces, backups, and optimized large files â€” they're created on demand as you use the system.",
        "children": [
            {
                "id": "content-list",
                "title": "Project Folders",
                "icon": "ğŸ“‚",
                "selector": "#wiz-content-list",
                "separator": true,
                "content": "Select the folders you want to manage through the Content tab. Each selected folder becomes browsable with preview, encryption, download, and archive capabilities.",
                "expanded": "This controls the default folder tabs in the Content view. You can always browse any project directory using ğŸ—‚ Explore All â€” this selection just sets the defaults.\n\nğŸ’¡ Folders marked 'suggested' match common content folder patterns (docs, media, assets, etc). You don't have to include all of them â€” pick the ones that matter to your workflow.",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "div > div:first-child",
                    "content": "A project directory.",
                    "selector": "#wiz-content-list > label",
                    "variants": [
                        {
                            "when": {
                                "textContains": "Active",
                                "hasSelector": "[style*='suggested']"
                            },
                            "content": "This folder is selected and was auto-suggested as a common content folder.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Active Â· suggested</div><div class=\"state-detail\">This folder is included in the ğŸ“ Content tab. It matched a common content folder pattern and was pre-suggested.\n\nYou'll get full management capabilities: browsing, preview, upload, encryption, backup archives, and large file optimization.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Active"
                            },
                            "content": "This folder is selected for content management.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Active</div><div class=\"state-detail\">This folder will appear as a tab in the ğŸ“ Content view. You can browse, upload, encrypt, download, and archive files inside it.\n\nUncheck it if you don't need to manage these files through the Content tab directly.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "suggested"
                            },
                            "content": "This looks like a good candidate for content management â€” it matches a common content folder pattern.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¡ Suggested</div><div class=\"state-detail\">This directory name matches a common content folder pattern. Check it to include it in the Content tab â€” you'll get browsing, preview, encryption, and archive capabilities.\n\nSuggested doesn't mean required. If this folder isn't relevant to your workflow, leave it unchecked.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â€”"
                            },
                            "content": "A project directory. Check the box to include it in the Content tab.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">Not selected</div><div class=\"state-detail\">This folder exists in your project but isn't currently managed through the Content tab.\n\nCheck it if you want to browse, upload, encrypt, or archive files in this directory. Leave it unchecked if it's source code or configuration that doesn't need content management.</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "content-infra",
                "title": "Content Infrastructure",
                "icon": "ğŸ—ï¸",
                "selector": "#wiz-content-infra",
                "separator": true,
                "content": "These directories are created and maintained by the control plane. They're gitignored and never need manual management â€” the system handles creation, population, and cleanup.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Think of them as internal storage layers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.ledger</span><span>shares data via git branches (chat threads, traces, audits)</span><span style=\"font-weight:600;color:var(--text-secondary)\">.state</span><span>local caches (preferences, scores, pending audits, run history)</span><span style=\"font-weight:600;color:var(--text-secondary)\">.backup</span><span>compressed archive snapshots from the Content tab</span><span style=\"font-weight:600;color:var(--text-secondary)\">.large</span><span>optimized oversized files, uploaded to release artifacts for sharing</span><span style=\"font-weight:600;color:var(--text-secondary)\">.pages</span><span>generated site builds from the Pages pipeline</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each one is gitignored. The 'shared' badge on .ledger means it syncs with collaborators via git push/pull â€” everything else stays local to your machine.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "code",
                    "content": "An infrastructure directory managed by the control plane.",
                    "selector": "#wiz-content-infra-list > div",
                    "variants": [
                        {
                            "when": {
                                "textContains": ".ledger"
                            },
                            "content": "Git worktree for shared project data â€” chat threads, trace snapshots, and saved audit records.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“’ Ledger</div><div class=\"state-detail\">The ledger is a separate git branch checked out as a worktree at your project root. It stores:\n\nâ€¢ Chat threads and messages (from the ğŸ’¬ Chat tab)\nâ€¢ Execution traces (from traced operations)\nâ€¢ Saved audit snapshots (promoted from pending results)\n\nBadge: 'shared' means this data syncs with your remote repository via git push/pull. Collaborators get the same history.\n\nYou never interact with .ledger directly â€” the control plane handles all reads and writes through the ledger service.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".state"
                            },
                            "content": "Local cache â€” preferences, audit scores, pending audits, run history, and trace recordings.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Local State</div><div class=\"state-detail\">Machine-local storage for ephemeral and cached data:\n\nâ€¢ devops_prefs.json â€” your dashboard preferences\nâ€¢ devops_cache.json â€” cached scan results\nâ€¢ audit_activity.json â€” audit execution log\nâ€¢ audit_scores.json â€” audit score history\nâ€¢ pending_audits.json â€” audits awaiting review\nâ€¢ runs.jsonl â€” execution run history\nâ€¢ traces/ â€” local trace recordings before sharing\n\nNone of this leaves your machine. This directory is almost certainly present by now â€” the control plane creates it the first time any feature needs local persistence.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".backup"
                            },
                            "content": "Backup archives created from the Content tab's Archive view.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—„ï¸ Backups</div><div class=\"state-detail\">Compressed archive snapshots of folders you choose to protect. Created through the Archive view in the ğŸ“ Content tab.\n\nBackup archives can exist at any level â€” the root .backup holds project-wide archives, while individual content folders can have their own .backup subdirectories.\n\nFor off-machine protection, you can upload archives to GitHub release artifacts.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".large"
                            },
                            "content": "Optimized large files â€” gitignored, virtual in parent, uploadable to release artifacts.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Large Files</div><div class=\"state-detail\">When files over 2 MB are uploaded through the Content tab, they're automatically moved to a .large subdirectory. The original filename appears virtually in the parent folder â€” you browse and manage them normally.\n\n.large is gitignored, so large files don't bloat your repository. For sharing, they can be uploaded to GitHub release artifacts (â˜ï¸ icon in the Content tab).\n\nThis directory can appear at any folder level â€” not just inside configured content folders. The content browser's Explore All mode can work with .large directories anywhere in the project.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".pages"
                            },
                            "content": "Generated site output from the Pages pipeline.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Pages Output</div><div class=\"state-detail\">Build output from the Pages pipeline â€” your generated Docusaurus site, static assets, and deployment artifacts.\n\nThis directory is rebuilt on each deploy. It's not something you edit directly â€” changes flow from your source content through the Pages build process.\n\nğŸ’¡ If you see this without having used Pages yet, it was likely created by a previous build or site generation run.</div></div>"
                        }
                    ]
                },
                "children": []
            }
        ]
    },
    {
        "context": "wizard/integrations",
        "title": "Integrations & DevOps",
        "icon": "ğŸ”Œ",
        "content": "This step detects your environment and lets you choose which integrations are active. {{toolsInstalled}} of {{toolsTotal}} tools are available, {{filesDetected}} project files detected, and {{integrationCount}} integration cards are ready to configure.\n\nEach integration you enable here becomes a card on the dashboard â€” giving you one-click access to its setup, status, and operations.",
        "children": [
            {
                "id": "scan-bar",
                "title": "Scan Status",
                "icon": "ğŸ”",
                "selector": "#wiz-int-scan-bar",
                "content": "The control plane scans your project root and system PATH to detect available tools, project files, and integration readiness.",
                "expanded": "Results are cached in-memory and in your browser's session storage so you don't wait on every step change. The age shown is how long ago the last scan completed.\n\nHit ğŸ”„ Re-scan to force a fresh detection â€” useful after installing a tool or adding a Dockerfile.",
                "variants": [
                    {
                        "when": {
                            "textContains": "rescan recommended"
                        },
                        "content": "Files on disk have changed since the last scan â€” the detection results may be stale.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Stale</div><div class=\"state-detail\">The staleness watcher detected file changes in your project since the last scan. This means new or modified Dockerfiles, manifests, config files, or tool installations may not be reflected in the current detection.\n\nHit ğŸ”„ Re-scan to refresh. The scan is fast (< 2 seconds) and updates everything: tool availability, file detection, stack defaults, and integration status.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "fresh"
                        },
                        "content": "The scan is recent and up to date â€” detection results reflect the current state of your project.",
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ“ Fresh</div><div class=\"state-detail\">Scan completed less than 30 seconds ago. All tool checks, file detection, and integration status reflect the current state of your project.\n\nYou can still force a re-scan anytime if you've made changes since landing on this step.</div></div>"
                    }
                ],
                "children": []
            },
            {
                "id": "system-tools",
                "title": "System Tools",
                "icon": "ğŸ”§",
                "selector": "#wiz-int-tools-section",
                "content": "{{toolsInstalled}} of {{toolsTotal}} development tools are available on your system. These are the CLI binaries the control plane calls to perform real work â€” building images, running tests, scanning for vulnerabilities, deploying to clusters.",
                "expanded": "Tools marked âœ— are missing from your PATH. You can install them directly from here â€” pip-based tools install into your current virtualenv, while system tools need sudo.\n\nEvery tool here maps to a specific pipeline in the control plane. Missing tools don't block setup, but they'll limit what the corresponding integration cards can do.",
                "dynamic": true,
                "childTemplate": {
                    "selector": "[id^='wiz-int-tool-']",
                    "nameSelector": "code",
                    "title": "{{name}}",
                    "content": "Development tool used by the control plane.",
                    "variants": [
                        {
                            "when": {
                                "textContains": "âœ“ git"
                            },
                            "title": "git âœ“",
                            "icon": "âœ…",
                            "content": "Version control â€” the foundation everything else depends on.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Git is the bedrock of the control plane. Every integration below â€” GitHub, CI/CD, Docker, K8s â€” assumes a git repository exists.\n\nThe control plane uses git for: commit tracking, remote detection, branch awareness, .gitignore analysis, and the entire sync pipeline that pushes secrets and configs to GitHub.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "git"
                            },
                            "content": "Version control â€” the foundation everything else depends on.",
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Missing â€” Critical</div><div class=\"state-detail\">Git is not installed. This blocks nearly every integration â€” GitHub, CI/CD, Docker builds, and K8s deployments all assume a git repository.\n\nInstall it now. Without git, the control plane cannot detect your project structure or sync configurations.\n\nğŸ“¦ Installs via: sudo apt-get install git</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ gh"
                            },
                            "title": "gh âœ“",
                            "icon": "âœ…",
                            "content": "GitHub CLI â€” manages PRs, secrets, Actions, and environments from the terminal.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">The GitHub CLI is how the control plane interacts with your GitHub repository without needing API tokens or REST calls.\n\nUsed for: pushing secrets (gh secret set), syncing variables (gh variable set), dispatching workflows, creating deployment environments, and managing pull requests â€” all from the dashboard.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "gh"
                            },
                            "content": "GitHub CLI â€” manages PRs, secrets, Actions, and environments from the terminal.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without the GitHub CLI, you can't sync secrets to GitHub, dispatch workflows, or manage deployment environments from the control plane.\n\nThe control plane exclusively uses `gh` for all GitHub operations â€” no raw REST API calls. Install it to unlock the full GitHub integration.\n\nğŸ“¦ Installs via: sudo snap install gh</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ docker-compose"
                            },
                            "title": "docker-compose âœ“",
                            "icon": "âœ…",
                            "content": "Multi-service orchestration â€” manages docker-compose.yml stacks.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Docker Compose is available. The control plane uses it to parse your compose files, enumerate services, manage stack lifecycle (up/down/restart), and generate compose configurations with detected stack defaults.\n\nYour compose services will appear in the Docker integration card with per-service controls.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "docker-compose"
                            },
                            "content": "Multi-service orchestration â€” manages docker-compose.yml stacks.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Docker Compose orchestrates multi-container applications from a single YAML file. Without it, the control plane can't manage your compose stacks, start/stop services, or generate compose configurations.\n\nIf you only run single containers, this is optional. For multi-service setups (API + database + cache), it's essential.\n\nğŸ“¦ Installs via: sudo apt-get install docker-compose-v2</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ docker"
                            },
                            "title": "docker âœ“",
                            "icon": "âœ…",
                            "content": "Container runtime â€” builds images, runs containers, talks to the Docker daemon.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Docker is available. The control plane uses it for: building container images from your Dockerfile, running docker compose stacks, inspecting the daemon for running containers, and producing deployment artifacts.\n\nThe Docker integration card on the dashboard gives you image management, compose orchestration, and Dockerfile generation â€” all powered by this binary.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "docker"
                            },
                            "content": "Container runtime â€” builds images, runs containers, talks to the Docker daemon.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Docker is not installed. Without it, the control plane can't build container images, run compose stacks, or produce deployment artifacts.\n\nThe Docker integration card will still appear but will be limited to configuration â€” no builds or daemon interaction until Docker is available.\n\nğŸ“¦ Installs via: sudo apt-get install docker.io</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ kubectl"
                            },
                            "title": "kubectl âœ“",
                            "icon": "âœ…",
                            "content": "Kubernetes CLI â€” talks to clusters, applies manifests, inspects workloads.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">kubectl is available and the control plane can interact with Kubernetes clusters. Used for: applying manifests, inspecting pods/services/deployments, checking cluster connectivity, and the K8s manifest wizard.\n\nThe Kubernetes integration card uses kubectl for all cluster operations. Make sure your kubeconfig points to the right cluster.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "kubectl"
                            },
                            "content": "Kubernetes CLI â€” talks to clusters, applies manifests, inspects workloads.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without kubectl, the control plane can't communicate with Kubernetes clusters. The K8s integration card will be limited to manifest generation â€” no live cluster operations.\n\nIf you're not deploying to Kubernetes, this is safe to skip.\n\nğŸ“¦ Installs via: sudo snap install kubectl --classic</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ terraform"
                            },
                            "title": "terraform âœ“",
                            "icon": "âœ…",
                            "content": "Infrastructure as Code â€” provisions cloud resources from declarative configs.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Terraform is available. The control plane uses it for: scaffolding provider configurations, generating backend state configs, planning infrastructure changes, and integrating with the Terraform card on the dashboard.\n\nThe Terraform integration detects your providers, backend, and existing state to give you a clear picture of your infrastructure posture.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "terraform"
                            },
                            "content": "Infrastructure as Code â€” provisions cloud resources from declarative configs.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Terraform, the control plane can't scaffold IaC configs or inspect your infrastructure state. The Terraform card will be hidden by default unless you have a terraform/ directory.\n\nIf you manage infrastructure through other means (CloudFormation, Pulumi, manual), this is safe to skip.\n\nğŸ“¦ Installs via: sudo snap install terraform --classic</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ helm"
                            },
                            "title": "helm âœ“",
                            "icon": "âœ…",
                            "content": "Kubernetes package manager â€” manages charts, releases, and values files.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Helm is available. The control plane uses it alongside kubectl for: listing releases, inspecting chart values, and generating Helm-based deployment configurations in the K8s manifest wizard.\n\nHelm charts provide a higher-level abstraction over raw K8s manifests â€” especially useful for complex applications with many resources.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "helm"
                            },
                            "content": "Kubernetes package manager â€” manages charts, releases, and values files.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Helm, the control plane can still work with raw K8s manifests via kubectl. Helm adds chart management and release tracking on top.\n\nIf you deploy with raw YAML manifests, Helm is optional. If your project uses Helm charts, install it.\n\nğŸ“¦ Installs via: curl script (sudo required)</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ node"
                            },
                            "title": "node âœ“",
                            "icon": "âœ…",
                            "content": "Node.js runtime â€” required for npm, npx, and JavaScript-based tooling.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Node.js is available. The control plane uses it indirectly through npm/npx for: JavaScript linting (ESLint), formatting (Prettier), and the Pages pipeline (Docusaurus builds).\n\nIf your project includes JavaScript or TypeScript modules, Node.js enables their full toolchain integration.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "node"
                            },
                            "content": "Node.js runtime â€” required for npm, npx, and JavaScript-based tooling.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Node.js, JavaScript-based tools (ESLint, Prettier) and the Pages pipeline (Docusaurus) won't work. If your project is pure Python/Go/Rust, this is safe to skip.\n\nğŸ“¦ Installs via: sudo snap install node --classic</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ npm"
                            },
                            "title": "npm âœ“",
                            "icon": "âœ…",
                            "content": "Node package manager â€” installs JS dependencies and runs scripts.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">npm is available. Used by the control plane for: installing global tools (ESLint, Prettier), managing package.json dependencies, and running build scripts in JS/TS modules.\n\nThe Packages integration card uses npm for dependency auditing in Node.js projects.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "npm"
                            },
                            "content": "Node package manager â€” installs JS dependencies and runs scripts.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without npm, JavaScript tooling can't be installed and package.json projects can't be managed. Usually installed alongside Node.js.\n\nğŸ“¦ Installs via: sudo apt-get install npm</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ ruff"
                            },
                            "title": "ruff âœ“",
                            "icon": "âœ…",
                            "content": "Python linter and formatter â€” fast, Rust-powered, replaces flake8 + isort + black.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Ruff is available. The control plane uses it in the Quality pipeline and audit scoring â€” it checks Python code for style violations, import ordering, and common mistakes.\n\nRuff is an order of magnitude faster than traditional Python linters. Its results feed into the ğŸ”§ Code Quality card on the dashboard.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "ruff"
                            },
                            "content": "Python linter and formatter â€” fast, Rust-powered, replaces flake8 + isort + black.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Ruff, the Code Quality card can't run lint checks on Python code. The audit scoring system treats this as a gap in your quality posture.\n\nIt's a pip install â€” no sudo needed, installs into your current virtualenv.\n\nğŸ“¦ Installs via: pip install ruff</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ mypy"
                            },
                            "title": "mypy âœ“",
                            "icon": "âœ…",
                            "content": "Python static type checker â€” catches type errors before runtime.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">mypy is available. The control plane uses it in the Quality pipeline to verify type annotations across your Python codebase.\n\nType checking results feed into audit scoring. Projects with strict typing enabled score higher on the quality dimension.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "mypy"
                            },
                            "content": "Python static type checker â€” catches type errors before runtime.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without mypy, the Quality pipeline skips type checking. If your Python code uses type annotations, installing mypy will improve your audit quality score.\n\nğŸ“¦ Installs via: pip install mypy</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ pytest"
                            },
                            "title": "pytest âœ“",
                            "icon": "âœ…",
                            "content": "Python test runner â€” discovers and executes test suites.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">pytest is available. The control plane uses it in the Testing pipeline â€” running your test suite, collecting coverage data, and feeding results into the ğŸ§ª Testing card.\n\nTest results are a core input to audit scoring. Projects with passing tests and good coverage score significantly higher.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "pytest"
                            },
                            "content": "Python test runner â€” discovers and executes test suites.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without pytest, the Testing card can't run your test suite or collect coverage. The audit scoring system will flag the testing dimension as uncovered.\n\nğŸ“¦ Installs via: pip install pytest</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ pip-audit"
                            },
                            "title": "pip-audit âœ“",
                            "icon": "âœ…",
                            "content": "Python vulnerability scanner â€” checks installed packages against the PyPI advisory database.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">pip-audit is available. The control plane uses it in the Security pipeline to scan your Python dependencies for known CVEs.\n\nResults feed into the ğŸ” Security Posture card. It cross-references your installed packages against the PyPI advisory database and OSV.dev.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "pip-audit"
                            },
                            "content": "Python vulnerability scanner â€” checks installed packages against the PyPI advisory database.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without pip-audit, the Security card can't check your Python dependencies for known vulnerabilities. This is one of the three security scanners the control plane uses.\n\nğŸ“¦ Installs via: pip install pip-audit</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ bandit"
                            },
                            "title": "bandit âœ“",
                            "icon": "âœ…",
                            "content": "Python security linter â€” scans source code AST for common vulnerability patterns.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Bandit is available. The control plane uses it in the Security pipeline to perform static analysis on your Python source code â€” looking for hardcoded passwords, insecure function calls, SQL injection patterns, and similar issues.\n\nUnlike pip-audit (which checks dependencies), Bandit scans your own code.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "bandit"
                            },
                            "content": "Python security linter â€” scans source code AST for common vulnerability patterns.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Bandit, the Security card can't scan your Python source code for vulnerability patterns. It complements pip-audit (which checks dependencies) by inspecting your actual code.\n\nğŸ“¦ Installs via: pip install bandit</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ safety"
                            },
                            "title": "safety âœ“",
                            "icon": "âœ…",
                            "content": "Python dependency checker â€” cross-references packages against a known vulnerability database.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Safety is available. It provides a second opinion to pip-audit by checking your Python dependencies against its own vulnerability database.\n\nThe control plane runs both pip-audit and Safety for comprehensive coverage â€” they use different data sources and catch different issues.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "safety"
                            },
                            "content": "Python dependency checker â€” cross-references packages against a known vulnerability database.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Safety, you lose one of the two dependency vulnerability scanners. pip-audit and Safety complement each other â€” they use different databases and catch different CVEs.\n\nğŸ“¦ Installs via: pip install safety</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "file-detection",
                "title": "File Detection",
                "icon": "ğŸ“‹",
                "selector": "#wiz-int-files-section",
                "content": "{{filesDetected}} of {{filesTotal}} project files detected. These are the files and directories the control plane looks for to determine which integrations are relevant to your project.",
                "expanded": "Each pill represents a specific file or directory. Found files (â—) activate their corresponding integration by default â€” for example, a Dockerfile enables the Docker card, and a k8s/ directory enables Kubernetes.\n\nMissing files (â—‹) don't block anything â€” you can still enable integrations manually and the control plane will generate the missing files for you during setup.",
                "dynamic": true,
                "childTemplate": {
                    "selector": "#wiz-int-files-section > span",
                    "title": "{{name}}",
                    "content": "Project file or directory used for integration detection.",
                    "variants": [
                        {
                            "when": {
                                "textContains": "â— git repo"
                            },
                            "title": "git repo â—",
                            "content": "A .git directory exists â€” this project is under version control.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">The .git directory confirms this is a git repository. This is the foundation for Git, GitHub, and CI/CD integrations.\n\nThe control plane reads your remotes, branches, and commit history from this directory.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ git repo"
                            },
                            "title": "git repo â—‹",
                            "content": "No .git directory found â€” this project is not yet under version control.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No git repository detected. Run `git init` to initialize one. Without it, the Git, GitHub, and CI/CD integrations cannot function.\n\nThe control plane will still let you configure integrations, but they won't be operational until a repository exists.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— dockerfile"
                            },
                            "title": "dockerfile â—",
                            "content": "A Dockerfile exists at the project root â€” Docker image builds are possible.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a Dockerfile. The Docker integration card can build images, inspect layers, and integrate with your CI/CD pipeline for automated builds.\n\nThe control plane parses your Dockerfile to detect base images, exposed ports, and build stages.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ dockerfile"
                            },
                            "title": "dockerfile â—‹",
                            "content": "No Dockerfile at the project root.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No Dockerfile detected. The Docker integration can generate one for you based on your detected stack â€” including the right base image, dependencies, and port exposure.\n\nUse the âš™ï¸ Setup button on the Docker card to scaffold a Dockerfile.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— docker compose"
                            },
                            "title": "docker compose â—",
                            "content": "A docker-compose.yml exists â€” multi-service orchestration is configured.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a compose file. The Docker integration parses it to enumerate services, detect ports, and provide per-service management from the dashboard.\n\nServices from your compose file appear in the Docker card with start/stop/restart controls.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ docker compose"
                            },
                            "title": "docker compose â—‹",
                            "content": "No docker-compose.yml or docker-compose.yaml found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No compose file detected. If your project needs multiple services (API + database + cache), the Docker setup wizard can generate a compose file with detected stack defaults.\n\nSingle-container projects often don't need compose at all.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— k8s manifests"
                            },
                            "title": "k8s manifests â—",
                            "content": "A k8s/ or kubernetes/ directory exists â€” Kubernetes manifests are present.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Kubernetes manifests detected. The K8s integration card can apply these to your cluster, inspect their status, and generate additional manifests through the K8s wizard.\n\nThe manifest wizard supports Deployments, Services, ConfigMaps, Secrets, PVCs, Ingress, and more.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ k8s manifests"
                            },
                            "title": "k8s manifests â—‹",
                            "content": "No k8s/ or kubernetes/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No Kubernetes manifest directory detected. If you plan to deploy to K8s, the manifest wizard can generate a complete set of manifests based on your project's stack and requirements.\n\nEnable the Kubernetes integration to get started.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— terraform dir"
                            },
                            "title": "terraform dir â—",
                            "content": "A terraform/ directory or main.tf exists â€” infrastructure as code is configured.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Terraform configuration detected. The Terraform integration card can inspect your providers, backend configuration, and state to give you infrastructure visibility from the dashboard.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ terraform dir"
                            },
                            "title": "terraform dir â—‹",
                            "content": "No terraform/ directory or main.tf found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No Terraform configuration detected. The Terraform integration can scaffold a complete IaC setup â€” provider config, backend state, and resource templates â€” tailored to your cloud provider.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— github actions"
                            },
                            "title": "github actions â—",
                            "content": "GitHub Actions workflows exist in .github/workflows/.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">GitHub Actions workflows detected. The CI/CD integration card can list, enable, disable, and dispatch these workflows. It also detects which secrets and variables each workflow needs.\n\nThe control plane can generate additional workflows (cron-based pipelines, deployment workflows) through the CI/CD setup.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ github actions"
                            },
                            "title": "github actions â—‹",
                            "content": "No .github/workflows/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No GitHub Actions workflows detected. The CI/CD integration can generate a pipeline workflow that runs your project's tests, security scans, and builds on push and on a schedule.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— pyproject"
                            },
                            "title": "pyproject â—",
                            "content": "pyproject.toml found â€” Python project metadata and dependencies are defined.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a pyproject.toml. The control plane reads this for: dependency lists (used by security scanners), version metadata, build configuration, and tool settings (ruff, mypy, pytest).\n\nThis is the modern standard for Python project configuration.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ pyproject"
                            },
                            "title": "pyproject â—‹",
                            "content": "No pyproject.toml found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No pyproject.toml detected. If this is a Python project, the control plane uses it for dependency scanning, tool configuration, and build metadata. Without it, setup.py or requirements.txt are used as fallbacks.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— package json"
                            },
                            "title": "package json â—",
                            "content": "package.json found â€” Node.js project metadata and dependencies are defined.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a package.json. The control plane reads this for: dependency lists (npm audit), scripts, version metadata, and detected stack classification.\n\nThe Packages card uses this for npm dependency management and vulnerability scanning.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ package json"
                            },
                            "title": "package json â—‹",
                            "content": "No package.json found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No package.json detected. If this isn't a Node.js project, this is expected and safe to ignore.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— pages config"
                            },
                            "title": "pages config â—",
                            "content": "project.yml found â€” Pages pipeline configuration is available.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">project.yml is present. The Pages integration uses it for site generation settings â€” docs source directories, Docusaurus configuration, and deployment targets.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ pages config"
                            },
                            "title": "pages config â—‹",
                            "content": "No project.yml found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No project.yml detected. This file is generated by the Setup Wizard when you finish â€” it contains all your project configuration including module definitions, environment settings, and integration preferences.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— dns dir"
                            },
                            "title": "dns dir â—",
                            "content": "A dns/ directory exists â€” DNS configuration files are present.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">DNS configuration directory detected. The DNS & CDN integration card reads zone files and record definitions from this directory for domain management.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ dns dir"
                            },
                            "title": "dns dir â—‹",
                            "content": "No dns/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No DNS directory detected. The DNS integration can generate one with record templates for your domains when you set it up.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— cdn dir"
                            },
                            "title": "cdn dir â—",
                            "content": "A cdn/ directory exists â€” CDN configuration is present.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">CDN configuration directory detected. The DNS & CDN integration uses this for edge caching rules, origin settings, and CDN deployment configuration.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ cdn dir"
                            },
                            "title": "cdn dir â—‹",
                            "content": "No cdn/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No CDN directory detected. If you need CDN configuration for your static sites or APIs, the DNS & CDN integration can scaffold one during setup.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— cname file"
                            },
                            "title": "cname file â—",
                            "content": "A CNAME file exists â€” custom domain for GitHub Pages is configured.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">A CNAME file is present, pointing your GitHub Pages site to a custom domain. The Pages integration uses this for deployment URL resolution and DNS record validation.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ cname file"
                            },
                            "title": "cname file â—‹",
                            "content": "No CNAME file found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No CNAME file detected. Without it, GitHub Pages uses the default github.io subdomain. If you want a custom domain, the Pages setup can create this file for you.</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "integrations-section",
                "title": "Integrations",
                "icon": "ğŸ”Œ",
                "selector": "#wiz-int-section-integrations",
                "separator": true,
                "content": "These three integrations form the project's collaboration backbone â€” version control, remote hosting, and static site deployment.",
                "expanded": "Git, GitHub, and Pages work as a chain: Git provides the repository, GitHub connects it to a remote with CI/CD and secrets management, and Pages deploys your documentation or static site through that remote.\n\nEach card shows its current status and readiness. Enable or disable cards with the checkbox â€” disabled cards won't appear on the dashboard but can be re-enabled anytime.\n\nClick âš™ï¸ Setup on any card for inline configuration, or ğŸš€ Full Setup for the complete setup wizard with guided steps.",
                "children": [
                    {
                        "id": "git-card",
                        "title": "Git",
                        "icon": "ğŸ”€",
                        "selector": "#wiz-int-wrap-int-git",
                        "content": "Version control is the foundation of the control plane. Every integration â€” GitHub, CI/CD, Docker, K8s, Pages â€” depends on an initialized git repository with at least one remote.",
                        "expanded": "Git underpins the entire pipeline. The control plane uses it for commit tracking, remote detection, branch management, .gitignore analysis, and the sync pipeline that pushes secrets and configs to GitHub.\n\nThe checkbox enables or hides the Git card from the dashboard. Even disabled, git is still required by other integrations â€” GitHub reads your remotes, CI/CD triggers on push events, Docker builds embed commit SHAs in image labels, and the vault system from Step 3 relies on .gitignore to protect plaintext .env files.\n\nClick âš™ï¸ Setup to configure remotes, .gitignore, hooks, and initial commit in one pass.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ… ready"
                                },
                                "content": "Your repository is initialized and connected â€” the foundation is healthy. Every downstream integration (GitHub, CI/CD, Docker, Pages) builds on this.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Fully Configured</div><div class=\"state-detail\">The control plane can read your remotes, track branches, analyse .gitignore coverage, and manage commit hooks. This is the baseline that unlocks everything else.\n\nYour .gitignore protects the vault secrets from Step 3 â€” encrypted .env files, plaintext credentials, and auto-generated keys are all excluded from version control. Pre-commit hooks, if installed, enforce the lint and format tools detected in System Tools above before each commit reaches the repository.\n\nOpen âš™ï¸ Setup to fine-tune: add or remove remotes, regenerate .gitignore with stack-aware patterns, or wire pre-commit hooks into your toolchain. Use ğŸš€ Full Setup for the guided wizard with validation.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not configured"
                                },
                                "content": "Git is installed but this directory isn't a repository yet. Downstream integrations (GitHub, CI/CD) are blocked until you initialize one.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Repository</div><div class=\"state-detail\">The git binary is available but there's no .git/ directory in your project root. Without git init, the control plane can't detect remotes, branches, or .gitignore â€” and the GitHub and CI/CD cards below are stuck in an unconfigured state too.\n\nThis is the most actionable state â€” one setup pass fixes the entire chain. Click âš™ï¸ Setup to initialize the repository, choose a default branch, generate a stack-aware .gitignore, and optionally create an initial commit.\n\nAfter applying, hit ğŸ”„ Re-scan in the scan bar above. The GitHub card will update to reflect the new repository, CI/CD workflow generation becomes available, and the File Detection pills will show the git repo as found.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not installed"
                                },
                                "content": "Git is not installed on this system. This is the single most critical blocker â€” every integration depends on it, directly or transitively.",
                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Critical â€” Not Installed</div><div class=\"state-detail\">Without git, the control plane cannot initialize a repository, detect project structure, sync configurations, or interact with any remote service. Every integration card below â€” GitHub, CI/CD, Docker, K8s, Terraform, Pages, DNS â€” depends on git either directly or through the repository it manages.\n\nThe vault system from Step 3 also needs a repository so that .gitignore can protect plaintext .env files from accidental commits. The chat sync feature uses git push/pull for message replication.\n\nInstall git first, then hit ğŸ”„ Re-scan in the scan bar above. All other integrations will unblock once the binary is on your PATH.\n\nğŸ“¦ Install: sudo apt-get install git</div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "git-setup",
                                "title": "Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-git",
                                "content": "The Git setup panel configures your repository in one pass â€” initialization, remotes, .gitignore, hooks, and initial commit. Hit âœ… Apply to execute all changes in sequence.",
                                "expanded": "The status strip at the top shows what's already in place (âœ“ green) and what's missing (â—‹ gray). Each section below targets one aspect of git configuration.\n\nChanges are applied when you click âœ… Apply â€” nothing runs until then. The panel re-detects after applying, so all cards and pills update to reflect the new state.\n\nThis is the inline version. For a more guided experience with step-by-step validation, use ğŸš€ Full Setup instead.",
                                "children": [
                                    {
                                        "id": "git-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-git-status-strip",
                                        "content": "At-a-glance health check â€” each pill tracks one aspect of your git configuration. Green (âœ“) means configured, gray (â—‹) means missing or not yet set up.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Configuration Overview</div><div class=\"state-detail\">The status strip provides a quick visual summary of your repository's setup state. Each pill corresponds to a section below where you can configure the missing piece.\n\nThe strip updates after every Apply or re-scan. It reads live detection data from the backend â€” not cached state â€” so it always reflects the current reality on disk.\n\nHover any individual pill for details about that specific check and what to do if it's showing a failure state.</div></div>",
                                        "children": [
                                            {
                                                "id": "git-pill-binary",
                                                "title": "Git Binary",
                                                "icon": "ğŸ’»",
                                                "selector": "#wiz-git-pill-binary",
                                                "content": "Whether the git binary is installed and available on your system PATH.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’» Git Installation</div><div class=\"state-detail\">This pill checks if the git executable is reachable. The version number shown is the installed version.\n\nGit is the foundation â€” every other pill, section, and the entire GitHub integration depends on it. If this shows âœ—, nothing else in this panel works.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ git"
                                                        },
                                                        "content": "Git is installed and available. The version number is detected from git --version.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Git Available</div><div class=\"state-detail\">The git binary was found on PATH and responded to version check. All git operations are unblocked.\n\nThe version shown is informational â€” the control plane works with any modern git version (2.x+).</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âœ— git"
                                                        },
                                                        "content": "Git is not installed â€” this blocks every integration in this panel.",
                                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Git Missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The git executable was not found on PATH. This blocks:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Repository initialization</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remote management</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ .gitignore generation</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Hook installation</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Commit operations</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The entire GitHub integration</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Install git first, then re-scan to refresh this panel.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-repo",
                                                "title": "Repository",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-git-pill-repo",
                                                "content": "Whether a .git/ directory exists â€” indicates the project is a git repository.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Repository Status</div><div class=\"state-detail\">This pill checks for a .git/ directory in your project root. The branch name after the dot shows your current HEAD branch.\n\nInitialization creates the .git/ directory, which stores all version control metadata â€” commits, branches, refs, hooks, and configuration.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ repo"
                                                        },
                                                        "content": "Repository is initialized â€” the branch name shown is your current HEAD.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Repository Initialized</div><div class=\"state-detail\">A .git/ directory exists. The branch name after 'repo Â·' is your current HEAD â€” this is the active branch that commits will target.\n\nWith a repository in place, all other operations are unblocked: adding remotes, generating .gitignore, installing hooks, and making commits.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no repo"
                                                        },
                                                        "content": "No repository â€” git init will be run when you Apply.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Not Initialized</div><div class=\"state-detail\">No .git/ directory found. The project is not under version control yet.\n\nWhen you hit âœ… Apply, the control plane runs git init to create the repository. The default branch name is set from the Default Branch field below.\n\nUntil initialized: no commits, no branches, no remotes, no hooks.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-remotes",
                                                "title": "Remotes Count",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-git-pill-remotes",
                                                "content": "How many remotes are configured â€” at least one (origin) is needed for push/pull and GitHub features.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Remote Count</div><div class=\"state-detail\">This pill counts all configured remotes (git remote -v). The number includes both origin and any additional remotes like upstream or deploy.\n\nThe GitHub integration reads the origin remote to determine your repository â€” no remotes means no GitHub features.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "remote(s)"
                                                        },
                                                        "content": "At least one remote is configured â€” push/pull and GitHub integration are available.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Remotes Configured</div><div class=\"state-detail\">Your repository has one or more remotes. The origin remote is used by the GitHub integration to determine your repository slug for secrets sync, PR management, workflow dispatch, and Pages deployment.\n\nYou can manage remotes in the Remotes section below â€” add new ones or remove existing ones.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no remotes"
                                                        },
                                                        "content": "No remotes â€” push/pull and all GitHub features are blocked.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Remotes</div><div class=\"state-detail\">Without remotes, your repository is local-only. The control plane can't push code, sync secrets, dispatch CI/CD workflows, or deploy Pages.\n\nOpen the Remotes section below to add origin. If the GitHub CLI is authenticated, the URL may be pre-filled.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-gitignore",
                                                "title": "Gitignore Status",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-git-pill-gitignore",
                                                "content": "Whether .gitignore exists and what percentage of recommended patterns it covers.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Coverage Check</div><div class=\"state-detail\">This pill shows two things: whether a .gitignore file exists, and if so, what percentage of recommended patterns (for your detected stacks) are present.\n\n100% means every recommended pattern is covered. Lower percentages mean gaps exist â€” potential for secrets or build artifacts to leak into version control.\n\nOpen the .gitignore section below for details on what's missing and to regenerate.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ .gitignore"
                                                        },
                                                        "content": "File exists â€” the percentage shows recommended pattern coverage for your stacks.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… .gitignore Present</div><div class=\"state-detail\">A .gitignore file exists in your project root. The percentage reflects how many recommended patterns for your detected stacks are included.\n\n100% means complete coverage. Below 100% means some recommended patterns are missing â€” check the .gitignore section below to see which ones and regenerate if needed.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no .gitignore"
                                                        },
                                                        "content": "No .gitignore file â€” secrets and build artifacts could be committed.",
                                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ No .gitignore</div><div class=\"state-detail\">No .gitignore file was found. This is a security risk â€” without it, git add . would stage everything including .env files with secrets, build artifacts, and dependency directories.\n\nOpen the .gitignore section below and check 'Create .gitignore' to generate one based on your detected stacks.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-hooks",
                                                "title": "Hooks Count",
                                                "icon": "ğŸª",
                                                "selector": "#wiz-git-pill-hooks",
                                                "content": "How many git hooks are installed â€” hooks automate quality checks before commits and pushes.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸª Hook Count</div><div class=\"state-detail\">This pill counts executable files in .git/hooks/ (excluding samples). Hooks are local scripts that git runs automatically at specific lifecycle events.\n\nThe most common hook is pre-commit â€” it runs checks before each commit. If the checks fail, the commit is blocked.\n\nIf lint or format tools are detected in your stack and no hooks exist, the Pre-commit Hook section below offers to install one.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "hook(s)"
                                                        },
                                                        "content": "Hooks are installed â€” quality checks run automatically at git lifecycle events.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Hooks Active</div><div class=\"state-detail\">One or more git hooks are installed in .git/hooks/. These run automatically â€” typically before commits â€” to enforce code quality and catch issues early.\n\nThe hooks were either installed by the control plane or manually. You can inspect them at .git/hooks/ in your project root.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no hooks"
                                                        },
                                                        "content": "No hooks installed â€” commits go through unchecked.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Hooks</div><div class=\"state-detail\">No git hooks are installed. Commits are accepted without any automated checks.\n\nIf your stack has lint or format capabilities detected (shown in System Tools), the Pre-commit Hook section below can install a hook that runs those checks before every commit.\n\nHooks are a local first line of defense â€” the CI/CD pipeline provides the team-wide enforcement layer.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-remotes",
                                        "title": "Remotes",
                                        "icon": "ğŸŒ",
                                        "selector": "#wiz-git-section-remotes",
                                        "content": "Remotes connect your local repository to its hosted counterpart. Adding origin is the first step to enabling push, pull, and the entire GitHub integration chain.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Remote Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane reads your remotes to detect your GitHub repository, resolve the deployment target for Pages, and configure CI/CD workflow dispatch.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Naming conventions:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">origin</span><span>your primary remote, usually your own GitHub repo</span><span style=\"font-weight:600;color:var(--text-secondary)\">upstream</span><span>the parent repository if you're working from a fork</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If the GitHub CLI is authenticated, the remote URL is pre-filled from your gh repo info. The format should be https://github.com/owner/repo.git or git@github.com:owner/repo.git for SSH.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The GitHub integration card below reads the origin remote to determine which repository to target for secrets sync, PR management, and Actions dispatch. No remote = no GitHub features.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "no remotes"
                                                },
                                                "content": "No remotes configured â€” push, pull, and GitHub integration are blocked until you add at least origin.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Remotes</div><div class=\"state-detail\">Without a remote, your repository is local-only. The control plane can't push code, sync secrets to GitHub, dispatch workflows, or deploy Pages.\n\nAdd origin first â€” it's the primary remote that all GitHub features target. Type the remote name and URL below, then hit ï¼‹ Add.\n\nIf the GitHub CLI detected your repository, the URL is pre-filled. Otherwise, use the format: https://github.com/your-org/your-repo.git</div></div>"
                                            }
                                        ],
                                        "children": [
                                            {
                                                "id": "git-remote-name",
                                                "title": "Remote Name",
                                                "icon": "ğŸ·ï¸",
                                                "selector": "#wiz-git-remote-name",
                                                "content": "The remote name is a local alias for the hosted repository URL. It's how git references where to push and pull.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ Naming Convention</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Standard names and what they mean:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">origin</span><span>your primary repository. This is the default target for git push and git pull. The GitHub integration reads this remote to determine your repository slug.</span><span style=\"font-weight:600;color:var(--text-secondary)\">upstream</span><span>the parent repository you forked from. Used for syncing changes from the original project.</span><span style=\"font-weight:600;color:var(--text-secondary)\">deploy</span><span>some teams use a separate remote for deployment targets.</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If this is your first remote, the placeholder suggests \"origin\" â€” that's almost always the right choice. The name is local to your machine and can be changed later with git remote rename.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-remote-url",
                                                "title": "Remote URL",
                                                "icon": "ğŸ”—",
                                                "selector": "#wiz-git-remote-url",
                                                "content": "The remote URL points to your hosted repository â€” this is where git push sends your code and where GitHub integration reads your project from.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— URL Format</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Two formats work:</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â€” Works out of the box, authenticates via git credential manager or token.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ HTTPS: https://github.com/owner/repo.git</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â€” Requires SSH key setup. The control plane can detect SSH auth status and prompt for passphrase unlock when needed.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ SSH: git@github.com:owner/repo.git</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If the GitHub CLI (gh) is authenticated and detected your repository, this field is pre-filled with the HTTPS URL. You can switch to SSH if your workflow prefers it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The URL you set here becomes the target for all GitHub operations â€” secrets sync, PR management, workflow dispatch, and Pages deployment.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-add-remote",
                                                "title": "Add Remote",
                                                "icon": "ï¼‹",
                                                "selector": "#wiz-git-add-remote-btn",
                                                "content": "Adds the remote immediately â€” this runs git remote add right now, not on Apply. The page re-detects after adding so all cards update.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ï¼‹ Instant Action</div><div class=\"state-detail\">Unlike other setup options that wait for âœ… Apply, adding a remote executes immediately via the /git/remote/add API endpoint. The reason: remotes affect detection results, so re-scanning after add gives accurate status for all other cards.\n\nAfter adding, the remote appears in the list above with a âœ— remove button. The GitHub card will update on the next re-scan to reflect the new remote.\n\nIf the name field is empty, it defaults to the placeholder value (\"origin\" for the first remote, \"upstream\" for additional ones).</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-remotes-list",
                                                "title": "Configured Remotes",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-git-remotes-list",
                                                "content": "Your configured remotes â€” each row shows the name, URL, and a remove button. Removal is immediate and triggers re-detection.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Remote Registry</div><div class=\"state-detail\">Each row in this list is a configured git remote. The name (origin, upstream) is a local alias, the URL is the hosted repository endpoint.\n\nThe âœ— button removes a remote immediately (git remote remove) â€” this is irreversible. After removal, the page re-detects so all cards and pills update. If you remove origin, the GitHub integration will lose its target repository.\n\nRemotes are stored in .git/config and are local to your machine â€” they don't affect other developers working on the same repository.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-gh-hint",
                                                "title": "GitHub CLI Hint",
                                                "icon": "ğŸ™",
                                                "selector": "#wiz-git-gh-hint",
                                                "content": "The GitHub CLI detected your repository and pre-filled the remote URL. You can change it before adding.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ™ Auto-Detection</div><div class=\"state-detail\">The GitHub CLI (gh) command was found on your system and is authenticated. It identified a repository associated with this project directory.\n\nThe pre-filled URL uses the HTTPS format by default. You can change it to SSH (git@github.com:owner/repo.git) if your workflow uses SSH authentication.\n\nThis hint only appears when gh is installed, authenticated, and successfully resolved a repository slug for the current directory.</div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-gitignore",
                                        "title": ".gitignore",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-git-section-gitignore",
                                        "content": "The .gitignore controls what git tracks. Proper coverage prevents secrets, build artifacts, and environment files from being committed â€” this is the first line of defense for your vault.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ .gitignore Coverage</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane analyses your .gitignore against a catalog of expected patterns for your detected stacks. Coverage percentage reflects how many recommended patterns are present.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Critical patterns (always needed):</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.env, .env.*</span><span>vault secrets from Step 3</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.vault</span><span>encrypted vault files (extra protection layer)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Stack-specific patterns are added based on your detected modules â€” the generator reads your stack definitions to determine which build artifacts, dependency directories, and compiled output directories to exclude.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generator produces a comprehensive .gitignore in one pass. It's safe to regenerate â€” the generated file includes all your existing custom patterns.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "100%"
                                                },
                                                "content": "Your .gitignore covers all recommended patterns for your detected stacks. Secrets, build artifacts, and environment files are protected.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Full Coverage</div><div class=\"state-detail\">Every recommended pattern for your project's stacks is present in .gitignore. This means secrets from Step 3, build artifacts, and environment-specific files are all excluded from version control.\n\nYou can still open this section to regenerate if your stacks change â€” the generator always includes existing custom patterns alongside the recommended ones.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "missing)"
                                                },
                                                "content": "No .gitignore file exists. Without it, secrets, build artifacts, and environment files could be committed to the repository.",
                                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ No .gitignore</div><div class=\"state-detail\">This is a security risk. Without .gitignore, git tracks everything â€” including plaintext .env files from Step 3, build artifacts, dependency directories, and IDE configuration.\n\nThe \"Create .gitignore\" checkbox generates a comprehensive file based on your detected stacks. It includes universal security patterns (blocking .env, credentials, keys) plus stack-specific patterns for build artifacts and dependency directories relevant to your stack.\n\nThis should be the first thing you fix â€” even before adding remotes. A .gitignore protects you from day one.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "Missing"
                                                },
                                                "content": "Your .gitignore has gaps â€” some recommended patterns for your stacks are missing. Regenerating adds them without losing your custom entries.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Incomplete Coverage</div><div class=\"state-detail\">The analysis found patterns recommended for your detected stacks that aren't in your .gitignore. Missing patterns are shown as red pills â€” each represents a file type or directory that could leak into version control.\n\nCommon gaps include build output directories, dependency caches, compiled artifacts, IDE configs (.vscode/, .idea/), and OS files (.DS_Store).\n\nCheck the \"Regenerate .gitignore\" checkbox and hit âœ… Apply to fill the gaps. The generator preserves your existing custom patterns and adds the missing recommended ones on top.</div></div>"
                                            }
                                        ],
                                        "children": [
                                            {
                                                "id": "git-regen-gi",
                                                "title": "Regenerate .gitignore",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-git-regen-gi",
                                                "content": "Regenerates your .gitignore with stack-aware patterns â€” fills gaps without removing your existing custom entries.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Stack-Aware Regeneration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generator reads your detected stacks (from Step 2 modules) and the security catalog to produce a comprehensive .gitignore.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it adds:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Universal security patterns</span><span>.env, .env.*, credentials, private keys</span><span style=\"font-weight:600;color:var(--text-secondary)\">Stack-specific patterns</span><span>build artifacts, dependency directories, and compiled output relevant to your detected language and framework stacks</span><span style=\"font-weight:600;color:var(--text-secondary)\">IDE and OS patterns</span><span>.vscode/, .idea/, .DS_Store, Thumbs.db</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it preserves:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Any custom patterns you've added manually</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Comments and section headers in your existing file</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This checkbox is pre-checked when the analysis detected gaps. Uncheck it if you want to manage .gitignore manually. The regeneration runs on âœ… Apply along with all other setup steps.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-create-gi",
                                                "title": "Create .gitignore",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-git-create-gi",
                                                "content": "Creates a new .gitignore from scratch â€” generated from your detected stacks with security-first defaults.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ New File Generation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This creates a brand-new .gitignore file in your project root. The generated file includes:</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">1. Security patterns (always included):</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.env, .env.*</span><span>blocks vault secrets from Step 3</span><span style=\"font-weight:600;color:var(--text-secondary)\">*.pem, *.key</span><span>blocks private keys and certificates</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.vault</span><span>blocks encrypted vault archives</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Build artifacts, dependency directories, and compiled output specific to your detected language and framework stacks.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ Stack patterns (based on detected modules):</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">3. Common patterns:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.DS_Store, Thumbs.db</span><span>OS artifacts</span><span style=\"font-weight:600;color:var(--text-secondary)\">.vscode/, .idea/</span><span>IDE configs</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the single most important file to create before your first commit. Without it, git add . would stage everything â€” including secrets.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-missing-patterns",
                                                "title": "Missing Patterns",
                                                "icon": "âš ï¸",
                                                "selector": "#wiz-git-missing-patterns",
                                                "content": "Each red pill is a pattern recommended for your detected stacks that's missing from .gitignore. Check 'Regenerate' and Apply to add them all.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Gap Analysis</div><div class=\"state-detail\">The control plane compares your .gitignore against a catalog of recommended patterns for each detected stack. Each red pill represents a pattern that should be present but isn't.\n\nPatterns are matched by your stack's language family and framework â€” the catalog knows which build outputs, dependency directories, and compiled artifacts each stack produces.\n\nChecking 'Regenerate .gitignore' and hitting âœ… Apply adds all missing patterns in one pass without removing your existing custom entries. Up to 5 are shown here â€” if there are more, the count is displayed.</div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-hooks",
                                        "title": "Pre-commit Hook",
                                        "icon": "ğŸª",
                                        "selector": "#wiz-git-section-hooks",
                                        "content": "Pre-commit hooks run your lint and format tools automatically before each commit â€” catching issues before they reach the repository and enforcing code quality at the gate.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸª Automated Quality Gate</div><div class=\"state-detail\">This section appears when lint or format tools are detected in your stack but no pre-commit hook is installed yet. The hook runs automatically before every git commit â€” if the checks fail, the commit is blocked.\n\nThe commands wired into the hook come from your stack's capabilities, detected from the System Tools section above. The green pills below show which commands were detected and will be included in the hook script.\n\nThe hook is a simple shell script installed at .git/hooks/pre-commit. It runs each command in sequence and aborts the commit on any failure. This is the lightest quality gate â€” no CI required, runs locally, instant feedback.\n\nCheck the box and hit âœ… Apply to install it.</div></div>",
                                        "children": [
                                            {
                                                "id": "git-setup-hooks-check",
                                                "title": "Install Hook",
                                                "icon": "â˜‘ï¸",
                                                "selector": "#wiz-git-setup-hooks",
                                                "content": "Check this to install a pre-commit hook that runs your lint and format commands before every commit.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜‘ï¸ Hook Installation</div><div class=\"state-detail\">When checked, âœ… Apply creates a shell script at .git/hooks/pre-commit with the commands detected from your stack capabilities:\n\nFor each capability found in System Tools above, the hook runs the corresponding check command. If any check fails (non-zero exit), the commit is aborted and you see the error output.\n\nThe hook file is a standard git hook â€” you can edit it manually after installation. It's not versioned (lives in .git/hooks/ which is gitignored by default), so each developer needs to install it locally.\n\nFor team-wide enforcement, the CI/CD pipeline runs the same checks â€” the hook is just a fast local pre-check to catch issues before pushing.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-hook-commands",
                                                "title": "Detected Commands",
                                                "icon": "ğŸ”§",
                                                "selector": "#wiz-git-hook-commands",
                                                "content": "These are the check commands detected from your stack's capabilities. They'll be wired into the pre-commit hook script.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Stack Capabilities</div><div class=\"state-detail\">Each green pill represents a command detected from your stack definition's capabilities section. These commands are what the pre-commit hook will run before each commit.\n\nThe commands are not hardcoded â€” they come from your stack's YAML definition (discovered in Step 2). If your stack defines lint, format, or test capabilities, those commands appear here.\n\nThe hook runs each command in sequence. If any exits non-zero, the commit is blocked and the error output is shown.</div></div>",
                                                "children": [
                                                    {
                                                        "id": "git-hook-lint",
                                                        "title": "Lint Check",
                                                        "icon": "ğŸ”",
                                                        "selector": "#wiz-git-hook-lint",
                                                        "content": "The lint command from your stack's capabilities â€” runs static analysis to catch code issues before commit.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Static Analysis</div><div class=\"state-detail\">This is the lint command detected from your stack definition. Linting performs static analysis on your source code â€” catching bugs, style violations, and suspicious patterns without running the code.\n\nIn the pre-commit hook, this command runs in check mode (read-only). If it finds issues, the commit is blocked and you see the lint errors in your terminal.\n\nThe specific command shown here comes from your stack's 'lint' capability in its YAML definition.</div></div>",
                                                        "children": []
                                                    },
                                                    {
                                                        "id": "git-hook-format",
                                                        "title": "Format Check",
                                                        "icon": "âœ¨",
                                                        "selector": "#wiz-git-hook-format",
                                                        "content": "The format command from your stack's capabilities â€” checks code formatting consistency before commit.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ¨ Formatting Verification</div><div class=\"state-detail\">This is the format command detected from your stack definition. Format checking verifies that your code follows consistent style rules â€” indentation, spacing, line length, and other formatting conventions.\n\nIn the pre-commit hook, this runs in check/verify mode â€” it reports formatting issues without modifying files. If unformatted code is found, the commit is blocked.\n\nThe specific command shown here comes from your stack's 'format' capability in its YAML definition.</div></div>",
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-initial-commit",
                                        "title": "Initial Commit",
                                        "icon": "ğŸ’¾",
                                        "selector": "#wiz-git-section-commit",
                                        "content": "An initial commit anchors the repository â€” it's the baseline that all future changes are measured against and the first entry in your project's history.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ First Commit</div><div class=\"state-detail\">This section appears when the repository has no commits yet â€” either freshly initialized or never committed to. The initial commit typically includes your project.yml, .gitignore, and any existing source files.\n\nThe commit message defaults to \"Initial commit\" but you can customize it. The commit runs git add . followed by git commit -m after all other setup steps (remotes, .gitignore, hooks) have been applied â€” so the first commit captures a clean, properly configured state.\n\nAfter this commit, git log will show history, branch operations will work, and push to origin becomes possible.</div></div>",
                                        "children": [
                                            {
                                                "id": "git-init-commit-check",
                                                "title": "Create Commit",
                                                "icon": "â˜‘ï¸",
                                                "selector": "#wiz-git-init-commit",
                                                "content": "Check this to create an initial commit after all other setup steps complete â€” this anchors the repository with a clean starting state.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜‘ï¸ Initial Commit Toggle</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">When checked, âœ… Apply runs git add . followed by git commit -m with your message after completing all other steps (.gitignore generation, hook installation, branch setup).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This ordering matters: the .gitignore is created BEFORE the commit, so the first commit already respects ignore rules. Secrets and build artifacts won't be staged.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The initial commit gives you:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A baseline for git diff and git log</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A branch HEAD that enables push to remote</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A commit SHA that Docker builds can embed in image labels</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Leave unchecked if you want to review staged files before committing manually.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-commit-msg",
                                                "title": "Commit Message",
                                                "icon": "ğŸ’¬",
                                                "selector": "#wiz-git-commit-msg",
                                                "content": "The message for your initial commit â€” defaults to 'Initial commit' but you can describe what the first snapshot contains.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¬ First Message</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The commit message appears in git log and on GitHub's commit history. For initial commits, common patterns:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">\"Initial commit\"</span><span>the classic default</span><span style=\"font-weight:600;color:var(--text-secondary)\">\"Initial project setup with devops-control-plane\"</span><span>more descriptive</span><span style=\"font-weight:600;color:var(--text-secondary)\">\"chore: bootstrap project structure\"</span><span>conventional commits format</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This message is passed directly to git commit -m. It only applies if the \"Create initial commit\" checkbox above is checked.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After the initial commit, future commits should follow your team's commit message convention â€” conventional commits, gitmoji, or plain descriptive messages.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-branch",
                                        "title": "Default Branch",
                                        "icon": "ğŸŒ¿",
                                        "selector": "#wiz-git-branch",
                                        "content": "The default branch is your main development line â€” it determines the target for pull requests, the base for CI/CD triggers, and the name git uses when initializing.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ Branch Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Most projects use \"main\" â€” GitHub has defaulted to this since 2020. Some older projects still use \"master\" and that works too.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The control plane uses this branch name in several places:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD workflows trigger on push to this branch</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ GitHub PR targets default to this branch</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments reference this as the source branch</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The docker image tagging uses branch name as part of the version string</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Changing this after the initial setup is possible but requires renaming the branch (git branch -m old new) and updating any CI/CD workflow YAML that references the old name.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If you're starting fresh, stick with \"main\". If you have an existing repo, the current branch name is pre-filled.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "git-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-git",
                                        "content": "Executes all checked setup steps in sequence â€” .gitignore generation, hook installation, branch configuration, then initial commit if checked.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Execution Order</div><div class=\"state-detail\">When you click Apply, the control plane runs each checked step in a specific order:\n\n1. git init (if no repository exists)\n2. Branch rename (if different from current)\n3. .gitignore generation or regeneration\n4. Pre-commit hook installation\n5. git add . + git commit (if initial commit is checked)\n\nThis ordering is intentional â€” .gitignore is created before the commit, so the first snapshot already excludes secrets and build artifacts.\n\nAfter all steps complete, the panel re-detects and all status pills and cards update to reflect the new state. If any step fails, the error is shown and remaining steps are skipped.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "git-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-git",
                                        "content": "Closes the setup panel without applying any changes. Nothing is modified on disk.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard Changes</div><div class=\"state-detail\">Clicking Cancel collapses the setup panel and discards any unsaved field values. No git operations are performed â€” no files are created, modified, or deleted.\n\nYou can reopen the panel at any time by clicking âš™ï¸ Setup again. Field values will be re-populated from the current detection state, not from your previous unsaved edits.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "gh-card",
                        "title": "GitHub",
                        "icon": "ğŸ™",
                        "selector": "#wiz-int-wrap-int-github",
                        "content": "GitHub integration connects your local project to GitHub's API â€” environment management, secrets sync, CODEOWNERS automation, and Actions dispatch all flow through the gh CLI.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ… ready"
                                },
                                "content": "Authenticated as {{ghUser}} and linked to {{ghRepo}}. {{ghEnvAligned}} of {{ghEnvTotal}} environments aligned, {{ghWorkflows}} workflow(s) active. Open âš™ï¸ Setup to check what's left.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Fully Connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The gh CLI is authenticated and linked to {{ghRepo}}. The control plane can manage deployment environments, push vault secrets from Step 3, write CODEOWNERS for automatic PR review, and query workflow status.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Your integration health:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ {{ghEnvAligned}} of {{ghEnvTotal}} environments from Step 1 are on GitHub</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ {{ghWorkflows}} Actions workflow(s) detected</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Repository is {{ghVis}}</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Open âš™ï¸ Setup to drill into each dimension, or use ğŸš€ Full Setup for the guided wizard with repository creation and visibility management.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not configured"
                                },
                                "content": "The gh CLI is installed but not authenticated. Without a GitHub session, the control plane can't sync your {{envCount}} environments or push vault secrets.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Not Authenticated</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The GitHub CLI binary is on your system but hasn't been linked to a GitHub account. This blocks:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Creating your {{envCount}} environments on GitHub for CI/CD deployment gating</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pushing vault secrets so Actions workflows can use them</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Writing CODEOWNERS for automatic PR review assignment</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Querying repository metadata and workflow status</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Click âš™ï¸ Setup â†’ ğŸ”‘ Authenticate to run the OAuth flow. After authenticating, hit ğŸ”„ Re-scan â€” the card will update with your account, repository link, and full integration status.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not installed"
                                },
                                "content": "The gh CLI isn't installed. Without it, your {{envCount}} environments, vault secrets, and CODEOWNERS have to be managed manually on github.com.",
                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ CLI Not Available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The gh CLI is the bridge between your local project and GitHub's API. Without it, the control plane can't:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Create deployment environments for your CI/CD workflows</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Push the vault secrets you configured in Step 3</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Write CODEOWNERS for automatic review assignment</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Query repository status, visibility, or workflow health</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You'd have to do all of this manually through github.com.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Click âš™ï¸ Setup â†’ ğŸ“¦ Install gh. After installation, authenticate and re-scan â€” everything else unlocks from there.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ“¦ Install: https://cli.github.com or brew install gh</div></div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "gh-setup",
                                "title": "Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-github",
                                "content": "Your GitHub integration dashboard â€” authentication, repository link, environment alignment, CODEOWNERS, and secrets sync. What you see here depends on your gh CLI state.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ GitHub Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel adapts to your current state:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Not installed â†’ install prompt for the gh CLI binary</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Not authenticated â†’ OAuth login to link a GitHub account</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Authenticated â†’ full dashboard with {{ghEnvTotal}} environments, repository details, CODEOWNERS, and secrets sync</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Environments come from Step 1's project config. Secrets come from Step 3's vault. CODEOWNERS controls who reviews PRs. Everything here feeds into your CI/CD pipeline.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For the full guided experience with repository creation and visibility management, use ğŸš€ Full Setup instead.</div></div></div>",
                                "children": [
                                    {
                                        "id": "gh-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-gh-status-strip",
                                        "content": "Integration health at a glance â€” {{ghEnvAligned}} of {{ghEnvTotal}} environments aligned, {{ghWorkflows}} workflow(s), repo is {{ghVis}}. Green pills are working, gray ones need attention.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Integration Health</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill is one dimension of your GitHub integration:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Authentication</span><span>API access for all operations</span><span style=\"font-weight:600;color:var(--text-secondary)\">Account</span><span>the identity ({{ghUser}}) operations run under</span><span style=\"font-weight:600;color:var(--text-secondary)\">Repository</span><span>{{ghRepo}} is the target for CI/CD, Pages, and environments</span><span style=\"font-weight:600;color:var(--text-secondary)\">Visibility</span><span>{{ghVis}} controls who sees code, logs, and deployments</span><span style=\"font-weight:600;color:var(--text-secondary)\">Branch</span><span>{{ghBranch}} is the CI/CD trigger target and PR merge destination</span><span style=\"font-weight:600;color:var(--text-secondary)\">Environments</span><span>{{ghEnvAligned}} of {{ghEnvTotal}} aligned with Step 1</span><span style=\"font-weight:600;color:var(--text-secondary)\">CODEOWNERS</span><span>PR review automation status</span><span style=\"font-weight:600;color:var(--text-secondary)\">Workflows</span><span>{{ghWorkflows}} Actions pipeline(s) detected</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Gray pills aren't always blockers â€” missing CODEOWNERS means manual review, not broken CI/CD. But missing environments will stall workflows that use deployment gates.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "gh-pill-auth",
                                                "title": "Authentication",
                                                "icon": "ğŸ”‘",
                                                "selector": "#wiz-gh-pill-auth",
                                                "content": "You're authenticated â€” the control plane has API access to manage {{ghRepo}} on your behalf.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ“ Authenticated</div><div class=\"state-detail\">Your gh CLI session is active. The control plane can make API calls to GitHub as {{ghUser}} â€” creating environments, pushing secrets, writing CODEOWNERS, querying repository metadata.\n\nThe session persists until you explicitly log out or the OAuth token expires. If you see auth errors later, re-authenticate through the setup panel.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-user",
                                                "title": "Account",
                                                "icon": "ğŸ‘¤",
                                                "selector": "#wiz-gh-pill-user",
                                                "content": "Operating as {{ghUser}} â€” environment creation, secrets push, and CODEOWNERS writes all happen under this identity's permissions.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¤ {{ghUser}}</div><div class=\"state-detail\">All GitHub operations happen under {{ghUser}}'s permissions. If {{ghRepo}} is owned by an organization, this account needs the right access level â€” environment creation and secrets management typically require admin or maintain role.\n\nIf operations fail with permission errors, use the ğŸ”“ Logout button in the user card below to switch to an account with the necessary access.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-repo",
                                                "title": "Repository",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-gh-pill-repo",
                                                "content": "Linked to {{ghRepo}} â€” your CI/CD workflows, Pages deployments, and environment scoping all reference this repository.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "no repo"
                                                        },
                                                        "content": "No repository linked. You need a git remote pointing to GitHub â€” set one up in the Git card's remotes section, or create a new repo through ğŸš€ Full Setup.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â—‹ No Repository Linked</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The gh CLI can't find a GitHub repository for this project. This means either:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ No git remote is configured (check the Git card above)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The remote points to a non-GitHub host (GitLab, Bitbucket, etc.)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The repository doesn't exist on GitHub yet</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without a linked repo, environments can't be created, secrets can't be pushed, and CODEOWNERS has nowhere to live.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to create a new repository â€” it handles git remote add, initial push, and visibility settings in one flow.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ {{ghRepo}}</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is your project's home on GitHub. The slug is used by:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CI/CD</span><span>Actions workflows trigger on push to this repository</span><span style=\"font-weight:600;color:var(--text-secondary)\">Pages</span><span>deployments publish to GitHub Pages under this repo</span><span style=\"font-weight:600;color:var(--text-secondary)\">Environments</span><span>deployment environments are scoped per-repository</span><span style=\"font-weight:600;color:var(--text-secondary)\">Secrets</span><span>vault keys pushed here are available in Actions</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The ğŸ“¦ Repository section below has full details â€” visibility, default branch, description, and a direct link to GitHub.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-vis",
                                                "title": "Visibility",
                                                "icon": "ğŸ‘",
                                                "selector": "#wiz-gh-pill-vis",
                                                "content": "Your repo is {{ghVis}} â€” this affects who can see your code, Actions logs, and Pages deployments.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "private"
                                                        },
                                                        "content": "{{ghRepo}} is private â€” code, Actions logs, and Pages are restricted to collaborators only.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Private Repository</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Only collaborators with explicit access can see {{ghRepo}}:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Source code is not publicly visible</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ GitHub Actions logs are restricted to collaborators</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments require authentication (Enterprise) or are disabled</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Fork PRs from outside collaborators are not possible</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The vault system from Step 3 protects secrets from commits, but private visibility adds a second layer â€” even if something leaks into the repo, only collaborators see it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to change visibility â€” going public is irreversible for code that's already been seen.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "public"
                                                        },
                                                        "content": "{{ghRepo}} is public â€” your code, Actions logs, and Pages deployments are visible to everyone on the internet.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ Public Repository</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Anyone on the internet can see {{ghRepo}}:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Source code is fully visible</span><span>no secrets should ever be committed</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub Actions logs are public</span><span>workflow outputs are readable by anyone</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Pages deployments are accessible without authentication</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Anyone can fork and submit PRs (but fork PRs have limited secrets access)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Double-check your .gitignore coverage in the Git card â€” the vault's encrypted .env files and plaintext credentials must be excluded. Step 3's vault system handles this, but verify the Git card's .gitignore pill shows good coverage.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-branch",
                                                "title": "Default Branch",
                                                "icon": "ğŸŒ¿",
                                                "selector": "#wiz-gh-pill-branch",
                                                "content": "Default branch is {{ghBranch}} â€” PRs merge here, Actions trigger on push here, Pages deploy from here.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ {{ghBranch}}</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">{{ghBranch}} is where everything converges:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ PRs merge into {{ghBranch}}</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD workflows trigger on push to {{ghBranch}}</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments source from {{ghBranch}}</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This should match the branch in your CI/CD card's workflow YAML. If your workflow triggers on 'master' but GitHub's default is 'main', pushes won't fire the pipeline.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to change the default branch on GitHub.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-envs",
                                                "title": "Environments",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-gh-pill-envs",
                                                "content": "{{ghEnvAligned}} environment(s) exist on GitHub â€” CI/CD can target them for deployment gating and scoped secrets.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŒ {{ghEnvAligned}} Deployment Environment(s)</div><div class=\"state-detail\">These GitHub deployment environments match your Step 1 project config. When a CI/CD workflow uses environment: in a job, GitHub gates the deployment â€” it can require approvals, set wait timers, and scope secrets.\n\nEnvironment-scoped secrets mean your production DB_PASSWORD is only visible to jobs targeting the production environment. Development jobs can't see it â€” that's the separation you built in Step 3.\n\nSee the âš™ï¸ Environments section below for the full alignment breakdown.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-envs-missing",
                                                "title": "Missing Environments",
                                                "icon": "âš ï¸",
                                                "selector": "#wiz-gh-pill-envs-missing",
                                                "content": "{{ghEnvMissing}} environment(s) from Step 1 don't exist on GitHub yet â€” CI/CD workflows targeting them will stall at the deployment gate.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  {{ghEnvMissing}} Environment(s) Missing</div><div class=\"state-detail\">Your project defines {{ghEnvTotal}} environments in Step 1, but {{ghEnvMissing}} haven't been created on GitHub. If your CI/CD workflow uses environment: for those, GitHub can't deploy â€” the workflow stalls waiting for an environment that doesn't exist.\n\nScroll down to the âš™ï¸ Environments section â€” check the missing ones and click ğŸ†• Create. After creation, push scoped secrets through the ğŸ”’ Secrets section so each environment has its own credentials in Actions.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-codeowners",
                                                "title": "CODEOWNERS",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-gh-pill-codeowners",
                                                "content": "CODEOWNERS controls automatic PR review assignment â€” who gets notified when files in {{ghRepo}} are changed.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "CODEOWNERS âœ“"
                                                        },
                                                        "content": "CODEOWNERS is active on {{ghRepo}} â€” GitHub auto-assigns reviewers to PRs based on which files changed.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Review Automation Active</div><div class=\"state-detail\">Your CODEOWNERS file tells GitHub who should review changes to specific files in {{ghRepo}}. When a PR touches files matching a pattern, the listed owners are automatically added as reviewers.\n\nSee the ğŸ“‹ CODEOWNERS section below for the current rules. The most common pattern is * @owner which catches everything â€” add path-specific patterns for team members who own specific areas of the codebase.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "no CODEOWNERS"
                                                        },
                                                        "content": "No CODEOWNERS on {{ghRepo}} â€” every PR requires manual reviewer selection. Create one in the ğŸ“‹ section below.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ No Review Automation</div><div class=\"state-detail\">Without CODEOWNERS, every PR to {{ghRepo}} requires manual reviewer assignment. Works fine for solo projects, but as collaborators join, it's easy to miss adding the right reviewer for infrastructure, docs, or security-sensitive changes.\n\nScroll down to ğŸ“‹ CODEOWNERS to create one â€” the default template assigns {{ghUser}} to all files. Customize with path-specific rules for your team structure.</div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-workflows",
                                                "title": "Workflows",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-gh-pill-workflows",
                                                "content": "{{ghWorkflows}} Actions workflow(s) detected in {{ghRepo}} â€” these are your CI/CD pipelines, managed through the CI/CD card.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ {{ghWorkflows}} Workflow(s)</div><div class=\"state-detail\">These are YAML workflow files in .github/workflows/ of {{ghRepo}}. Each one defines a CI/CD pipeline â€” what triggers it, what it builds, what it tests, where it deploys.\n\nWorkflows are configured through the CI/CD integration card. The GitHub card shows the count to confirm the connection is healthy â€” {{ghRepo}} has active pipelines and the gh CLI can query their status.\n\nIf the count seems wrong, hit ğŸ”„ Re-scan in the scan bar above.</div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "gh-user-card",
                                        "title": "Account",
                                        "icon": "ğŸ‘¤",
                                        "selector": "#wiz-gh-user-card",
                                        "content": "Operating as {{ghUser}} â€” all GitHub API operations (environments, secrets, CODEOWNERS, visibility changes) happen under this identity.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¤ {{ghUser}}</div><div class=\"state-detail\">All operations the control plane performs on {{ghRepo}} â€” creating deployment environments, pushing vault secrets, writing CODEOWNERS â€” happen under {{ghUser}}'s permissions.\n\nIf {{ghRepo}} belongs to an organization, {{ghUser}} needs admin or maintain role for environment creation and secrets management.\n\nThe ğŸ”“ Logout button disconnects this account. After logging out, re-scan to get a fresh login prompt. Use this to switch accounts if operations fail due to insufficient permissions.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "gh-repo",
                                        "title": "Repository",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-gh-section-repo",
                                        "content": "{{ghRepo}} is {{ghVis}}, default branch is {{ghBranch}}. This is the repository your CI/CD, Pages, and environment scoping all target.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ {{ghRepo}}</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project's home on GitHub:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Visibility</span><span>{{ghVis}}. Controls who sees code, Actions logs, and Pages deployments.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Default branch</span><span>{{ghBranch}}. PRs merge here, Actions trigger here, Pages deploy from here.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Fork status</span><span>fork repos have limited secrets access for outside PRs.</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Open â†— link goes directly to {{ghRepo}} on GitHub. Use ğŸš€ Full Setup to change visibility or the default branch.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "ğŸ”’ private"
                                                },
                                                "content": "{{ghRepo}} is private, default branch is {{ghBranch}}. Code, Actions logs, and Pages are restricted to collaborators.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ {{ghRepo}} Â· private</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Only collaborators with explicit access can see {{ghRepo}}:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Source code is not publicly visible</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ GitHub Actions logs are restricted to collaborators</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments require Enterprise auth or are disabled</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Fork PRs from outside collaborators are blocked</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Default branch is {{ghBranch}} â€” PRs merge there, CI/CD triggers on push there.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The vault from Step 3 protects secrets from commits. Private visibility adds a second layer â€” even if something leaks into the repo, only collaborators see it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to change visibility â€” going public is irreversible for code that's already been seen.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "ğŸŒ public"
                                                },
                                                "content": "{{ghRepo}} is public, default branch is {{ghBranch}}. Code, Actions logs, and Pages are visible to everyone on the internet.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ {{ghRepo}} Â· public</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Anyone on the internet can see {{ghRepo}}:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Source code is fully visible</span><span>no secrets should ever be committed</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub Actions logs are public</span><span>workflow outputs readable by anyone</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Pages deployments are accessible without authentication</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Anyone can fork and submit PRs (fork PRs have limited secrets access)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Default branch is {{ghBranch}} â€” PRs merge there, CI/CD triggers on push there.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Double-check .gitignore coverage in the Git card â€” the vault's encrypted .env files and plaintext credentials must be excluded. Step 3's vault handles this, but verify the Git card's .gitignore pill shows good coverage.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "gh-envs",
                                        "title": "Environments",
                                        "icon": "âš™ï¸",
                                        "selector": "#wiz-gh-section-envs",
                                        "content": "All {{ghEnvTotal}} environments from Step 1 are on GitHub â€” CI/CD can target every one for deployment gating and scoped secrets.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… {{ghEnvTotal}}/{{ghEnvTotal}} Aligned</div><div class=\"state-detail\">All {{ghEnvTotal}} environments you defined in Step 1 exist as deployment environments on {{ghRepo}}. CI/CD workflows can target every one of them.\n\nWhen a workflow uses environment: production in a job, GitHub gates the deployment â€” it can require approvals, set wait timers, and scope secrets so production credentials are only available to production jobs.\n\nEnvironment-scoped secrets from ğŸ”’ Secrets are properly separated â€” your production DB_PASSWORD is invisible to development jobs.\n\nâ­ marks your default environment from Step 1 â€” the one pre-selected when working with secrets and variables.</div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ— missing"
                                                },
                                                "content": "{{ghEnvAligned}} of {{ghEnvTotal}} aligned â€” {{ghEnvMissing}} environment(s) still need to be created on GitHub for CI/CD deployment gating.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  {{ghEnvMissing}} of {{ghEnvTotal}} Missing</div><div class=\"state-detail\">{{ghEnvMissing}} of your {{ghEnvTotal}} environments from Step 1 don't exist on GitHub yet. CI/CD workflows that reference these with environment: will stall â€” GitHub can't deploy to an environment that doesn't exist.\n\nCheck the boxes next to the missing ones and click ğŸ†• Create. After creation, push scoped secrets through ğŸ”’ Secrets so each environment has its own credentials in Actions.\n\nThis takes seconds and is reversible â€” environments can be deleted from GitHub's repository settings.</div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "gh-codeowners",
                                        "title": "CODEOWNERS",
                                        "icon": "ğŸ“‹",
                                        "selector": "#wiz-gh-section-codeowners",
                                        "content": "CODEOWNERS automates PR review assignment on {{ghRepo}} â€” GitHub reads this file to decide who reviews changes to which files.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Review Automation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The CODEOWNERS file lives at .github/CODEOWNERS in {{ghRepo}} and tells GitHub who to assign as reviewers when a PR changes specific files.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Pattern format:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">* @owner</span><span>assigns the owner to ALL files (catch-all)</span><span style=\"font-weight:600;color:var(--text-secondary)\">/src/infra/ @platform-team</span><span>scopes to infrastructure</span><span style=\"font-weight:600;color:var(--text-secondary)\">*.md @docs-team</span><span>scopes to documentation</span><span style=\"font-weight:600;color:var(--text-secondary)\">/src/security/ @security @lead</span><span>multiple reviewers</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Patterns match top-to-bottom, last match wins. The catch-all should be first, with specific overrides below.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This file is committed to your repository â€” it's versioned and reviewable like any other code change.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "(exists)"
                                                },
                                                "content": "CODEOWNERS is active on {{ghRepo}} â€” the preview below shows your current review assignment rules. Every PR gets automatic reviewer selection.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… CODEOWNERS Active</div><div class=\"state-detail\">The file is live in {{ghRepo}}. Every PR now gets automatic reviewer assignment based on the patterns defined. The preview below shows the current content.\n\nTo update rules, edit the file directly or use ğŸš€ Full Setup which provides an editor. Changes take effect on the next PR â€” existing open PRs don't retroactively get new reviewers.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "(missing)"
                                                },
                                                "content": "No CODEOWNERS on {{ghRepo}} â€” every PR requires manual reviewer selection. Check the box below to create one with {{ghUser}} as the default owner.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Create CODEOWNERS</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without CODEOWNERS, you manually select reviewers for every PR to {{ghRepo}}. The checkbox below generates a default file that assigns {{ghUser}} to all files.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Customize the template before applying:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ /docs/ @docs-team</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ /src/infra/ @platform-team</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ *.yml @devops-team</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The file is written to .github/CODEOWNERS when you click âœ… Apply. It takes effect on the next PR created.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "gh-secrets",
                                        "title": "Secrets",
                                        "icon": "ğŸ”’",
                                        "selector": "#wiz-gh-section-secrets",
                                        "content": "Your vault keys from Step 3 need to be on GitHub for Actions to use them. With {{envCount}} environments, each gets its own scoped secrets â€” production keys stay separate from development keys.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Vault â†’ GitHub Sync</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The secrets you configured in Step 3's vault are local to your machine. GitHub Actions can't access them until they're pushed to {{ghRepo}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">With {{envCount}} environments, scoping works like this:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Each environment gets its own GitHub environment secrets</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ A production DB_PASSWORD is only visible to jobs using environment: production</span><span style=\"font-weight:600;color:var(--text-secondary)\">Development jobs see only development secrets</span><span>no cross-contamination</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The 'Push now' checkbox triggers a sync of all vault keys when you âœ… Apply. For per-key control â€” choosing which to push, which to skip â€” use the ğŸ” Secrets tab on the dashboard or ğŸš€ Full Setup.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Secrets pushed to GitHub are encrypted at rest and auto-masked in Actions logs.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "gh-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-github",
                                        "content": "Runs all checked actions: create {{ghEnvMissing}} missing environment(s), push vault secrets, write CODEOWNERS â€” in that order.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Execution Order</div><div class=\"state-detail\">When you click Apply, the control plane runs each checked action against {{ghRepo}}:\n\n1. Create checked environments on GitHub (so deployment gates work)\n2. Push vault secrets (scoped per-environment if multi-env)\n3. Write CODEOWNERS (so PR review is automated)\n\nThis ordering matters â€” environments are created first so environment-scoped secrets land in the right targets.\n\nAfter all steps complete, re-detection runs and all status pills update. If any step fails, the error shows in a toast.\n\nFor repository creation, visibility changes, and branch management, use ğŸš€ Full Setup instead.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "gh-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-github",
                                        "content": "Closes the setup panel without applying. No API calls to {{ghRepo}} â€” nothing changes on GitHub.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard Changes</div><div class=\"state-detail\">Cancel collapses the panel and discards unsaved selections â€” environment checkboxes, CODEOWNERS content, secrets push toggle. No API calls are made to {{ghRepo}}.\n\nReopen anytime with âš™ï¸ Setup â€” checkbox states repopulate from the current detection state, not your previous unsaved selections.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "pages-card",
                        "title": "Pages",
                        "icon": "ğŸ“„",
                        "selector": "#wiz-int-wrap-int-pages",
                        "content": "Pages is your static site builder â€” documentation sites, landing pages, and content-driven sections built from your project's content folders and deployed through GitHub Pages or other targets.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ… ready"
                                },
                                "content": "{{pagesSegments}} segment(s) configured and building. Deploy branch is {{pagesBranch}}, {{pagesBuildersAvail}} of {{pagesBuildersTotal}} builders available. Your static sites are operational.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Pages Ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your static site pipeline is healthy:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">{{pagesSegments}} segment(s) configured</span><span>each one is a buildable site section</span><span style=\"font-weight:600;color:var(--text-secondary)\">Deploy branch is {{pagesBranch}}</span><span>built output lands there for GitHub Pages</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ {{pagesBuildersAvail}} of {{pagesBuildersTotal}} builders available</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Segments pull content from source directories, build through their assigned builder (Docusaurus, MkDocs, Hugo, plain HTML), and output to the deploy path.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Full segment management â€” adding, editing, building, deploying â€” is in the Pages tab on the dashboard. This card gives you the overview and quick auto-init for new content folders.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âš ï¸ partial"
                                },
                                "content": "Pages is partially configured â€” {{pagesSegments}} segment(s) exist but the pipeline isn't fully operational. Check the sections below for what's missing.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Partially Configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">You have {{pagesSegments}} segment(s) defined but the Pages pipeline isn't fully ready. Common causes:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A builder required by a segment isn't installed (check ğŸ”¨ Builders below)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Content source directory is empty or missing</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Deploy branch isn't set for GitHub Pages</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Open the sections below to see what needs attention. The Pages tab has full management â€” build logs, preview, and deploy controls.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not configured"
                                },
                                "content": "No Pages segments configured yet. If your project has content folders (docs/, content/), the auto-init below can create segments automatically.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not Configured</div><div class=\"state-detail\">Pages isn't set up yet. This means no static sites are being built from your project.\n\nIf you have content folders â€” docs/, content/, site/ â€” they'll appear in the ğŸ“‚ Content Folders section with an auto-init option. The control plane detects the best builder for each folder (Docusaurus for docs with docusaurus.config.js, MkDocs for mkdocs.yml, etc.).\n\nYou can also create segments manually from the Pages tab, choosing any source directory and builder combination.\n\nPages deployment typically goes through GitHub Pages on branch {{pagesBranch}} â€” which links back to your GitHub card's repository configuration.</div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "pages-setup",
                                "title": "Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-pages",
                                "content": "Your Pages dashboard â€” segments, content folders, available builders, and deployment configuration. What you see depends on what the detection scan found in your project.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ Pages Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Pages system works in segments â€” each one is an independent static site section:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ A segment has a source (content directory), a builder (Docusaurus, MkDocs, Hugo, plain), and an output path</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multiple segments combine into one deployed site</span><span>docs + blog + landing page all coexist</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Each builder is auto-detected from your source structure (docusaurus.config.js â†’ Docusaurus, mkdocs.yml â†’ MkDocs)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The setup panel here shows what the detection scan found. For full management â€” adding segments, building, previewing, deploying â€” use the Pages tab on the dashboard.</div></div></div>",
                                "children": [
                                    {
                                        "id": "pages-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-pages-status-strip",
                                        "content": "Pages health at a glance â€” {{pagesSegments}} segment(s), deploy branch {{pagesBranch}}, {{pagesBuildersAvail}} builders available.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Pages Health</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill is one dimension of your Pages setup:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Status</span><span>overall pipeline health (ready, partial, not configured)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Segments</span><span>{{pagesSegments}} buildable site section(s) defined</span><span style=\"font-weight:600;color:var(--text-secondary)\">.pages/</span><span>the configuration directory exists in your project root</span><span style=\"font-weight:600;color:var(--text-secondary)\">Deploy branch</span><span>{{pagesBranch}} is where built output goes for GitHub Pages</span><span style=\"font-weight:600;color:var(--text-secondary)\">Content folders</span><span>detected directories that could become segments</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Green status means all segments have valid sources, working builders, and a deploy target. Partial means something's incomplete â€” a missing builder or empty source.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "pages-pill-status",
                                                "title": "Status",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-pages-pill-status",
                                                "content": "Overall Pages pipeline status â€” whether segments are configured and builders are operational.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ… ready"
                                                        },
                                                        "content": "All {{pagesSegments}} segment(s) are healthy â€” sources exist, builders are available, output paths are configured.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Pipeline Ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Every configured segment has:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A valid source directory with content</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ An available builder installed on your system</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ An output path for the built site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You can build and preview segments from the Pages tab. Deployment pushes built output to {{pagesBranch}} for GitHub Pages.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âš ï¸ partial"
                                                        },
                                                        "content": "Some segments have issues â€” a builder might be missing or a source directory is empty. Check the sections below.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Partially Ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">At least one segment has a problem. Common issues:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Builder not installed</span><span>check ğŸ”¨ Builders section</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Source directory empty or deleted since last scan</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Output path conflicts between segments</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hit ğŸ”„ Re-scan to refresh detection. The Pages tab shows per-segment build status with detailed error messages.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "not configured"
                                                        },
                                                        "content": "No segments exist yet. Content folders below can be auto-initialized, or create segments manually in the Pages tab.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ No Segments</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pages has no configured segments. A segment is required before anything can be built or deployed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Two paths to create one:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Auto-init from detected content folders (ğŸ“‚ section below)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual creation in the Pages tab</span><span>choose any directory + builder</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The auto-init option examines each content folder's structure and picks the best builder automatically.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-segments",
                                                "title": "Segments",
                                                "icon": "ğŸ“‘",
                                                "selector": "#wiz-pages-pill-segments",
                                                "content": "{{pagesSegments}} segment(s) â€” each one is an independent buildable site section with its own source directory and builder.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‘ {{pagesSegments}} Segment(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each segment is a self-contained build unit:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Has its own source directory (e.g., docs/, content/blog/)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Uses a specific builder (Docusaurus, MkDocs, Hugo, plain HTML)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Outputs to a path within the deployed site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Multiple segments combine into one site â€” you can have docs at /docs, a blog at /blog, and a landing page at / all building independently.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">See the ğŸ“‘ Segments section below for the full list with source â†’ output mappings and preview links.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-pagesdir",
                                                "title": ".pages/ Directory",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-pages-pill-pagesdir",
                                                "content": "The .pages/ directory holds Pages configuration â€” segment definitions, builder settings, and deploy metadata.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“ .pages/ Exists</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has a .pages/ directory at the root. This is where the Pages system stores:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Segment definitions (which directories build into which site sections)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Builder configuration and overrides</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Deploy metadata (branch, base URL, custom domain)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Theme and plugin settings per builder</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This directory is committed to your repository â€” your Pages configuration is versioned and reproducible across environments.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-branch",
                                                "title": "Deploy Branch",
                                                "icon": "ğŸŒ¿",
                                                "selector": "#wiz-pages-pill-branch",
                                                "content": "Built site output goes to {{pagesBranch}} â€” GitHub Pages serves from this branch automatically when configured on your repository.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ {{pagesBranch}}</div><div class=\"state-detail\">The deploy branch is where built static site output is committed. GitHub Pages reads from this branch to serve your site.\n\nThe flow:\n1. Build segments locally (or in CI/CD)\n2. Built output is committed to {{pagesBranch}}\n3. GitHub Pages picks it up and serves at your.domain.com or username.github.io/repo\n\nThis links back to your GitHub card â€” {{ghRepo}} needs GitHub Pages enabled in repository settings, pointing at {{pagesBranch}} as the source.\n\nThe CI/CD card's workflow can automate this: build on push to {{ghBranch}}, deploy output to {{pagesBranch}}.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-folders",
                                                "title": "Content Folders",
                                                "icon": "ğŸ“‚",
                                                "selector": "#wiz-pages-pill-folders",
                                                "content": "{{pagesFolders}} content folder(s) detected that could become segments â€” auto-init available if you want to build them into your site.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ {{pagesFolders}} Content Folder(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The detection scan found {{pagesFolders}} directories in your project that contain buildable content (markdown, HTML, RST) but don't have segments yet.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each folder is matched with the best builder:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Has docusaurus.config.js â†’ Docusaurus</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Has mkdocs.yml â†’ MkDocs</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Contains .md files â†’ plain markdown (fallback)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Check the ğŸ“‚ Content Folders section below to auto-initialize segments from these. Apply creates the segment definitions â€” you can preview and build from the Pages tab afterward.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "pages-segments",
                                        "title": "Segments",
                                        "icon": "ğŸ“‘",
                                        "selector": "#wiz-pages-section-segments",
                                        "content": "{{pagesSegments}} configured segment(s) â€” each row shows the segment name, builder, source â†’ output mapping, and a local preview link.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‘ {{pagesSegments}} Active Segment(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">These segments are configured and buildable. Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Name</span><span>the segment identifier used in commands and the Pages tab</span><span style=\"font-weight:600;color:var(--text-secondary)\">Builder</span><span>which build tool processes the content (Docusaurus, MkDocs, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Source â†’ Path</span><span>the content directory and where it appears in the deployed site</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ”—</span><span>opens a local preview of the built segment</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Segments build independently â€” changing docs doesn't rebuild blog. The Pages tab has build controls, logs, and full preview for each segment.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Deployment pushes all segment outputs to {{pagesBranch}} as a combined site.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-folders",
                                        "title": "Content Folders",
                                        "icon": "ğŸ“‚",
                                        "selector": "#wiz-pages-section-folders",
                                        "content": "Detected content directories that can become segments. âœ… means a segment already exists, â¬œ means auto-init is available.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "no segment"
                                                },
                                                "content": "{{pagesUninit}} content folder(s) don't have segments yet â€” check the auto-init box and Apply to create them automatically with the best matching builder.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ {{pagesUninit}} Uninitialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">{{pagesUninit}} content folder(s) were detected but don't have segments yet. Each one shows:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The folder name and file count</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The best-matching builder (detected from config files and content type)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A ğŸ’¡ suggestion if the detection has a specific recommendation</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The auto-init checkbox at the bottom creates segments for all uninitialized folders using their detected builders. After init, you can build and preview from the Pages tab.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the fastest way to get your content building â€” one click creates properly configured segments.</div></div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‚ All Folders Linked</div><div class=\"state-detail\">Every detected content folder has a corresponding segment. Your project's content directories are fully integrated into the Pages pipeline.\n\nEach folder's content is being built through its assigned builder whenever you trigger a build from the Pages tab or CI/CD workflow.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-builders",
                                        "title": "Builders",
                                        "icon": "ğŸ”¨",
                                        "selector": "#wiz-pages-section-builders",
                                        "content": "{{pagesBuildersAvail}} of {{pagesBuildersTotal}} builders available on your system â€” these are the tools that compile content into static HTML.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”¨ {{pagesBuildersAvail}}/{{pagesBuildersTotal}} Builders</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Builders are the engines that transform your content into static HTML. Each one handles a different source format:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docusaurus</span><span>React-based, MDX support, versioned docs, blog</span><span style=\"font-weight:600;color:var(--text-secondary)\">MkDocs</span><span>Python-based, Material theme, simpler configuration</span><span style=\"font-weight:600;color:var(--text-secondary)\">Hugo</span><span>Go-based, extremely fast builds, shortcodes</span><span style=\"font-weight:600;color:var(--text-secondary)\">Plain</span><span>copies HTML/CSS/JS directly, no compilation</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ… means the builder's CLI is installed and ready. â—‹ means it's known but not installed â€” segments using that builder can't build until you install it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The system tools section at the top of this step shows CLI availability. Missing builders can be installed from there.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "pages-builder-docusaurus",
                                                "title": "Docusaurus",
                                                "icon": "ğŸ¦–",
                                                "selector": "#wiz-pages-builder-docusaurus",
                                                "content": "Docusaurus â€” React-based documentation framework with MDX support. The most feature-rich builder for documentation sites.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Docusaurus is installed and ready â€” Node.js and npx detected. The most powerful builder for documentation-heavy projects.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ¦– Docusaurus Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docusaurus is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">MDX</span><span>write React components directly in markdown</span><span style=\"font-weight:600;color:var(--text-secondary)\">Versioned docs</span><span>maintain docs across software versions</span><span style=\"font-weight:600;color:var(--text-secondary)\">Blog engine</span><span>built-in blog with RSS and pagination</span><span style=\"font-weight:600;color:var(--text-secondary)\">Search</span><span>Algolia-powered search out of the box</span><span style=\"font-weight:600;color:var(--text-secondary)\">i18n</span><span>built-in internationalization support</span><span style=\"font-weight:600;color:var(--text-secondary)\">Theme system</span><span>fully customizable React-based themes</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: documentation sites, knowledge bases, multi-version API docs, developer portals.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: Node.js 18+ (detected via npx). Builds are slower than Hugo but the output is a full React SPA with client-side navigation.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the default builder when a content folder contains markdown and Node.js is available.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Docusaurus requires Node.js 18+ (npx). Install Node.js to use this builder for MDX-enabled documentation sites.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ¦– Docusaurus Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docusaurus can't build because Node.js is missing.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Node.js 18+ from https://nodejs.org</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or via nvm: nvm install 18</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Once Node.js is installed, npx handles Docusaurus initialization and builds automatically â€” no global install needed.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: MkDocs uses Python instead of Node.js and is simpler to set up, though it has fewer features (no MDX, no React components).</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-mkdocs",
                                                "title": "MkDocs",
                                                "icon": "ğŸ“˜",
                                                "selector": "#wiz-pages-builder-mkdocs",
                                                "content": "MkDocs â€” Python-based documentation generator with Material theme support. Simpler than Docusaurus but very polished.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "MkDocs is installed and ready â€” Python and mkdocs CLI detected. Great for clean, Material-themed documentation.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“˜ MkDocs Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">MkDocs is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Material theme</span><span>polished, responsive design out of the box</span><span style=\"font-weight:600;color:var(--text-secondary)\">Navigation</span><span>automatic sidebar from directory structure</span><span style=\"font-weight:600;color:var(--text-secondary)\">Search</span><span>built-in lunr.js search, no external service needed</span><span style=\"font-weight:600;color:var(--text-secondary)\">Plugins</span><span>rich ecosystem (mermaid diagrams, code annotations, admonitions)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Fast</span><span>Python-based but builds are quick for typical doc sizes</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: project documentation, internal wikis, API reference sites, README-style docs.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: Python 3 with pip. Configuration lives in mkdocs.yml.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">MkDocs is the fallback when Node.js isn't available but Python is â€” it produces excellent results with less configuration than Docusaurus.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "MkDocs requires Python 3 and the mkdocs package. Install with: pip install mkdocs mkdocs-material",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“˜ MkDocs Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">MkDocs isn't installed. Python is likely available but the mkdocs package is missing.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pip install mkdocs mkdocs-material</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or in a venv: python -m pip install mkdocs mkdocs-material</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Material theme is strongly recommended â€” it provides the polished look and responsive layout. Without it, MkDocs uses a basic theme.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: Docusaurus requires Node.js but is more feature-rich (MDX, versioned docs, React components).</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-hugo",
                                                "title": "Hugo",
                                                "icon": "âš¡",
                                                "selector": "#wiz-pages-builder-hugo",
                                                "content": "Hugo â€” Go-based static site generator. Single binary, no runtime dependencies, extremely fast builds.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Hugo is installed and ready â€” the hugo binary is available. Fastest builder for large content sites.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš¡ Hugo Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hugo is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Speed</span><span>builds thousands of pages in milliseconds (Go compiled binary)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Shortcodes</span><span>reusable content snippets without a framework</span><span style=\"font-weight:600;color:var(--text-secondary)\">Taxonomies</span><span>categories, tags, series out of the box</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multilingual</span><span>built-in i18n with per-language content trees</span><span style=\"font-weight:600;color:var(--text-secondary)\">Themes</span><span>300+ themes available, single-file configuration</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: blogs, large content sites, multi-language sites, sites where build speed matters.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: hugo binary (no runtime dependencies). Single binary â€” no package manager, no node_modules, no virtual environments.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hugo is the fastest builder by far but has less flexibility than Docusaurus for custom interactive components.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Hugo requires the hugo binary. The control plane can download it to ~/.local/bin/ automatically.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Hugo Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The hugo binary isn't installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The control plane can download it automatically (ğŸ”§ Install in the system tools section)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or manually: https://gohugo.io/installation/</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Homebrew: brew install hugo</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Snap: snap install hugo</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hugo is a single binary â€” no runtime dependencies. It downloads and runs immediately. No python, no node, no package manager needed.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: Docusaurus or MkDocs if you already have Node.js or Python installed.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-sphinx",
                                                "title": "Sphinx",
                                                "icon": "ğŸ“œ",
                                                "selector": "#wiz-pages-builder-sphinx",
                                                "content": "Sphinx â€” Python documentation generator. The standard for Python project docs, supports RST and Markdown via MyST.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Sphinx is installed and ready â€” Python and sphinx-build detected. The standard choice for Python project documentation.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“œ Sphinx Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">RST</span><span>reStructuredText, the most expressive plain-text markup</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cross-referencing</span><span>automatic links between docs, API references, glossary terms</span><span style=\"font-weight:600;color:var(--text-secondary)\">API autodoc</span><span>generate docs directly from Python docstrings</span><span style=\"font-weight:600;color:var(--text-secondary)\">Extensions</span><span>hundreds of extensions (intersphinx, napoleon, todo, coverage)</span><span style=\"font-weight:600;color:var(--text-secondary)\">MyST</span><span>Markdown support via myst-parser (write markdown instead of RST)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: Python projects, API documentation, academic/technical writing, projects needing cross-references.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: Python 3 with sphinx. Configuration lives in conf.py.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx is the gold standard for Python projects â€” if your project is Python-heavy with docstrings, autodoc will save you hours of manual documentation.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Sphinx requires Python 3 and the sphinx package. Install with: pip install sphinx myst-parser",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“œ Sphinx Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx isn't installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pip install sphinx myst-parser</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ myst-parser enables Markdown alongside RST</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For the RTD theme: pip install sphinx-rtd-theme</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx is most useful for Python projects with docstrings that need API reference generation. For pure markdown documentation, MkDocs or Docusaurus are simpler.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: MkDocs for simpler markdown docs, Docusaurus for MDX and React.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-raw",
                                                "title": "Static Files",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-pages-builder-raw",
                                                "content": "Static Files â€” copies HTML, CSS, and JS directly to the output. No build step, no dependencies. Always available.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Static Files is always available â€” no build tools needed. Copies your files directly to the deployed site.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‹ Static Files Â· always available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The raw/static builder is always ready â€” it requires no external tools.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it does:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Copies files as-is from source to output directory</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ No compilation, no transformation, no dependencies</span><span style=\"font-weight:600;color:var(--text-secondary)\">HTML, CSS, JS, images</span><span>anything goes</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: pre-built sites, hand-crafted HTML, legacy content, assets that don't need processing.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the fallback builder when no specialized tool is available or when your content is already built HTML. It's also useful for embedding pre-existing sites as segments alongside Docusaurus or MkDocs segments.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-custom",
                                                "title": "Custom Build",
                                                "icon": "ğŸ”§",
                                                "selector": "#wiz-pages-builder-custom",
                                                "content": "Custom Build â€” run any shell command as the build step. Full flexibility for non-standard toolchains. Always available.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Custom Build is always available â€” define any build command for segments that don't fit standard builders.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”§ Custom Build Â· always available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The custom builder lets you define any shell command as your build step.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Use cases:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Gatsby, Astro, Next.js, Eleventy, or any other SSG</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Custom scripts that generate HTML from templates</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Compile-to-HTML workflows (Pandoc, LaTeX â†’ HTML)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Chained builds that combine multiple tools</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Configuration: set the build command, source directory, and output path in the segment config. The command runs from the project root.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This builder exists because the Pages system shouldn't limit you to the built-in options. If your tool can produce HTML output, it works as a custom builder.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "pages-deploy-info",
                                        "title": "Deploy Info",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-pages-deploy-info",
                                        "content": "Deploy branch is {{pagesBranch}} â€” built output goes here. GitHub Pages on {{ghRepo}} should be configured to serve from this branch.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Deployment Target</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Pages deployment configuration:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Deploy branch</span><span>{{pagesBranch}}. Built segment output is committed here.</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub Pages</span><span>{{ghRepo}} needs Pages enabled in repository settings, source set to {{pagesBranch}}.</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The deployment flow:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ Build all segments (locally or in CI/CD)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ Commit built output to {{pagesBranch}}</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ GitHub Pages serves the combined site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Base URL matters if your repo is at github.io/repo-name â€” internal links need the prefix. The Pages tab has base URL configuration per segment.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-pages",
                                        "content": "Auto-initializes {{pagesUninit}} segment(s) from uninitialized content folders using their best-matching builders.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Auto-Initialize Segments</div><div class=\"state-detail\">Apply creates segment definitions for each checked content folder:\n\n1. Reads the content folder's structure and detected builder\n2. Creates a segment in .pages/ with the right configuration\n3. Sets the output path within the deployed site\n\nAfter initialization, segments are ready to build and preview from the Pages tab. No content is modified â€” only .pages/ segment definitions are created.\n\nThis is reversible â€” delete any segment from the Pages tab if the auto-detected configuration isn't right.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-pages",
                                        "content": "Closes the setup panel without creating any segments. No files are modified.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the panel without creating segments or modifying any files. The auto-init checkbox state is discarded.\n\nReopen anytime with âš™ï¸ Setup â€” detection results repopulate from the current project state.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "docker-card",
                        "title": "Docker",
                        "icon": "ğŸ³",
                        "selector": "#wiz-int-wrap-int-docker",
                        "content": "Docker containerization â€” your project's build, run, and deploy pipeline for containers.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ“ running"
                                },
                                "content": "Docker daemon is running ({{dockerVersion}}) â€” {{dockerDockerfiles}} Dockerfile(s), {{dockerServices}} compose service(s). Your container pipeline is operational.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ³ Docker Â· operational</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Docker environment is fully operational:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Daemon</span><span>running (v{{dockerVersion}})</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose CLI</span><span>{{dockerComposeCli}}</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfiles</span><span>{{dockerDockerfiles}} detected</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose services</span><span>{{dockerServices}}</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>{{dockerIgnoreRules}} rules</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker turns your project into portable, reproducible containers. Each Dockerfile defines how your code is packaged, and docker-compose orchestrates multi-service stacks (app + database + cache, etc.).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With the daemon running, you have full access to build, run, and manage containers directly from this panel.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Stack detection identified {{dockerStack}} for your project â€” base images, install commands, and entry points are pre-filled accordingly.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âš  daemon offline"
                                },
                                "content": "Docker is installed but the daemon isn't running. Start Docker Desktop or the dockerd service to enable container operations.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ³ Docker Â· daemon offline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker CLI is installed but the daemon process isn't running. Without the daemon:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot build images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot start/stop containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot list running containers or images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still generate Dockerfiles and compose files</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still analyze existing Docker configuration</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To fix:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>open the application, it starts the daemon automatically</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux service</span><span>sudo systemctl start docker</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>sudo dockerd (foreground)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Once the daemon is running, refresh this page to unlock the full operations panel (Start, Stop, Build, Logs, etc.).</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Docker containerization"
                                },
                                "content": "Docker CLI is not installed. Install Docker to enable container-based builds and deployments for your project.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Docker Â· not installed</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker is not detected on this system. Without Docker:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Cannot build container images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Cannot run services locally in containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Cannot use docker-compose for multi-service stacks</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane can still generate Dockerfiles and compose files â€” they'll be ready when Docker is installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>https://docs.docker.com/desktop/ (Mac/Windows/Linux)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Engine</span><span>https://docs.docker.com/engine/install/ (Linux servers)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Package manager</span><span>apt install docker.io or brew install docker</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker is optional for development but essential for CI/CD pipelines and production deployments. If your project uses GitHub Actions, the CI/CD integration can build containers without a local Docker install.</div></div></div>"
                            }
                        ],
                        "expanded": "",
                        "children": [
                            {
                                "id": "docker-setup",
                                "title": "Docker Setup",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-docker",
                                "content": "Docker integration panel â€” daemon status, Dockerfile analysis, compose services, live operations, and config generation.",
                                "expanded": "",
                                "children": [
                                    {
                                        "id": "docker-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-docker-status-strip",
                                        "content": "Quick glance at your Docker environment: daemon {{dockerDaemon}}, compose CLI {{dockerComposeCli}}, {{dockerDockerfiles}} Dockerfile(s), {{dockerServices}} service(s), {{dockerIgnoreRules}} ignore rules.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Docker Status Overview</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill shows the state of a Docker component. Green (âœ“) means present and operational. Grey (â—‹ or âœ—) means missing or unavailable.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The five components:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Daemon</span><span>Docker engine process (required for all operations)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose CLI</span><span>docker compose subcommand (required for multi-service orchestration)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfiles</span><span>build recipes for your container images</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose file</span><span>service definitions, networks, volumes</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>build context exclusion rules (like .gitignore for Docker)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hover each pill for detailed explanations. All five green means your container pipeline is fully operational.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-pill-daemon",
                                                "title": "Daemon",
                                                "icon": "ğŸŸ¢",
                                                "selector": "#wiz-docker-pill-daemon",
                                                "content": "Docker daemon â€” the background process that builds images and runs containers.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Docker daemon is running (v{{dockerVersion}}) â€” all container operations are available.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŸ¢ Daemon Â· running</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Docker daemon (dockerd) is active and responding. Version: {{dockerVersion}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This means you can:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Build images from Dockerfiles</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Start/stop containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pull/push images from registries</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ View running containers and resource usage</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stream container logs</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The daemon communicates via the Docker socket (/var/run/docker.sock). All buttons in the Operations section call the daemon through the Docker CLI.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If you're running Docker Desktop, the daemon lifecycle is managed by the application. On Linux, it's typically a systemd service.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âœ—"
                                                        },
                                                        "content": "Docker daemon is not running â€” start Docker Desktop or the dockerd service to enable container operations.",
                                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ”´ Daemon Â· offline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Docker daemon is not responding. Without it, no container operations work.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To start the daemon:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>open the application</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux</span><span>sudo systemctl start docker</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>sudo dockerd</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Note: You can still generate Dockerfiles and compose files while the daemon is offline. They'll work as soon as the daemon starts.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">If Docker is installed but the daemon fails to start, check:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Disk space (Docker needs space for images/layers)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Permissions (your user must be in the 'docker' group on Linux)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Conflicting services (only one daemon can bind the socket)</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-compose-cli",
                                                "title": "Compose CLI",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-docker-pill-compose-cli",
                                                "content": "Docker Compose CLI â€” the orchestration tool for multi-container applications.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Compose CLI is available â€” you can orchestrate multi-service stacks with docker compose up/down/build.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‹ Compose CLI Â· available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">docker compose (v2) is available as a Docker CLI plugin.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This enables:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose up</span><span>start all services defined in compose file</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose down</span><span>stop and remove containers</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose build</span><span>build images for services with 'build:' config</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose logs</span><span>aggregate logs from all services</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose ps</span><span>show running service status</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Compose v2 is the modern replacement for the standalone docker-compose binary. It's built into Docker Desktop and available as a CLI plugin on Linux.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Operations section below uses compose commands for Start/Stop/Build/Logs. Without compose, only individual container operations are available.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Compose CLI is not available â€” install it to unlock multi-service orchestration (Start/Stop/Build controls).",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“‹ Compose CLI Â· missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The docker compose plugin is not installed. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot use Start/Stop/Build/Logs buttons in Operations</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot orchestrate multi-service stacks</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still build individual images with docker build</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still generate compose files (ready when compose is installed)</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>includes compose automatically</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux plugin</span><span>sudo apt install docker-compose-plugin</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>https://docs.docker.com/compose/install/</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Compose is essential for projects with multiple services (app + database + cache). For single-service projects, you can use docker build and docker run directly.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-dockerfile",
                                                "title": "Dockerfiles",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-docker-pill-dockerfile",
                                                "content": "Dockerfiles â€” build recipes that define how your code is packaged into container images.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "{{dockerDockerfiles}} Dockerfile(s) detected â€” your project has container build recipes. See the Dockerfiles section below for analysis.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ {{dockerDockerfiles}} Dockerfile(s) detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has {{dockerDockerfiles}} Dockerfile(s). Each one defines how to build a container image:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">FROM</span><span>base image (OS + runtime)</span><span style=\"font-weight:600;color:var(--text-secondary)\">COPY/ADD</span><span>bring your source code in</span><span style=\"font-weight:600;color:var(--text-secondary)\">RUN</span><span>install dependencies, compile</span><span style=\"font-weight:600;color:var(--text-secondary)\">EXPOSE</span><span>declare network ports</span><span style=\"font-weight:600;color:var(--text-secondary)\">CMD/ENTRYPOINT</span><span>what runs when the container starts</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Dockerfiles section below shows a breakdown of each file: base images, multi-stage builds, exposed ports, and any warnings.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If you have multiple Dockerfiles, each typically builds a different service or uses a different strategy (e.g., Dockerfile for production, Dockerfile.dev for development).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The 'ğŸ“ Regenerate Basic Config' section can overwrite these with stack-aware templates, or use 'ğŸš€ Full Docker Setup' for per-module Dockerfiles.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "No Dockerfile found â€” use 'ğŸ“ Generate Basic Config' below to create one from your detected stack ({{dockerStack}}).",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ No Dockerfile</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Dockerfile was found in your project root or subdirectories.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">A Dockerfile is required to build container images. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker build won't work</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD pipelines can't build container images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Container registries have nothing to receive</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Two options to create one:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ 'ğŸ“ Generate Basic Config' â€” creates a single-template Dockerfile based on your detected stack ({{dockerStack}}). Pre-filled with the right base image, install command, and entry point.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ 'ğŸš€ Full Docker Setup' â€” opens a multi-step wizard for per-module Dockerfiles, infrastructure services, vault-aware env vars, and health checks.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For most single-service projects, Basic Config is sufficient. Use Full Setup if you have multiple modules or need infrastructure services (databases, caches).</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-composefile",
                                                "title": "Compose File",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-docker-pill-composefile",
                                                "content": "Compose file â€” defines multi-service stacks with networking, volumes, and dependencies.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Compose file detected with {{dockerServices}} service(s) â€” see the Compose Services section below for the full service map.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Compose Â· {{dockerServices}} service(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your compose file defines {{dockerServices}} service(s). Each service is a container with its own image, ports, volumes, and environment.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The compose file orchestrates:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Service dependencies (web depends on database)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Network isolation (services talk through named networks)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Volume mounts (persistent data, live code reload)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Environment variables (config per service)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Health checks (readiness probes)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Resource limits (CPU, memory)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Compose Services section below shows each service's image, ports, volumes, and dependencies.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With the daemon running and compose CLI available, the Operations section gives you Start/Stop/Build/Logs controls for the entire stack.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "No compose file â€” generate one alongside your Dockerfile to enable multi-service orchestration.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ No compose file</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No docker-compose.yml or compose.yml was found.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Without a compose file:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Start/Stop/Build/Logs buttons are unavailable</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— No multi-service orchestration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still build and run individual containers manually</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">A compose file is worth creating even for single-service projects â€” it documents your runtime configuration (ports, env vars, volumes) in a reproducible file.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To create one:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Check 'â˜ Also generate docker-compose.yml' in the Basic Config section, or</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Use 'ğŸš€ Full Docker Setup' for per-module services with infrastructure</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated compose file will include your service with the right ports, volumes, and restart policy based on your stack.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-dockerignore",
                                                "title": ".dockerignore",
                                                "icon": "ğŸš«",
                                                "selector": "#wiz-docker-pill-dockerignore",
                                                "content": ".dockerignore â€” controls which files are excluded from the Docker build context.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": ".dockerignore is present with {{dockerIgnoreRules}} rules â€” build context is filtered to avoid sending unnecessary files to the daemon.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš« .dockerignore Â· {{dockerIgnoreRules}} rules</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your .dockerignore file filters the build context â€” {{dockerIgnoreRules}} rules prevent unnecessary files from being sent to the Docker daemon during builds.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Why this matters:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Build speed</span><span>smaller context = faster COPY operations</span><span style=\"font-weight:600;color:var(--text-secondary)\">Image size</span><span>prevents bloating images with dev files, node_modules, .git, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Security</span><span>keeps secrets, env files, and credentials out of images</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common patterns to include:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.git/</span><span>version history (not needed in images)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node_modules/</span><span>reinstalled during build</span><span style=\"font-weight:600;color:var(--text-secondary)\">__pycache__/</span><span>Python bytecode</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env</span><span>local environment secrets</span><span style=\"font-weight:600;color:var(--text-secondary)\">*.log</span><span>runtime logs</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The .dockerignore file works like .gitignore â€” patterns match files relative to the build context root.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">'ğŸš€ Full Docker Setup' can generate a comprehensive .dockerignore tailored to your stack.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "No .dockerignore â€” all project files are sent to the daemon during builds. This slows builds and may leak secrets into images.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸš« No .dockerignore</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without a .dockerignore file, docker build sends your entire project directory to the daemon as build context. This causes:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Slow builds</span><span>large directories (node_modules, .git, media) are transferred every build</span><span style=\"font-weight:600;color:var(--text-secondary)\">Bloated images</span><span>COPY . . brings in everything, increasing image size</span><span style=\"font-weight:600;color:var(--text-secondary)\">Security risk</span><span>.env files, secrets, or credentials may end up in image layers</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To create one:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ 'ğŸš€ Full Docker Setup' generates a .dockerignore tailored to your stack</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or create one manually with at minimum: .git, node_modules, __pycache__, .env, *.log</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">A good .dockerignore can reduce build context from hundreds of MB to just your source code â€” making builds 10-100x faster for large projects.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-dockerfiles",
                                        "title": "Dockerfiles",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-docker-section-dockerfiles",
                                        "content": "Dockerfile analysis â€” {{dockerDockerfiles}} Dockerfile(s) found. Each is broken down by runtime, version, variant, stages, and exposed ports.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“„ Dockerfile Analysis Â· {{dockerDockerfiles}} file(s)</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each Dockerfile below for per-file breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ§© Image Components</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin-top:0.3rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--accent)\">ğŸ”§ Runtime</span><span>Language or service â€” Python, Node.js, Go, Redisâ€¦</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“Œ Version</span><span>Pinned release tag â€” 3.12, 20, 1.22, 16â€¦</span><span style=\"font-weight:600;color:hsla(140,60%,55%,1)\">ğŸ“¦ Variant</span><span>OS/flavor suffix â€” controls image size and compatibility</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“¦ Variant Guide</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1)\">slim</code><span>~150MB Â· Debian minimal Â· all native extensions work Â· <strong>recommended default</strong></span><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1)\">alpine</code><span>~50MB Â· smallest Â· uses musl libc Â· some C extensions may fail</span><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(40,80%,50%,0.1);color:hsla(40,80%,55%,1)\">bookworm</code><span>~400MB+ Â· full Debian 12 Â· every system library Â· use as fallback</span><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(40,80%,50%,0.1);color:hsla(40,80%,55%,1)\">bullseye</code><span>~400MB+ Â· full Debian 11 Â· older stable Â· consider upgrading</span></div></div></div><div class=\"assistant-state-card state-success\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">âš¡ Multi-Stage Builds</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"display:flex;gap:0.3rem;align-items:center;margin:0.3rem 0\"><span style=\"padding:0.15rem 0.35rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.7rem;font-weight:600\">Stage 1 Â· builder</span><span style=\"color:var(--text-muted)\">â†’</span><span style=\"padding:0.15rem 0.35rem;border-radius:4px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1);font-size:0.7rem;font-weight:600\">Stage 2 Â· runtime</span></div>Builder stage has full toolchain (compilers, dev headers). Runtime stage copies only built artifacts into a minimal base. Final images can be <strong>10-100x smaller</strong>.</div></div><div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Best Practices</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\"><div style=\"margin-bottom:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Pin versions â€” <code style=\"font-size:0.68rem\">python:3.12-slim</code> not <code style=\"font-size:0.68rem;text-decoration:line-through;opacity:0.6\">python:latest</code></div><div style=\"margin-bottom:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Match your local dev environment version</div><div><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Prefer <strong>slim â†’ alpine â†’ full</strong> (in order of compatibility risk)</div></div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“„ {{name}}",
                                            "content": "Dockerfile at {{name}} â€” defines how this module is containerized. Hover to see its base images, build stages, and exposed ports.",
                                            "selector": "[id^=\"wiz-docker-df-\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "docker-section-compose-svcs",
                                        "title": "Compose Services",
                                        "icon": "ğŸ“‹",
                                        "selector": "#wiz-docker-section-compose-svcs",
                                        "content": "Compose service map â€” {{dockerServices}} service(s) with parsed image breakdown, ports, volumes, and topology classification.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“‹ Compose Services Â· {{dockerServices}} service(s)</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each service below for per-service breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ· Service Roles</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1);font-size:0.68rem;font-weight:600\">ğŸš€ Application</span><span>Builds from Dockerfile â€” your actual code</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ—„ Database</span><span>PostgreSQL, MySQL, MongoDB â€” persistent storage</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">âš¡ Cache</span><span>Redis, Memcached â€” fast key-value stores</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸŒ Proxy</span><span>Nginx, Apache â€” reverse proxy / static files</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ“¨ Queue</span><span>RabbitMQ, Kafka â€” async message processing</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ§© Image Breakdown</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin-top:0.3rem\"><span style=\"font-weight:600;color:var(--accent)\">ğŸ”§ Runtime</span><span>What the service IS â€” PostgreSQL, Redis, Nginx</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“Œ Version</span><span>Which release â€” 16, 7.2, 1.25</span><span style=\"font-weight:600;color:hsla(140,60%,55%,1)\">ğŸ“¦ Variant</span><span>OS base â€” alpine = small, bookworm = full Debian</span></div><div style=\"margin-top:0.35rem;padding:0.25rem 0.4rem;border-radius:4px;background:hsla(210,60%,50%,0.06);font-size:0.7rem;color:var(--text-muted)\">Services using <strong>(build)</strong> compile from a local Dockerfile â€” see Dockerfile Analysis above.</div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ”Œ Port Mappings</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\"><span style=\"font-family:monospace;padding:0.1rem 0.3rem;border-radius:3px;background:var(--bg-primary);font-size:0.7rem\">host:container</span> â€” e.g. <span style=\"font-family:monospace;font-size:0.7rem\">5432:5432</span> means database at <span style=\"font-family:monospace;font-size:0.7rem\">localhost:5432</span></div><div style=\"margin-top:0.2rem;color:hsla(40,80%,55%,1);font-size:0.7rem\">âš  If two services map the same host port â†’ port conflict on start</div></div></div><div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Dependencies</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\"><code style=\"font-size:0.7rem\">depends_on</code> controls startup order. Docker starts dependencies first but <strong>doesn't wait for readiness</strong> â€” only 'started'.</div><div style=\"margin-top:0.15rem;color:hsla(140,60%,55%,1);font-size:0.7rem\">âœ“ Use healthchecks for true readiness gating</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“‹ {{name}}",
                                            "content": "Compose service {{name}} â€” hover for image breakdown, role classification, ports, volumes, and dependencies.",
                                            "selector": "[id^=\"wiz-docker-svc-\"]",
                                            "nameSelector": "strong"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "docker-live-panel",
                                        "title": "Live Panel",
                                        "icon": "ğŸ”",
                                        "selector": "#wiz-docker-live",
                                        "content": "Live Docker inspection â€” view running containers, cached images, and compose status in real time.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Live Docker Panel</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel queries the Docker daemon in real time. Click a button to fetch and display current state:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Containers</span><span>all running and stopped containers with their status, ports, and names</span><span style=\"font-weight:600;color:var(--text-secondary)\">Images</span><span>locally cached images with tags, sizes, and creation dates</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose</span><span>docker compose ps output showing service status for the current project</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The data is fetched fresh each time you click â€” it reflects the actual state of Docker on your machine, not cached detection data.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Useful for:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Checking if your services are actually running after Start</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Finding leftover containers from previous sessions</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Seeing which images are cached (avoids re-pulling)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Debugging port conflicts (another container using the same port)</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-btn-containers",
                                                "title": "Containers",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-docker-btn-containers",
                                                "content": "List all Docker containers â€” running and stopped â€” with their status, ports, and names.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ List Containers</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker ps -a and displays all containers on this machine.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Container ID</span><span>short hash identifier</span><span style=\"font-weight:600;color:var(--text-secondary)\">Image</span><span>what image the container was created from</span><span style=\"font-weight:600;color:var(--text-secondary)\">Status</span><span>Up (running), Exited (stopped), Created (never started)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ports</span><span>mapped host:container ports</span><span style=\"font-weight:600;color:var(--text-secondary)\">Names</span><span>container name (auto-generated or from compose)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Containers from your compose file will have names prefixed with the project directory name.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common situations:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">'Exited (0)'</span><span>stopped cleanly</span><span style=\"font-weight:600;color:var(--text-secondary)\">'Exited (1)'</span><span>crashed, check logs</span><span style=\"font-weight:600;color:var(--text-secondary)\">'Up X minutes'</span><span>running normally</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multiple containers on same port</span><span>port conflict, stop one first</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-images",
                                                "title": "Images",
                                                "icon": "ğŸ–¼",
                                                "selector": "#wiz-docker-btn-images",
                                                "content": "List locally cached Docker images with their tags, sizes, and ages.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ–¼ List Images</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker images and shows all locally cached images.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Repository</span><span>image name (e.g., python, postgres, your-project)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Tag</span><span>version tag (e.g., 3.12-slim, 16-alpine, latest)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Size</span><span>compressed size on disk</span><span style=\"font-weight:600;color:var(--text-secondary)\">Created</span><span>when the image was built or pulled</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Images are cached layers â€” pulling the same image twice is instant. Building with docker compose build creates images tagged with your service names.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Dangling images (\\u003cnone\\u003e:\\u003cnone\\u003e) are leftover layers from rebuilds. Use ğŸ§¹ Prune in Operations to clean them up and reclaim disk space.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-compose-live",
                                                "title": "Compose Status",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-docker-btn-compose-live",
                                                "content": "Show docker compose ps â€” the status of all services defined in your compose file.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Compose Status</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose ps for the current project and shows which services are running.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Service name</span><span>matches the key in your compose file</span><span style=\"font-weight:600;color:var(--text-secondary)\">State</span><span>running, exited, restarting, or created</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ports</span><span>mapped ports for that service</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This only shows containers managed by compose for this project â€” not containers from other projects or manually started ones.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If a service shows 'restarting', it's likely crash-looping. Check ğŸ“œ Logs to see the error.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If no services appear, the compose stack hasn't been started yet â€” use â–¶ Start in Operations.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-ops",
                                        "title": "Operations",
                                        "icon": "âš¡",
                                        "selector": "#wiz-docker-section-ops",
                                        "content": "Docker compose operations â€” start, stop, build, and manage your container stack directly from the control plane.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Docker Operations</div><div class=\"state-detail\">These buttons run docker compose commands against your project's compose file. Each operation targets all services defined in the compose file.\n\nWorkflow:\n1. â–¶ Start â€” bring up the stack (builds if needed)\n2. Check status with ğŸ“‹ Compose in the live panel\n3. ğŸ“œ Logs â€” stream output to debug issues\n4. ğŸ”„ Restart â€” apply config changes without full rebuild\n5. ğŸ”¨ Build â€” rebuild images after code changes\n6. â¹ Stop â€” tear down when done\n\nAll commands run in the project directory. Output appears in the panel below the buttons.\n\nRequires: Docker daemon running + compose CLI available + compose file present. If any are missing, this section won't appear â€” check the status strip pills above.</div></div>",
                                        "children": [
                                            {
                                                "id": "docker-btn-start",
                                                "title": "Start",
                                                "icon": "â–¶",
                                                "selector": "#wiz-docker-btn-start",
                                                "content": "docker compose up -d â€” start all services in detached mode. Builds images if they don't exist yet.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â–¶ Start Stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose up -d (detached mode).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pull any missing base images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Build images for services with 'build:' config</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Create networks and volumes</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Start all containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Return immediately (containers run in background)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After starting, use ğŸ“‹ Compose in the live panel to verify all services are running, and ğŸ“œ Logs to check for startup errors.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">If a service fails to start, common causes:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Port already in use</span><span>another process or container on the same port</span><span style=\"font-weight:600;color:var(--text-secondary)\">Missing env vars</span><span>check your .env file</span><span style=\"font-weight:600;color:var(--text-secondary)\">Build failure</span><span>syntax error in Dockerfile</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dependency not ready</span><span>database not accepting connections yet (add healthcheck)</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-stop",
                                                "title": "Stop",
                                                "icon": "â¹",
                                                "selector": "#wiz-docker-btn-stop",
                                                "content": "docker compose down â€” stop and remove all containers, networks. Volumes are preserved.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â¹ Stop Stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose down.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stop all running containers gracefully (SIGTERM, then SIGKILL after timeout)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remove stopped containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remove project networks</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Preserve named volumes (database data survives)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Volumes are NOT deleted â€” your database data, uploads, and other persistent state remain intact. To also delete volumes, you'd need docker compose down -v (not available here â€” protects against data loss).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Use Stop when:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Done developing for the day</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Need to free ports for another project</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Before rebuilding with major changes</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-restart",
                                                "title": "Restart",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-docker-btn-restart",
                                                "content": "docker compose restart â€” restart all containers without rebuilding. Useful for picking up config changes.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Restart Stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose restart.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stop each container gracefully</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Start each container again with the same image</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Preserve all container state</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Restart does NOT rebuild images â€” it uses the existing images. If you changed code or Dockerfile:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Code changes with volume mounts</span><span>restart picks them up</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile changes</span><span>use ğŸ”¨ Build instead</span><span style=\"font-weight:600;color:var(--text-secondary)\">Config changes (env vars, ports)</span><span>use Stop then Start</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Restart is the fastest way to apply changes when using volume-mounted source code for development.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-build",
                                                "title": "Build",
                                                "icon": "ğŸ”¨",
                                                "selector": "#wiz-docker-btn-build",
                                                "content": "docker compose build â€” rebuild images using cached layers. Fast when only source code changed.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”¨ Build Images</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose build.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Rebuilds images for all services that have 'build:' in their compose config. Uses Docker's layer cache â€” unchanged layers are reused.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Layer caching means:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Only changed steps are re-executed</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ If only source code changed, only COPY and later steps rebuild</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Base image and dependency install layers are cached</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After building, use â–¶ Start or ğŸ”„ Restart to run the new images.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Build is fast for iterative development. Use Build (no-cache) when caching causes stale results (e.g., after changing dependency files that Docker doesn't detect as changed).</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-build-nc",
                                                "title": "Build (no-cache)",
                                                "icon": "ğŸ”¨",
                                                "selector": "#wiz-docker-btn-build-nc",
                                                "content": "docker compose build --no-cache â€” rebuild from scratch, ignoring all cached layers. Use after base image or dependency changes.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”¨ Build (no-cache)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose build --no-cache.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This forces a complete rebuild of every layer â€” nothing is reused from cache. Slower than regular build but guarantees a clean state.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Use no-cache when:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Updated base image tag (e.g., python:3.12-slim got a security patch)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Changed dependency files but Docker didn't detect it (pip install with uncached requirements)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Debugging build issues that might be cache-related</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Reproducing CI/CD builds locally (CI usually builds without cache)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">No-cache builds can take significantly longer â€” a 30-second cached build might take 5-10 minutes without cache due to re-downloading and re-installing all dependencies.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For regular development, prefer the cached ğŸ”¨ Build and only use no-cache when you suspect stale layers.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-prune",
                                                "title": "Prune",
                                                "icon": "ğŸ§¹",
                                                "selector": "#wiz-docker-btn-prune",
                                                "content": "docker system prune â€” remove unused containers, networks, and dangling images to reclaim disk space.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ§¹ Prune System</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker system prune to clean up unused Docker resources.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This removes:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stopped containers (not currently running)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Unused networks (not attached to any container)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Dangling images (untagged layers from rebuilds)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Build cache (intermediate layers)</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This does NOT remove:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Running containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Tagged images (your named images are safe)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Named volumes (database data is preserved)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Prune is safe for development â€” it only removes resources that aren't actively in use. After a few days of building and rebuilding, pruning can reclaim several GB of disk space.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If images tab shows many \\u003cnone\\u003e:\\u003cnone\\u003e entries, pruning will clean those up.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-logs",
                                                "title": "Logs",
                                                "icon": "ğŸ“œ",
                                                "selector": "#wiz-docker-btn-logs",
                                                "content": "docker compose logs --tail 50 â€” show recent log output from all services for debugging.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“œ Service Logs</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose logs --tail 50 to show recent output from all compose services.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Logs are aggregated across all services with service name prefixes. Useful for:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Checking startup errors after â–¶ Start</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Debugging request failures</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Monitoring database connections</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Verifying health check passes</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The output shows the most recent 50 lines from each service. For full logs or live streaming, use the terminal:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker compose logs -f (follow/stream)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker compose logs web (single service)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker compose logs --since 5m (last 5 minutes)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If a service is crash-looping (restarting repeatedly), logs will show the error causing the crash â€” usually a missing env var, port conflict, or failed database connection.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-ops-hint",
                                        "title": "Operations Hint",
                                        "icon": "â„¹",
                                        "selector": "#wiz-docker-ops-hint",
                                        "content": "Operations require a compose file â€” generate one with the Basic Config form below to unlock Start/Stop/Build controls.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â„¹ Operations Locked</div><div class=\"state-detail\">The Start/Stop/Build/Logs buttons require a docker-compose.yml file to be present. Without it, Docker doesn't know which services to manage.\n\nTo unlock operations:\n1. Open 'ğŸ“ Generate Basic Config' below\n2. Check 'â˜ Also generate docker-compose.yml'\n3. Click âœ… Apply\n\nOr use 'ğŸš€ Full Docker Setup' for a comprehensive compose file with infrastructure services.\n\nOnce a compose file exists, this hint will be replaced by the full Operations panel.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "docker-section-genconfig",
                                        "title": "Generate Config",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-docker-section-genconfig",
                                        "content": "Generate or regenerate a basic Dockerfile and optional compose file from your detected stack ({{dockerStack}}).",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Basic Config Generator</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This form creates a single-service Dockerfile (and optionally docker-compose.yml) based on your project's detected stack.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The fields are pre-filled from stack detection:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Base Image</span><span>the right runtime for your detected stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Working Directory</span><span>standard /app convention</span><span style=\"font-weight:600;color:var(--text-secondary)\">Install Command</span><span>your language's dependency installer</span><span style=\"font-weight:600;color:var(--text-secondary)\">Expose Port</span><span>default port for your stack type</span><span style=\"font-weight:600;color:var(--text-secondary)\">Entry Command</span><span>how to start your application</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The generated Dockerfile follows best practices:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Uses appropriate base image tags</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Sets WORKDIR before COPY</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Installs dependencies before copying source (layer caching)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Exposes the correct port</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Sets a proper CMD</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For projects with multiple modules, infrastructure services, or vault-managed env vars, use 'ğŸš€ Full Docker Setup' instead â€” Basic Config only handles single-service setups.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-field-base",
                                                "title": "Base Image",
                                                "icon": "ğŸ—",
                                                "selector": "#wiz-docker-base",
                                                "content": "Base image: {{dockerBaseRuntime}} {{dockerBaseVersion}} ({{dockerBaseVariant}}) â€” {{dockerBaseVariantExplain}}",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ— Base Image Breakdown</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your current base image parsed into components:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">{{dockerBaseBreakdown}}</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â”€â”€ What Each Part Means â”€â”€</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ”§ Runtime: {{dockerBaseRuntime}}\nThe language or service runtime. This determines what's pre-installed in your container â€” the interpreter, compiler, or server binary. Detected from your project stack ({{dockerStack}}).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ“Œ Version: {{dockerBaseVersion}}\nThe pinned release. Always pin a specific version for reproducible builds. Using ':latest' means your build could break when the upstream image updates. Your version should match your local development environment.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ“¦ Variant: {{dockerBaseVariant}}\n{{dockerBaseVariantExplain}}</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â”€â”€ Variant Trade-offs â”€â”€</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ slim: ~150MB, Debian-based, works with everything, good default</span><span style=\"font-weight:600;color:var(--text-secondary)\">alpine: ~50MB, smallest, but uses musl libc</span><span>some native extensions may fail</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ full (bookworm/bullseye): ~400MB+, all system libraries, use when slim/alpine builds fail</span><span style=\"font-weight:600;color:var(--text-secondary)\">No variant: depends on the image</span><span>some default to full Debian, others to slim</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â”€â”€ Recommendations â”€â”€</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Python: slim is the best default (C extensions work, moderate size)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Node.js: alpine works for most apps, use slim if native modules fail</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Go: alpine for multi-stage builds (final image is just your binary)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Java: jdk-alpine for smallest, jdk for full compatibility</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pre-filled from detected stack: {{dockerStack}}</div></div></div>",
                                                "children": [
                                                    {
                                                        "id": "docker-base-runtime",
                                                        "title": "Runtime",
                                                        "icon": "ğŸ”§",
                                                        "selector": "#wiz-docker-base",
                                                        "content": "Runtime: {{dockerBaseRuntime}} â€” the language or service pre-installed in this image.",
                                                        "variants": [
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Python"
                                                                },
                                                                "icon": "ğŸ",
                                                                "content": "âœ“ Python runtime â€” CPython interpreter with pip. Fully supported, auto-detected from your stack.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ Runtime Â· Python</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Known and supported runtime</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Python runtime detected from your project stack ({{dockerStack}}).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What's included in the Python image:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CPython interpreter</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pip package manager</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Standard library</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ OS-level packages (varies by variant)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your install command, entry command, and port are all pre-configured for Python. The base image version ({{dockerBaseVersion}}) should match your local Python version.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Go"
                                                                },
                                                                "icon": "ğŸ”µ",
                                                                "content": "âœ“ Go runtime â€” Go compiler with module tooling. Ideal for multi-stage builds.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”µ Runtime Â· Go</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Known and supported runtime</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Go runtime detected from your project stack ({{dockerStack}}).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Go images are ideal for multi-stage builds:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stage 1: golang image compiles your binary</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stage 2: scratch or alpine image runs the binary</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Result: final image can be under 20MB</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Includes: Go compiler, go mod tooling, CGO support (if using glibc variant).</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Node"
                                                                },
                                                                "icon": "ğŸŸ¢",
                                                                "content": "âœ“ Node.js runtime â€” V8 engine with npm/yarn. Auto-detected from your stack.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŸ¢ Runtime Â· Node.js</div><div class=\"state-detail\">âœ“ Known and supported runtime\n\nNode.js runtime detected from your project stack ({{dockerStack}}).\n\nIncludes: V8 JavaScript engine, npm, npx. Yarn available via corepack.\n\nFor production builds, use 'npm ci --only=production' instead of 'npm install' to ensure reproducible installs from package-lock.json.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Java"
                                                                },
                                                                "icon": "â˜•",
                                                                "content": "âœ“ Java runtime (Eclipse Temurin) â€” JDK with HotSpot JVM.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜• Runtime Â· Java (Temurin)</div><div class=\"state-detail\">âœ“ Known and supported runtime\n\nEclipse Temurin provides a production-quality OpenJDK distribution.\n\nFor runtime-only deployments, consider switching to JRE variant (jre-alpine) instead of JDK â€” smaller image since the compiler isn't needed at runtime.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Rust"
                                                                },
                                                                "icon": "ğŸ¦€",
                                                                "content": "âœ“ Rust runtime â€” rustc compiler with cargo. Ideal for multi-stage builds.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ¦€ Runtime Â· Rust</div><div class=\"state-detail\">âœ“ Known and supported runtime\n\nRust images include rustc, cargo, and the standard library.\n\nLike Go, Rust compiles to native binaries â€” multi-stage builds let you copy just the binary to a minimal final image (scratch, alpine, or distroless).</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "equals": ""
                                                                },
                                                                "icon": "â“",
                                                                "content": "âš  No runtime detected â€” base image field may be empty or unparseable.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â“ Runtime Â· Unknown</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Could not detect a known runtime from the base image field.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This means either:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The base image field is empty</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The image uses a repository name not in the supported list</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Supported runtimes: Python, Go, Node.js, Rust, Java, .NET, Ruby, Elixir, PHP, GCC, Swift, Nginx, PostgreSQL, MySQL, MongoDB, Redis.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If your runtime is correct but not recognized, the image will still work â€” the assistant just can't provide stack-specific guidance.</div></div></div>"
                                                            }
                                                        ],
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Runtime Â· {{dockerBaseRuntime}}</div><div class=\"state-detail\">âœ“ Runtime detected: {{dockerBaseRuntime}}\n\nAuto-detected from your project stack ({{dockerStack}}). The runtime determines what's pre-installed â€” interpreter, compiler, or server binary.\n\nIf you change the runtime, update your install and entry commands to match.</div></div>",
                                                        "children": []
                                                    },
                                                    {
                                                        "id": "docker-base-version",
                                                        "title": "Version",
                                                        "icon": "ğŸ“Œ",
                                                        "selector": "#wiz-docker-base",
                                                        "content": "Version: {{dockerBaseVersion}} â€” the pinned release tag for reproducible builds.",
                                                        "variants": [
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVersion",
                                                                    "equals": "latest"
                                                                },
                                                                "icon": "âš ï¸",
                                                                "content": "âš  Version 'latest' â€” not pinned. Builds are not reproducible and may break without warning.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Version Â· latest (not pinned)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Using ':latest' is not recommended for production.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Problems with :latest:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Your build today and tomorrow may use different versions</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD and local environments may diverge silently</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A breaking upstream change can fail your builds without any code change</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Fix: Replace 'latest' with a specific version tag:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Python: 3.12, 3.11</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Node.js: 20, 22</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Go: 1.22, 1.23</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Java: 21, 17</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your local {{dockerBaseRuntime}} version should match what you pin here.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVersion",
                                                                    "equals": ""
                                                                },
                                                                "icon": "âš ï¸",
                                                                "content": "âš  No version detected â€” image may default to 'latest'.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Version Â· missing</div><div class=\"state-detail\">âš  No version tag detected in the base image.\n\nWhen no tag is specified, Docker defaults to ':latest' which is not reproducible. Always pin a specific version.</div></div>"
                                                            }
                                                        ],
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“Œ Version Â· {{dockerBaseVersion}} (pinned)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Version is pinned â€” builds are reproducible.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Pinned to {{dockerBaseVersion}} for {{dockerBaseRuntime}}:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Guarantees the same base on every build</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Security patches arrive as point releases within this version line</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Match this to your local development version</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">docker pull will fetch the latest build of {{dockerBaseRuntime}} {{dockerBaseVersion}}-{{dockerBaseVariant}}</div></div></div>",
                                                        "children": []
                                                    },
                                                    {
                                                        "id": "docker-base-variant",
                                                        "title": "Variant",
                                                        "icon": "ğŸ“¦",
                                                        "selector": "#wiz-docker-base",
                                                        "content": "Variant: {{dockerBaseVariant}} â€” {{dockerBaseVariantExplain}}",
                                                        "variants": [
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "slim"
                                                                },
                                                                "icon": "âœ…",
                                                                "content": "âœ“ slim variant â€” good balance of size (~150MB) and compatibility. Recommended default.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Variant Â· slim (optimized)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Excellent choice for {{dockerBaseRuntime}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">slim is the recommended default for most projects:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">~150MB</span><span>significantly smaller than full Debian</span><span style=\"font-weight:600;color:var(--text-secondary)\">Debian-based</span><span>all native extensions and C libraries work</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compatible with everything</span><span>no musl/glibc issues</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Missing only: man pages, docs, dev headers (rarely needed at runtime)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the sweet spot between image size and compatibility. You're unlikely to hit missing-library issues that alpine can cause.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "alpine"
                                                                },
                                                                "icon": "ğŸ”",
                                                                "content": "âœ“ alpine variant â€” smallest image (~50MB) but uses musl libc. Watch for C extension compatibility.",
                                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Variant Â· alpine (smallest)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alpine Linux â€” smallest possible image for {{dockerBaseRuntime}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Benefits:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">~50MB</span><span>dramatically smaller than slim (~150MB) or full (~400MB)</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Fastest pull times and smallest registry storage</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Minimal attack surface for security</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Risks:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Uses musl libc instead of glibc</span><span>some C extensions may fail to compile</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Python: numpy, pandas, cryptography may need extra build dependencies</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Node.js: native addons may need rebuilding</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If builds fail with missing library errors, switch to 'slim' â€” it's the safe fallback.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: Go (multi-stage final image), Redis, Nginx, and apps without native dependencies.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "bookworm"
                                                                },
                                                                "icon": "ğŸ“€",
                                                                "content": "âš  bookworm variant â€” full Debian 12 (~400MB+). Consider slim for smaller images unless you need all system libraries.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“€ Variant Â· bookworm (full Debian)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Full Debian Bookworm â€” largest variant for {{dockerBaseRuntime}}.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">~400MB+ image with every system library. This works for everything but is larger than necessary for most projects.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">When full Debian is justified:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Complex native dependencies that fail on slim/alpine</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ System tools needed at runtime (curl, wget, etc.)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Legacy packages only available in full Debian repos</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Otherwise, consider switching to 'slim' â€” same compatibility, ~60% smaller.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "bullseye"
                                                                },
                                                                "icon": "ğŸ“€",
                                                                "content": "âš  bullseye variant â€” full Debian 11 (older). Consider bookworm (Debian 12) or slim for a smaller, newer image.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“€ Variant Â· bullseye (older Debian)</div><div class=\"state-detail\">âš  Debian 11 Bullseye â€” older stable release.\n\nThis still receives security updates but newer packages and fixes are in bookworm (Debian 12). Consider upgrading to bookworm or switching to slim for a smaller image.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "cli"
                                                                },
                                                                "icon": "ğŸ’»",
                                                                "content": "âœ“ cli variant â€” PHP CLI mode, no web server. Appropriate for CLI tools, workers, and scripts.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ’» Variant Â· cli (PHP CLI)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ PHP CLI mode â€” no built-in web server.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Appropriate for:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CLI tools and scripts</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Queue workers and cron jobs</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Artisan commands (Laravel)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For web apps, consider 'fpm' (with nginx) or 'apache' (self-contained).</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "fpm"
                                                                },
                                                                "icon": "âš¡",
                                                                "content": "âœ“ fpm variant â€” PHP FastCGI Process Manager. Pair with nginx for production web serving.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš¡ Variant Â· fpm (PHP-FPM)</div><div class=\"state-detail\">âœ“ PHP-FPM â€” production-grade PHP process management.\n\nRequires a separate web server (typically nginx) to proxy requests. This is the recommended setup for production PHP applications â€” better performance and control than mod_php or the built-in server.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "jdk"
                                                                },
                                                                "icon": "â˜•",
                                                                "content": "âœ“ JDK variant â€” full Java Development Kit. Use JRE variant for smaller runtime-only images.",
                                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜• Variant Â· JDK</div><div class=\"state-detail\">Full JDK includes the Java compiler (javac) and development tools.\n\nFor production runtime-only images, consider 'jre-alpine' â€” it includes only the JVM, making the image significantly smaller. Use JDK in build stages, JRE in the final stage.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "equals": ""
                                                                },
                                                                "icon": "âš ï¸",
                                                                "content": "âš  No variant â€” using default image. May be unnecessarily large. Consider adding '-slim' or '-alpine'.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Variant Â· none (default)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  No variant suffix detected â€” the image defaults to its base variant.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For most runtimes, the default is a full Debian image (~400MB+). This is bigger than necessary.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Recommendation: Add a variant suffix to optimize image size:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">'-slim'</span><span>safe default (~150MB), works with everything</span><span style=\"font-weight:600;color:var(--text-secondary)\">'-alpine'</span><span>smallest (~50MB), watch for C extension issues</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Edit the base image field to add the variant after the version: e.g., {{dockerBaseRuntime}}:{{dockerBaseVersion}}-slim</div></div></div>"
                                                            }
                                                        ],
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Variant Â· {{dockerBaseVariant}}</div><div class=\"state-detail\">{{dockerBaseVariantExplain}}\n\nThe variant controls the OS base and image size. Edit the base image field to change it â€” the variant is everything after the first dash in the tag.</div></div>",
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "id": "docker-field-workdir",
                                                "title": "Working Directory",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-docker-workdir",
                                                "content": "WORKDIR in the Dockerfile â€” the directory inside the container where your code lives. Usually /app.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Working Directory</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sets the WORKDIR instruction in the Dockerfile. All subsequent COPY, RUN, and CMD instructions execute relative to this directory.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Conventions:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">/app</span><span>most common, universally understood</span><span style=\"font-weight:600;color:var(--text-secondary)\">/usr/src/app</span><span>Node.js convention</span><span style=\"font-weight:600;color:var(--text-secondary)\">/go/src/app</span><span>Go convention (though /app is fine too)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The WORKDIR instruction also creates the directory if it doesn't exist. It's equivalent to mkdir -p /app && cd /app.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Leave as /app unless your framework expects a specific path.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-field-install",
                                                "title": "Install Command",
                                                "icon": "ğŸ“¥",
                                                "selector": "#wiz-docker-install",
                                                "content": "The RUN command that installs dependencies â€” e.g., pip install, npm install, go mod download.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¥ Install Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This becomes a RUN instruction in the Dockerfile that installs your project's dependencies during the build.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Python</span><span>pip install --no-cache-dir -r requirements.txt</span><span style=\"font-weight:600;color:var(--text-secondary)\">Node.js</span><span>npm ci --only=production</span><span style=\"font-weight:600;color:var(--text-secondary)\">Go</span><span>go mod download</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ruby</span><span>bundle install</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated Dockerfile copies dependency files (requirements.txt, package.json) BEFORE copying source code. This means dependency installation is cached â€” it only re-runs when dependency files change, not on every code change.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is a critical Docker optimization: changing a Python source file won't trigger a full pip install, saving minutes on every build.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pre-filled from your stack detection.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-field-port",
                                                "title": "Expose Port",
                                                "icon": "ğŸ”Œ",
                                                "selector": "#wiz-docker-port",
                                                "content": "The EXPOSE port â€” which network port your application listens on inside the container.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”Œ Expose Port</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sets the EXPOSE instruction and the port mapping in docker-compose.yml.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">EXPOSE is documentation â€” it tells users and tools which port the app listens on. The actual port binding happens in compose (ports: - '8080:8080').</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common ports:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">8080</span><span>generic web service</span><span style=\"font-weight:600;color:var(--text-secondary)\">3000</span><span>Node.js/React dev server</span><span style=\"font-weight:600;color:var(--text-secondary)\">8000</span><span>Python (Django, FastAPI, Flask)</span><span style=\"font-weight:600;color:var(--text-secondary)\">5000</span><span>Flask default</span><span style=\"font-weight:600;color:var(--text-secondary)\">4000</span><span>Phoenix/Elixir</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated compose file maps this port 1:1 (host:container). If you need a different host port (e.g., host 9090 â†’ container 8080), edit the compose file after generation.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hidden for library-type projects that don't expose network services.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-field-cmd",
                                                "title": "Entry Command",
                                                "icon": "ğŸš€",
                                                "selector": "#wiz-docker-cmd",
                                                "content": "CMD instruction â€” the command that runs when the container starts.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Entry Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sets the CMD instruction â€” what runs when the container starts. This is the 'main process' of your container.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Python</span><span>python -m uvicorn app:app --host 0.0.0.0 --port 8080</span><span style=\"font-weight:600;color:var(--text-secondary)\">Node.js</span><span>node server.js or npm start</span><span style=\"font-weight:600;color:var(--text-secondary)\">Go</span><span>./app (compiled binary)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ruby</span><span>bundle exec rails server</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Important:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Always bind to 0.0.0.0, not 127.0.0.1 (container networking requires it)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The CMD process should run in the foreground (not daemonize)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ When this process exits, the container stops</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">CMD vs ENTRYPOINT:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CMD</span><span>default command, can be overridden with docker run args</span><span style=\"font-weight:600;color:var(--text-secondary)\">ENTRYPOINT</span><span>always runs, CMD args are appended</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For development, you can override CMD in compose with 'command:' per service.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hidden for library-type projects that don't have a runtime entry point.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-genconfig-warning",
                                                "title": "Multi-Module Warning",
                                                "icon": "âš ï¸",
                                                "selector": "#wiz-docker-genconfig-warning",
                                                "content": "Your project has multiple modules â€” Basic Config creates only a single-service Dockerfile. Use Full Docker Setup for per-module configuration.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Basic Config Limitation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has multiple modules or compose services. Basic Config generates a single-template Dockerfile for one service only.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What Basic Config handles:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ One Dockerfile with one service</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ One optional docker-compose.yml entry</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stack-detected base image and commands</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it does NOT handle:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Per-module Dockerfiles (each module needs its own)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Infrastructure services (databases, caches, queues)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Vault-managed environment variables</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Custom port/volume mappings per service</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Health checks and resource limits</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For multi-module projects, use 'ğŸš€ Full Docker Setup' below â€” it creates per-module Dockerfiles, adds infrastructure services, maps vault secrets to env vars, and generates a comprehensive docker-compose.yml.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-fullsetup",
                                        "title": "Full Docker Setup",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-docker-section-fullsetup",
                                        "content": "Open the comprehensive Docker wizard â€” per-module Dockerfiles, infrastructure services, vault integration, and live preview.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full Docker Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Full Docker Setup wizard goes beyond basic config generation. It opens a multi-step wizard that handles:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Per-module Dockerfiles</span><span>each detected module gets its own Dockerfile tailored to its stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Infrastructure services</span><span>add databases (postgres, mysql, mongo), caches (redis, memcached), queues (rabbitmq, kafka)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Environment variables</span><span>map vault secrets to container env vars per service</span><span style=\"font-weight:600;color:var(--text-secondary)\">Port and volume mappings</span><span>configure host:container bindings with conflict detection</span><span style=\"font-weight:600;color:var(--text-secondary)\">Health checks</span><span>readiness probes for each service</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>comprehensive exclusion rules tailored to your stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live preview</span><span>see the generated Dockerfile and compose file before writing to disk</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The readiness pills below show what the wizard has to work with:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Modules</span><span>detected code modules in your project</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile</span><span>whether one already exists (will offer merge or overwrite)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose</span><span>whether a compose file exists</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>whether build context filtering is configured</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when Basic Config isn't sufficient â€” typically for projects with 2+ services or any infrastructure dependencies.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-fullsetup-pill-modules",
                                                "title": "Modules",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-docker-fullsetup-pill-modules",
                                                "content": "{{dockerModules}} module(s) detected â€” each will get its own Dockerfile in the full setup wizard.",
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-fullsetup-pill-dockerfile",
                                                "title": "Dockerfile Status",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-docker-fullsetup-pill-dockerfile",
                                                "content": "Shows whether a Dockerfile already exists. The wizard will offer to merge with or replace existing files.",
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-fullsetup-pill-compose",
                                                "title": "Compose Status",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-docker-fullsetup-pill-compose",
                                                "content": "Shows whether a compose file exists. The wizard will merge new services into existing or create from scratch.",
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-fullsetup-pill-dockerignore",
                                                "title": ".dockerignore Status",
                                                "icon": "ğŸš«",
                                                "selector": "#wiz-docker-fullsetup-pill-dockerignore",
                                                "content": "Shows whether .dockerignore exists. The wizard generates comprehensive patterns tailored to your stack.",
                                                "expanded": "",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-delete",
                                        "title": "Delete Config",
                                        "icon": "ğŸ—‘",
                                        "selector": "#wiz-docker-section-delete",
                                        "content": "Remove generated Docker configuration files (Dockerfile, compose file) from your project.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ—‘ Delete Docker Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes Docker configuration files that were generated by the control plane.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile</span><span>your container build recipe</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker-compose.yml</span><span>your service orchestration config</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will NOT delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>kept for safety</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Any running containers or images (use â¹ Stop and ğŸ§¹ Prune for those)</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Any manually created Docker files outside the project root</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">After deletion:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Operations buttons will disappear (no compose file)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Status pills will show â—‹ for Dockerfile and compose</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ You can regenerate at any time with Basic Config or Full Setup</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when you want to start fresh with a different Docker configuration.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "docker-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-docker",
                                        "content": "Generate the Docker configuration files with the settings from the Basic Config form above.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply Docker Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates Docker configuration files based on the form values above:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile</span><span>created in your project root with the specified base image, install command, port, and entry command</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker-compose.yml</span><span>created if the checkbox is checked, with your service mapped to the specified port</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If 'Overwrite existing Dockerfile' is unchecked and a Dockerfile already exists, the generation will skip it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">After applying:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Status pills will update to show âœ“ for Dockerfile (and compose if generated)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Operations section will appear (if compose was generated and daemon is running)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ You can immediately use â–¶ Start to run your containers</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated files are standard Docker files â€” you can edit them manually at any time.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "docker-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-docker",
                                        "content": "Close the Docker setup panel without generating any files. No changes are made.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the Docker setup panel without generating any files or modifying any existing configuration.\n\nReopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and stack detection.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "k8s-card",
                        "title": "Kubernetes",
                        "icon": "â˜¸ï¸",
                        "selector": "#wiz-int-wrap-k8s",
                        "content": "Kubernetes orchestration â€” deploy, scale, and manage containerized workloads across clusters.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ“ cluster"
                                },
                                "content": "kubectl connected to a live cluster â€” {{k8sResources}} resource(s) across {{k8sManifests}} manifest file(s). Your K8s pipeline is operational.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· cluster connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Kubernetes environment is fully operational:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">kubectl</span><span>connected and authenticated</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manifests</span><span>{{k8sManifests}} file(s), {{k8sResources}} resource(s)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cluster</span><span>reachable â€” live operations available (Pods, Services, Deployments, Validate)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With a connected cluster, you can apply manifests directly, inspect running workloads, and validate configurations before deployment.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Kubernetes turns your containers (built via Docker) into production workloads with scaling, self-healing, service discovery, and rolling updates.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "â—‹ no cluster"
                                },
                                "content": "kubectl is available but no cluster is connected. Manifest generation and analysis work â€” live cluster operations are blocked.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· no cluster</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">kubectl is installed but can't reach a cluster. Without a cluster:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot apply manifests</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot inspect running pods/services/deployments</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot validate live cluster state</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still generate and analyze manifest files</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still set up Helm charts and Kustomize overlays</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To connect a cluster:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Local</span><span>minikube start, kind create cluster, or Docker Desktop K8s</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cloud</span><span>aws eks update-kubeconfig, gcloud container clusters get-credentials, az aks get-credentials</span><span style=\"font-weight:600;color:var(--text-secondary)\">Custom</span><span>set KUBECONFIG or merge into ~/.kube/config</span></div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âœ— no kubectl"
                                },
                                "content": "kubectl is not installed. Install it to enable Kubernetes manifest management and cluster operations.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· kubectl missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">kubectl is not detected on this system. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot communicate with Kubernetes clusters</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot apply, inspect, or validate manifests on a cluster</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still generate manifest YAML files</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane can generate manifests without kubectl â€” they'll be ready when kubectl is installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Snap</span><span>sudo snap install kubectl --classic</span><span style=\"font-weight:600;color:var(--text-secondary)\">Homebrew</span><span>brew install kubectl</span><span style=\"font-weight:600;color:var(--text-secondary)\">Binary</span><span>https://kubernetes.io/docs/tasks/tools/</span></div></div></div>"
                            }
                        ],
                        "expanded": "",
                        "children": [
                            {
                                "id": "k8s-setup",
                                "title": "K8s Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-k8s",
                                "content": "Kubernetes integration setup â€” manifest analysis, cluster connectivity, and deployment tooling.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel manages your project's Kubernetes configuration. It covers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Manifests</span><span>YAML files defining Deployments, Services, ConfigMaps, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Helm</span><span>package manager for K8s â€” charts bundle related manifests with configurable values</span><span style=\"font-weight:600;color:var(--text-secondary)\">Kustomize</span><span>overlay system â€” one base + per-environment patches (dev/staging/prod)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live Cluster</span><span>real-time pod/service/deployment inspection and validation</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Unlike Docker (which builds images), Kubernetes deploys those images as workloads â€” scheduling them across nodes, managing networking, and handling scaling and self-healing.</div></div></div>",
                                "children": [
                                    {
                                        "id": "k8s-section-status",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-k8s-section-status",
                                        "content": "Seven status pills showing kubectl, resource count, Helm charts, Kustomize, deployment strategy, readiness, and cluster connectivity.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š K8s Status Strip</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">kubectl</span><span>whether the CLI is available and its version</span><span style=\"font-weight:600;color:var(--text-secondary)\">resources</span><span>total K8s resources found across all manifest files</span><span style=\"font-weight:600;color:var(--text-secondary)\">Helm</span><span>number of Helm charts detected in the project</span><span style=\"font-weight:600;color:var(--text-secondary)\">Kustomize</span><span>whether kustomization.yaml exists and overlay count</span><span style=\"font-weight:600;color:var(--text-secondary)\">strategy</span><span>deployment strategy: raw manifests, Helm, Kustomize, or mixed</span><span style=\"font-weight:600;color:var(--text-secondary)\">readiness</span><span>overall deployment readiness: ready, needs_config, needs_tools</span><span style=\"font-weight:600;color:var(--text-secondary)\">cluster</span><span>whether kubectl can reach a live cluster</span></div></div></div>",
                                        "children": [
                                            {
                                                "id": "k8s-pill-kubectl",
                                                "title": "kubectl",
                                                "icon": "â˜¸ï¸",
                                                "selector": "#wiz-k8s-pill-kubectl",
                                                "content": "Kubernetes CLI â€” the primary tool for managing clusters, applying manifests, and inspecting workloads.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ kubectl</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">kubectl is the command-line interface for Kubernetes. It communicates with the cluster's API server to manage all resources.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Apply</span><span>kubectl apply -f manifest.yaml</span><span style=\"font-weight:600;color:var(--text-secondary)\">Get</span><span>kubectl get pods, deployments, services</span><span style=\"font-weight:600;color:var(--text-secondary)\">Logs</span><span>kubectl logs pod-name -f</span><span style=\"font-weight:600;color:var(--text-secondary)\">Exec</span><span>kubectl exec -it pod-name -- /bin/sh</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-resources",
                                                "title": "Resources",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-k8s-pill-resources",
                                                "content": "Total K8s resource definitions found across all manifest files â€” Deployments, Services, ConfigMaps, etc.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resource Count</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each resource is a declared K8s object â€” the cluster creates and manages it. Multiple resources can be defined in a single YAML file using --- separators.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">A minimal deployment needs at least 1 Deployment + 1 Service = 2 resources. Production setups typically have 5-15+ resources per microservice (ConfigMaps, Secrets, HPA, PDB, Ingress, etc.).</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-helm",
                                                "title": "Helm",
                                                "icon": "âˆ",
                                                "selector": "#wiz-k8s-pill-helm",
                                                "content": "Helm chart detection â€” charts package K8s manifests into version-controlled, configurable bundles.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âˆ Helm Charts</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Helm is the package manager for Kubernetes. A chart bundles templates, default values, and dependencies into a release.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">When present, Helm provides:<br>â€¢ Templated manifests with configurable values<br>â€¢ Release versioning and rollback capabilities<br>â€¢ Dependency management (e.g. PostgreSQL as a subchart)<br>â€¢ Per-environment values files (values-dev.yaml, values-prod.yaml)</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-kustomize",
                                                "title": "Kustomize",
                                                "icon": "ğŸ—‚",
                                                "selector": "#wiz-k8s-pill-kustomize",
                                                "content": "Kustomize detection â€” overlay system that patches base manifests per environment without templating.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—‚ Kustomize</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Kustomize is built into kubectl â€” no extra installation needed. It works by patching plain YAML manifests:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ Base manifests define the common resources<br>â€¢ Overlays apply strategic merge patches per environment<br>â€¢ No template language â€” just YAML manipulation<br>â€¢ Apply with: kubectl apply -k overlays/prod/</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-strategy",
                                                "title": "Strategy",
                                                "icon": "âš¡",
                                                "selector": "#wiz-k8s-pill-strategy",
                                                "content": "Deployment strategy â€” raw manifests, Helm charts, Kustomize overlays, or a mix of approaches.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Deployment Strategy</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">raw_kubectl</span><span>plain YAML manifests applied directly with kubectl apply -f</span><span style=\"font-weight:600;color:var(--text-secondary)\">helm</span><span>charts with values â€” uses helm install/upgrade</span><span style=\"font-weight:600;color:var(--text-secondary)\">kustomize</span><span>base + overlays â€” uses kubectl apply -k</span><span style=\"font-weight:600;color:var(--text-secondary)\">mixed</span><span>multiple strategies detected â€” some manifests are raw, others use Helm or Kustomize</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-readiness",
                                                "title": "Readiness",
                                                "icon": "âœ…",
                                                "selector": "#wiz-k8s-pill-readiness",
                                                "content": "Overall K8s deployment readiness â€” whether all tools are installed and manifests are properly configured.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Deployment Readiness</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--success)\">âœ“ ready</span><span>all tools installed, manifests valid, can deploy immediately</span><span style=\"font-weight:600;color:var(--warning)\">âš  needs config</span><span>tools available but manifests need configuration â€” use the form below</span><span style=\"font-weight:600;color:var(--warning)\">âš  needs tools</span><span>missing required tools â€” install them from the System Tools section</span><span style=\"font-weight:600;color:var(--text-muted)\">â—‹ not configured</span><span>no K8s manifests detected â€” generate them with the config form or Full Setup</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-cluster",
                                                "title": "Cluster",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-k8s-pill-cluster",
                                                "content": "Live cluster connectivity â€” whether kubectl can reach a Kubernetes API server.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Cluster Connectivity</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A connected cluster enables live operations â€” applying manifests, inspecting pods, reading logs. Without a cluster, the control plane can still generate and analyze manifest files.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Local</span><span>minikube, kind, Docker Desktop K8s, k3s</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cloud</span><span>EKS (AWS), GKE (Google), AKS (Azure)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Config</span><span>~/.kube/config or KUBECONFIG env var</span></div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "k8s-section-manifests",
                                        "title": "Manifests",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-k8s-section-manifests",
                                        "content": "Manifest analysis â€” {{k8sManifests}} file(s) containing {{k8sResources}} K8s resource(s). Each manifest is parsed for resource kinds, counts, and structure.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“„ Manifest Analysis Â· {{k8sManifests}} file(s)</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each manifest below for per-file breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ§© Resource Kinds</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸš€ Deployment</span><span>manages replicated pods â€” rolling updates, rollbacks, scaling</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1);font-size:0.68rem;font-weight:600\">ğŸŒ Service</span><span>stable network endpoint â€” ClusterIP, NodePort, or LoadBalancer</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(40,80%,50%,0.1);color:hsla(40,80%,55%,1);font-size:0.68rem;font-weight:600\">ğŸ”§ ConfigMap</span><span>key-value config injected as env vars or mounted files</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(0,70%,55%,0.1);color:hsla(0,70%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ”’ Secret</span><span>base64-encoded sensitive data â€” passwords, tokens, certs</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(280,60%,55%,0.1);color:hsla(280,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ“€ PVC</span><span>PersistentVolumeClaim â€” requests durable storage for pods</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(170,60%,45%,0.1);color:hsla(170,60%,50%,1);font-size:0.68rem;font-weight:600\">ğŸŒ Ingress</span><span>HTTP routing â€” hostname + path rules that expose services externally</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(30,70%,55%,0.1);color:hsla(30,70%,60%,1);font-size:0.68rem;font-weight:600\">â° CronJob</span><span>scheduled pod execution â€” backups, cleanups, reports</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(320,50%,55%,0.1);color:hsla(320,50%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ“ˆ HPA</span><span>HorizontalPodAutoscaler â€” scales replicas based on CPU/memory/custom metrics</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“ Manifest Structure</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\">K8s manifests are YAML files with <code style=\"font-size:0.68rem\">apiVersion</code>, <code style=\"font-size:0.68rem\">kind</code>, <code style=\"font-size:0.68rem\">metadata</code>, and <code style=\"font-size:0.68rem\">spec</code>. Multiple resources can live in one file separated by <code style=\"font-size:0.68rem\">---</code>.</div><div style=\"margin-top:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Group related resources (Deployment + Service) in one file for clarity</div><div style=\"margin-top:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Use namespaces to isolate environments</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“„ {{name}}",
                                            "content": "Manifest file {{name}} â€” hover for resource kind breakdown and structure analysis.",
                                            "selector": "#wiz-k8s-section-manifests [style*=\"border-bottom\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-helm",
                                        "title": "Helm Charts",
                                        "icon": "âˆ",
                                        "selector": "#wiz-k8s-section-helm",
                                        "content": "Helm chart analysis â€” charts package K8s resources into reusable, configurable bundles with values overrides per environment.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">âˆ Helm Chart Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each chart below for per-chart breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“¦ Chart Structure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Chart.yaml</span><span>chart metadata â€” name, version, dependencies, type (application vs library)</span><span style=\"font-weight:600;color:var(--text-secondary)\">values.yaml</span><span>default configuration â€” image tags, replica counts, resource limits, feature flags</span><span style=\"font-weight:600;color:var(--text-secondary)\">templates/</span><span>Go-templated K8s manifests â€” rendered with values to produce final YAML</span><span style=\"font-weight:600;color:var(--text-secondary)\">charts/</span><span>subcharts â€” bundled dependencies (e.g. PostgreSQL, Redis as subcharts)</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸŒ± Environment Values</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\">Per-environment values files (values-dev.yaml, values-prod.yaml) override defaults for each target. Install with:</div><div style=\"margin-top:0.15rem;font-family:monospace;font-size:0.7rem;padding:0.2rem 0.4rem;border-radius:3px;background:var(--bg-primary)\">helm install myapp ./chart -f values-prod.yaml</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "âˆ {{name}}",
                                            "content": "Helm chart {{name}} â€” hover for chart metadata, values files, templates, and subchart analysis.",
                                            "selector": "#wiz-k8s-section-helm [style*=\"border-bottom\"]",
                                            "nameSelector": "strong"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-kustomize",
                                        "title": "Kustomize",
                                        "icon": "ğŸ—‚",
                                        "selector": "#wiz-k8s-section-kustomize",
                                        "content": "Kustomize overlay analysis â€” a base set of manifests with per-environment patches. No templating â€” pure YAML patching.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ—‚ Kustomize Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Kustomize lets you maintain one set of base manifests and apply patches per environment â€” no template engine, just strategic merge patches on plain YAML.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“ Structure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">base/</span><span>common manifests shared across all environments</span><span style=\"font-weight:600;color:var(--text-secondary)\">overlays/</span><span>per-environment customizations (dev, staging, prod)</span><span style=\"font-weight:600;color:var(--text-secondary)\">patches</span><span>strategic merge patches that modify specific fields</span><span style=\"font-weight:600;color:var(--text-secondary)\">configMapGenerator</span><span>generates ConfigMaps from files or literals</span><span style=\"font-weight:600;color:var(--text-secondary)\">images</span><span>image tag overrides without editing manifests</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ”§ Usage</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\">Apply with: <code style=\"font-size:0.68rem\">kubectl apply -k overlays/prod/</code></div><div style=\"margin-top:0.15rem\">Preview output: <code style=\"font-size:0.68rem\">kubectl kustomize overlays/prod/</code></div><div style=\"margin-top:0.15rem\">Kustomize is built into kubectl â€” no extra tools needed.</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“ {{name}}",
                                            "content": "Kustomize overlay {{name}} â€” environment-specific patches applied on top of the base manifests.",
                                            "selector": "#wiz-k8s-section-kustomize [style*=\"padding:0.1rem\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-envs",
                                        "title": "Environments",
                                        "icon": "ğŸŒ±",
                                        "selector": "#wiz-k8s-section-envs",
                                        "content": "Detected environments from Kustomize overlays and Helm values files â€” each targets a different deployment stage.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ± Detected Environments</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill represents a detected environment target. Sources:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Kustomize overlay</span><span>a directory under overlays/ with its own kustomization.yaml</span><span style=\"font-weight:600;color:var(--text-secondary)\">Helm values file</span><span>values-&lt;env&gt;.yaml with environment-specific overrides</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Environments let you deploy the same application with different configuration â€” smaller replicas in dev, more resources and strict policies in prod.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-infra",
                                        "title": "Infra Dependencies",
                                        "icon": "ğŸ—",
                                        "selector": "#wiz-k8s-section-infra",
                                        "content": "Infrastructure services detected in your K8s manifests â€” databases, caches, and other backing services your application depends on.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ— Infrastructure Dependencies</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">These are backing services detected in your manifests â€” each appears as a Deployment, StatefulSet, or Service with a recognizable image.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">In production K8s, consider:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Managed services (RDS, Cloud SQL) instead of in-cluster databases</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Operators for stateful workloads (PostgreSQL Operator, Redis Operator)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ PersistentVolumeClaims for any data that must survive pod restarts</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-live",
                                        "title": "Live Cluster",
                                        "icon": "ğŸ–¥",
                                        "selector": "#wiz-k8s-section-live",
                                        "content": "Live cluster inspection â€” query running pods, services, deployments, and validate manifest readiness against the connected cluster.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ–¥ Live Cluster Panel</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel queries your connected K8s cluster in real time. Click a button to fetch current state:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“¦ Pods</span><span>running containers â€” status, restarts, age, node placement</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸŒ Services</span><span>network endpoints â€” type, cluster IP, external IP, ports</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸš€ Deployments</span><span>desired vs ready replicas, rollout status, revision history</span><span style=\"font-weight:600;color:var(--text-secondary)\">âœ… Validate</span><span>dry-run apply of your manifests â€” catches errors before real deployment</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ–¥ Cluster</span><span>node count, Kubernetes version, resource capacity</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Data is fetched fresh each time â€” reflects actual cluster state, not cached detection.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-genconfig",
                                        "title": "Generate Manifests",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-k8s-section-genconfig",
                                        "content": "Basic manifest generation â€” creates a Deployment + Service YAML from the fields below. For complex setups, use Full K8s Setup.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Basic Manifest Generation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This form generates a minimal Deployment + Service pair. Fill in the fields and hit Apply.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">App Name</span><span>used for metadata.name, labels, and selectors across both resources</span><span style=\"font-weight:600;color:var(--text-secondary)\">Container Image</span><span>the Docker image to deploy â€” must be pullable from the cluster</span><span style=\"font-weight:600;color:var(--text-secondary)\">Container Port</span><span>the port your app listens on inside the container</span><span style=\"font-weight:600;color:var(--text-secondary)\">Replicas</span><span>number of pod instances â€” more replicas = higher availability</span><span style=\"font-weight:600;color:var(--text-secondary)\">Namespace</span><span>K8s namespace to deploy into â€” 'default' if unset</span><span style=\"font-weight:600;color:var(--text-secondary)\">Service Type</span><span>ClusterIP (internal), NodePort (node access), LoadBalancer (external)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If your project uses Helm charts, Kustomize overlays, or has multiple modules, use ğŸš€ Full K8s Setup below for comprehensive per-service configuration.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "k8s-field-name",
                                                "title": "App Name",
                                                "icon": "ğŸ·ï¸",
                                                "selector": "#wiz-k8s-name",
                                                "content": "The application name â€” used in metadata.name for the Deployment, Service, and all label selectors. Keep it lowercase with hyphens.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ App Name</div><div class=\"state-detail\">This value becomes metadata.name in your K8s resources and is used in label selectors (app: your-name) that tie Deployments to Services.<br><br>Conventions: lowercase, hyphens not underscores, max 63 characters. Example: my-api, payment-service, frontend.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-image",
                                                "title": "Container Image",
                                                "icon": "ğŸ³",
                                                "selector": "#wiz-k8s-image",
                                                "content": "The Docker image to deploy. Must be pullable from the cluster â€” either a public registry or one your cluster has credentials for.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Container Image</div><div class=\"state-detail\">The image reference goes into spec.containers[].image. Format: registry/name:tag<br><br>Examples:<br>â€¢ myapp:latest (local/default registry)<br>â€¢ ghcr.io/org/myapp:v1.2.3 (GitHub Container Registry)<br>â€¢ 123456789.dkr.ecr.us-east-1.amazonaws.com/myapp:latest (AWS ECR)<br><br>Use a specific tag (not 'latest') in production for reproducible deployments.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-port",
                                                "title": "Container Port",
                                                "icon": "ğŸ”Œ",
                                                "selector": "#wiz-k8s-port",
                                                "content": "The port your application listens on inside the container. Must match the EXPOSE directive in your Dockerfile.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”Œ Container Port</div><div class=\"state-detail\">This port is used in both the Deployment's containerPort and the Service's targetPort.<br><br>Common ports by stack:<br>â€¢ 5000/8000 â€” Python (Flask/FastAPI/Django)<br>â€¢ 3000 â€” Node.js (Express/Next.js)<br>â€¢ 8080 â€” Go / Java / generic<br>â€¢ 4000 â€” Elixir Phoenix<br><br>The Service routes traffic from its port to this containerPort.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-replicas",
                                                "title": "Replicas",
                                                "icon": "ğŸ“Š",
                                                "selector": "#wiz-k8s-replicas",
                                                "content": "How many pod instances to run. More replicas = higher availability but more resource consumption.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Replica Count</div><div class=\"state-detail\">spec.replicas in the Deployment. Kubernetes maintains exactly this many pods running at all times.<br><br>Guidelines:<br>â€¢ 1 â€” development/testing<br>â€¢ 2-3 â€” staging and small production workloads<br>â€¢ 3+ â€” production with high availability requirements<br><br>For auto-scaling, use HPA (HorizontalPodAutoscaler) instead of a fixed count â€” it adjusts replicas based on CPU/memory metrics.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-namespace",
                                                "title": "Namespace",
                                                "icon": "ğŸ“‚",
                                                "selector": "#wiz-k8s-namespace",
                                                "content": "The K8s namespace to deploy into. Namespaces isolate resources â€” use different ones for dev, staging, and production.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ Namespace</div><div class=\"state-detail\">metadata.namespace in all generated resources. Namespaces are virtual clusters within a physical cluster.<br><br>Conventions:<br>â€¢ 'default' â€” fine for learning and single-app clusters<br>â€¢ project-name â€” isolate by project<br>â€¢ dev / staging / prod â€” isolate by environment<br><br>Resources in different namespaces are isolated â€” a Service in namespace A can't reach pods in namespace B without the full DNS name (svc.namespace.svc.cluster.local).</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-service-type",
                                                "title": "Service Type",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-k8s-service-type",
                                                "content": "How the Service is exposed. ClusterIP (internal only), NodePort (via node IP), or LoadBalancer (external IP from cloud provider).",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Service Type</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ClusterIP</span><span>internal only â€” reachable from inside the cluster. Use with Ingress for external HTTP traffic. <strong>Default and recommended.</strong></span><span style=\"font-weight:600;color:var(--text-secondary)\">NodePort</span><span>exposes on every node at a static port (30000-32767). Useful for development and on-prem clusters without a load balancer.</span><span style=\"font-weight:600;color:var(--text-secondary)\">LoadBalancer</span><span>provisions a cloud load balancer (AWS ALB/NLB, GCP LB, Azure LB). Each costs money. Use sparingly â€” prefer Ingress to multiplex many services behind one LB.</span></div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "k8s-section-fullsetup",
                                        "title": "Full K8s Setup",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-k8s-section-fullsetup",
                                        "content": "Full multi-step K8s wizard â€” per-service Deployments, Helm chart generation, Skaffold configuration, HPA autoscaling, and live preview.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full K8s Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The full setup wizard provides comprehensive K8s configuration beyond the basic Deployment + Service pair. It covers:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Per-module Deployments with resource limits and health probes</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Environment variables from vault (secrets integration)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Helm chart scaffolding with values templates</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Skaffold configuration for local dev/deploy workflows</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Volume and PVC management</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ HPA autoscaling configuration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Live preview and editing of generated YAML</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when your project has multiple services, needs Helm charts, or requires production-grade configurations with probes and resource limits.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "k8s-fullsetup-pill-resources",
                                                "title": "Resources Detected",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-k8s-fullsetup-pill-resources",
                                                "content": "Existing K8s resources detected in the project â€” the full setup will extend or replace these.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-kubectl",
                                                "title": "kubectl",
                                                "icon": "â˜¸ï¸",
                                                "selector": "#wiz-k8s-fullsetup-pill-kubectl",
                                                "content": "kubectl availability â€” required for applying generated manifests to a cluster.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-helm",
                                                "title": "Helm Charts",
                                                "icon": "âˆ",
                                                "selector": "#wiz-k8s-fullsetup-pill-helm",
                                                "content": "Existing Helm charts â€” the full setup can generate new charts or extend existing ones.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-kustomize",
                                                "title": "Kustomize",
                                                "icon": "ğŸ—‚",
                                                "selector": "#wiz-k8s-fullsetup-pill-kustomize",
                                                "content": "Kustomize detection â€” the full setup can generate base manifests with overlay structure.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-docker",
                                                "title": "Docker Ready",
                                                "icon": "ğŸ³",
                                                "selector": "#wiz-k8s-fullsetup-pill-docker",
                                                "content": "Docker availability â€” needed to build container images that K8s will deploy.",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "k8s-section-delete",
                                        "title": "Delete Manifests",
                                        "icon": "ğŸ—‘",
                                        "selector": "#wiz-k8s-section-delete",
                                        "content": "Remove generated K8s manifest files from your project. Does not affect running cluster resources.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ—‘ Delete K8s Manifests</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes K8s manifest files that were generated by the control plane.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">k8s/ directory</span><span>all generated YAML manifests</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will NOT:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Delete any resources running on your cluster</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Touch Helm charts or Kustomize overlays you created manually</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After deletion, you can regenerate manifests at any time with the config form or Full Setup.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-k8s",
                                        "content": "Generate K8s manifest files with the settings from the config form above.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply K8s Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates Kubernetes manifest files based on the form values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">deployment.yaml</span><span>Deployment with the specified image, port, replicas, and namespace</span><span style=\"font-weight:600;color:var(--text-secondary)\">service.yaml</span><span>Service with the specified type routing to the container port</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Files are created in the k8s/ directory. The generated YAML is standard Kubernetes â€” you can edit it manually at any time.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-k8s",
                                        "content": "Close the K8s setup panel without generating any files. No changes are made.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the K8s setup panel without generating any files or modifying any existing configuration.<br><br>Reopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and stack detection.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "terraform-card",
                        "title": "Terraform",
                        "icon": "ğŸ—ï¸",
                        "selector": "#wiz-int-wrap-terraform",
                        "content": "Infrastructure as Code â€” provision and manage cloud resources from declarative HCL configurations.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ“ initialized"
                                },
                                "content": "Terraform is initialized with {{tfResources}} resource(s) across {{tfProviders}} provider(s). State is tracked and infrastructure operations are available.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· initialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Terraform environment is fully operational:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CLI</span><span>terraform available and working</span><span style=\"font-weight:600;color:var(--text-secondary)\">State</span><span>initialized â€” terraform plan/apply ready</span><span style=\"font-weight:600;color:var(--text-secondary)\">Resources</span><span>{{tfResources}} declared resource(s)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Providers</span><span>{{tfProviders}} configured provider(s)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With an initialized state, you can run terraform plan to preview changes and terraform apply to provision infrastructure. The Live panel buttons above run these operations directly.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "â—‹ no resources"
                                },
                                "content": "Terraform CLI is available but no resources are declared. Use the config form or Full Setup to scaffold your infrastructure.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· no resources</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is installed but no infrastructure resources are defined yet. Without resources:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Nothing to plan or apply</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— No state to track</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can scaffold new configurations</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can import existing infrastructure</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use <strong>ğŸ“ Generate Config</strong> for a quick starter, or <strong>ğŸš€ Full Setup</strong> for comprehensive multi-provider IaC scaffolding.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âœ— no terraform"
                                },
                                "content": "Terraform CLI is not installed. Install it to enable infrastructure-as-code management.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· CLI missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is not detected on this system. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot plan or apply infrastructure changes</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot inspect state or workspaces</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still generate HCL configuration files</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane can generate .tf files without the CLI â€” they'll be ready when Terraform is installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Snap</span><span>sudo snap install terraform --classic</span><span style=\"font-weight:600;color:var(--text-secondary)\">Homebrew</span><span>brew install hashicorp/tap/terraform</span><span style=\"font-weight:600;color:var(--text-secondary)\">Binary</span><span>https://developer.hashicorp.com/terraform/install</span></div></div></div>"
                            }
                        ],
                        "expanded": "",
                        "children": [
                            {
                                "id": "tf-setup",
                                "title": "Terraform Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-terraform",
                                "content": "Terraform integration setup â€” provider configuration, state backend, resource analysis, and live infrastructure operations.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Terraform Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel manages your project's Terraform configuration. It covers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Files</span><span>.tf files â€” main.tf, variables.tf, outputs.tf, providers.tf, backend.tf</span><span style=\"font-weight:600;color:var(--text-secondary)\">Providers</span><span>cloud platforms â€” AWS, GCP, Azure, DigitalOcean, and 3000+ others</span><span style=\"font-weight:600;color:var(--text-secondary)\">Modules</span><span>reusable infrastructure blocks â€” from the Terraform Registry or local paths</span><span style=\"font-weight:600;color:var(--text-secondary)\">State</span><span>tracks what's deployed â€” local file or remote backend (S3, GCS, Azure Blob)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live Ops</span><span>state inspection, workspace management, validation, and output viewing</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Unlike K8s (which schedules containers), Terraform provisions the underlying infrastructure â€” VPCs, load balancers, databases, DNS records, and the clusters themselves.</div></div></div>",
                                "children": [
                                    {
                                        "id": "tf-section-status",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-tf-section-status",
                                        "content": "Seven status pills showing Terraform CLI, resource count, providers, modules, backend, initialization state, and config detection.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Terraform Status Strip</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">terraform</span><span>whether the Terraform CLI is available and its version</span><span style=\"font-weight:600;color:var(--text-secondary)\">resources</span><span>total declared resources across all .tf files</span><span style=\"font-weight:600;color:var(--text-secondary)\">providers</span><span>configured cloud providers (aws, google, azurerm, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">modules</span><span>reusable infrastructure modules (registry or local)</span><span style=\"font-weight:600;color:var(--text-secondary)\">backend</span><span>where terraform state is stored (local, s3, gcs, azurerm)</span><span style=\"font-weight:600;color:var(--text-secondary)\">initialized</span><span>whether terraform init has been run successfully</span><span style=\"font-weight:600;color:var(--text-secondary)\">config</span><span>whether any .tf configuration files exist in the project</span></div></div></div>",
                                        "children": [
                                            {
                                                "id": "tf-pill-cli",
                                                "title": "Terraform CLI",
                                                "icon": "ğŸ—ï¸",
                                                "selector": "#wiz-tf-pill-cli",
                                                "content": "Terraform CLI â€” the core tool for planning and applying infrastructure changes.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ terraform"
                                                        },
                                                        "content": "Terraform CLI is installed and available. All commands (init, plan, apply, destroy) are operational.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ Terraform CLI Â· installed</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is ready. You can run all lifecycle commands:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--success)\">init</span><span>download providers and configure backend</span><span style=\"font-weight:600;color:var(--success)\">plan</span><span>preview infrastructure changes</span><span style=\"font-weight:600;color:var(--success)\">apply</span><span>create/update/delete real infrastructure</span><span style=\"font-weight:600;color:var(--success)\">destroy</span><span>tear down all managed resources</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âœ— no terraform"
                                                        },
                                                        "content": "Terraform CLI is not installed. Install it to manage infrastructure as code.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—ï¸ Terraform CLI Â· missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is not found on this system. Without it, you cannot init, plan, or apply infrastructure.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\"><strong>Install:</strong></div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">macOS</span><span>brew install terraform</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux</span><span>apt install terraform (or download from releases.hashicorp.com)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>releases.hashicorp.com/terraform â€” single binary, add to PATH</span></div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-resources",
                                                "title": "Resources",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-tf-pill-resources",
                                                "content": "Total declared Terraform resources â€” each maps to a real cloud object.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Resources detected in your .tf files â€” each one maps to a real cloud infrastructure object managed by Terraform.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Resources Â· detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Terraform config declares resources. Each <code>resource</code> block maps 1:1 to a real infrastructure object (VM, bucket, database, etc.).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Run <code>terraform plan</code> to preview what will be created, modified, or destroyed. Run <code>terraform apply</code> to execute.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no resources"
                                                        },
                                                        "content": "No resources declared yet. Add resource blocks to your .tf files to define infrastructure.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resources Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No resource blocks found in your .tf files. Resources are how you declare infrastructure:</div><div style=\"margin:0.3rem 0;font-size:0.73rem\"><code>resource \"aws_instance\" \"web\" {<br>&nbsp;&nbsp;ami = \"ami-0c55b159\"<br>&nbsp;&nbsp;instance_type = \"t2.micro\"<br>}</code></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use the config generator below or the Full Setup wizard to scaffold resources for your chosen provider.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-providers",
                                                "title": "Providers",
                                                "icon": "â˜",
                                                "selector": "#wiz-tf-pill-providers",
                                                "content": "Configured cloud providers â€” each provider plugin enables Terraform to manage resources on that platform.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Cloud providers are configured â€” Terraform can connect to these platforms and manage their resources.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜ Providers Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Provider plugins are declared in your .tf files. After <code>terraform init</code>, they're downloaded to <code>.terraform/providers/</code>.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Expand the â˜ Providers section below to see which platforms are configured and hover each for details.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no providers"
                                                        },
                                                        "content": "No providers configured. Add a provider block to connect Terraform to a cloud platform.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜ Providers Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No provider blocks found. A provider tells Terraform which cloud to manage:</div><div style=\"margin:0.3rem 0;font-size:0.73rem\"><code>provider \"aws\" {<br>&nbsp;&nbsp;region = \"us-east-1\"<br>}</code></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use the config generator below to scaffold a provider for AWS, GCP, Azure, or DigitalOcean.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-modules",
                                                "title": "Modules",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-tf-pill-modules",
                                                "content": "Terraform modules â€” reusable infrastructure blocks.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Modules detected â€” your config uses reusable infrastructure packages. Expand the ğŸ“¦ Modules section for per-module analysis.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Modules Â· in use</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Terraform config references modules. These are reusable packages that encapsulate resources with configurable inputs.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Expand the ğŸ“¦ Modules section below and hover each module for source type analysis (registry, git, or local).</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no modules"
                                                        },
                                                        "content": "No modules in use. Modules are optional but recommended for organizing complex infrastructure.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Modules Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No module blocks found. Modules are optional â€” simple projects work fine without them.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Consider modules when:<br>â€¢ You repeat similar resource patterns<br>â€¢ You need the same infra in multiple environments<br>â€¢ You want to use community-maintained best practices from registry.terraform.io</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-backend",
                                                "title": "Backend",
                                                "icon": "ğŸ’¾",
                                                "selector": "#wiz-tf-pill-backend",
                                                "content": "State backend â€” where Terraform state is stored.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "A state backend is configured â€” Terraform knows where to store and lock its state file.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ’¾ Backend Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A backend is configured for state storage. Terraform state tracks the mapping between your .tf declarations and real infrastructure.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Remote backends (s3, gcs, azurerm) enable team collaboration with state locking â€” preventing concurrent applies that could corrupt state.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no backend"
                                                        },
                                                        "content": "No backend configured â€” state defaults to a local terraform.tfstate file.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Backend Â· default (local)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No explicit backend is configured. Terraform defaults to storing state in a local <code>terraform.tfstate</code> file.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is fine for solo development. For teams, configure a remote backend:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">s3</span><span>AWS S3 + DynamoDB locking</span><span style=\"font-weight:600;color:var(--text-secondary)\">gcs</span><span>Google Cloud Storage</span><span style=\"font-weight:600;color:var(--text-secondary)\">azurerm</span><span>Azure Blob Storage</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Never commit terraform.tfstate to Git â€” it may contain secrets.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-initialized",
                                                "title": "Initialized",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-tf-pill-initialized",
                                                "content": "Initialization state â€” whether terraform init has been run.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ initialized"
                                                        },
                                                        "content": "Project is initialized â€” providers are downloaded, backend is configured, and you can run plan/apply.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”„ Initialized Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has completed successfully. The .terraform/ directory contains:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ Provider plugins (downloaded binaries)<br>â€¢ Module sources (if any)<br>â€¢ Backend configuration</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You can now run <code>terraform plan</code> and <code>terraform apply</code>. Re-run init when adding providers, modules, or changing backends.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ not initialized"
                                                        },
                                                        "content": "Project is not initialized â€” run terraform init before plan or apply.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”„ Not Initialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has not been run yet. This is required before any other command.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init will:<br>â€¢ Download provider plugins to .terraform/<br>â€¢ Configure the state backend<br>â€¢ Download referenced modules<br>â€¢ Create .terraform.lock.hcl</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Run: <code>cd terraform/ && terraform init</code></div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-config",
                                                "title": "Config",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-tf-pill-config",
                                                "content": "Config detection â€” whether .tf files exist.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ config found"
                                                        },
                                                        "content": "Terraform configuration files detected in your project. Expand the ğŸ“„ Files section for per-file analysis.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Config Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">.tf files are present in your project. Terraform will process all .tf files in the working directory.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Expand the ğŸ“„ Files section to see each file categorized by type (resource, variable, output, provider, etc.) with hover-level analysis.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no config"
                                                        },
                                                        "content": "No .tf files found. Use the config generator below to scaffold a starter Terraform project.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Config Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No .tf files found in the project. You need at least one .tf file to use Terraform.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use the ğŸ“ Generate Config form below to create a starter project, or the ğŸš€ Full Setup for comprehensive scaffolding.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">main.tf</span><span>primary resource definitions</span><span style=\"font-weight:600;color:var(--text-secondary)\">variables.tf</span><span>input variable declarations</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs.tf</span><span>values exported after apply</span></div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "tf-section-files",
                                        "title": "Files",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-tf-section-files",
                                        "content": ".tf file analysis â€” each file is categorized by type (resource, variable, output, provider, data, module, backend).",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“„ Terraform Files</div><div class=\"state-detail\" style=\"white-space:normal\">Each .tf file is parsed and categorized. Hover individual files for per-file analysis.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“‚ File Types</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">resource</span><span>declares infrastructure objects (aws_instance, google_compute_network, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">variable</span><span>input parameters â€” make configs reusable across environments</span><span style=\"font-weight:600;color:var(--text-secondary)\">output</span><span>exports values after apply â€” IP addresses, URLs, ARNs</span><span style=\"font-weight:600;color:var(--text-secondary)\">provider</span><span>configures cloud API connections â€” credentials, region, features</span><span style=\"font-weight:600;color:var(--text-secondary)\">data</span><span>reads existing infrastructure â€” lookup AMIs, VPCs, DNS zones</span><span style=\"font-weight:600;color:var(--text-secondary)\">module</span><span>imports reusable infrastructure packages</span><span style=\"font-weight:600;color:var(--text-secondary)\">backend</span><span>configures where state is stored</span></div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“„ {{name}}",
                                            "content": "Terraform file {{name}} â€” hover for file type and contents analysis.",
                                            "selector": "#wiz-tf-section-files [style*=\"border-bottom\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-providers",
                                        "title": "Providers",
                                        "icon": "â˜",
                                        "selector": "#wiz-tf-section-providers",
                                        "content": "Configured cloud providers â€” each plugin enables Terraform to manage resources on that platform.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">â˜ Provider Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Each provider connects Terraform to a cloud API. Hover individual providers for platform-specific guidance.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ”‘ Authentication</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">AWS</span><span>AWS_ACCESS_KEY_ID + AWS_SECRET_ACCESS_KEY or IAM role</span><span style=\"font-weight:600;color:var(--text-secondary)\">GCP</span><span>GOOGLE_APPLICATION_CREDENTIALS or gcloud auth application-default login</span><span style=\"font-weight:600;color:var(--text-secondary)\">Azure</span><span>az login or service principal (ARM_CLIENT_ID, ARM_CLIENT_SECRET)</span></div><div style=\"margin-top:0.3rem;font-size:0.73rem\">Never hardcode credentials in .tf files â€” use environment variables or provider-specific auth chains.</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "â˜ {{name}}",
                                            "content": "Terraform provider {{name}} â€” hover for provider capabilities and resource types.",
                                            "selector": "#wiz-tf-section-providers [style*=\"border-bottom\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-modules",
                                        "title": "Modules",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-tf-section-modules",
                                        "content": "Terraform modules â€” reusable infrastructure packages with configurable inputs.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“¦ Module Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Modules package related resources into reusable units. Hover individual modules for source and structure analysis.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“ Module Structure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">source</span><span>where the module code lives (registry, git, local path)</span><span style=\"font-weight:600;color:var(--text-secondary)\">version</span><span>pinned version constraint (e.g. \"~&gt; 3.0\")</span><span style=\"font-weight:600;color:var(--text-secondary)\">inputs</span><span>variables passed into the module</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs</span><span>values exported by the module for use elsewhere</span></div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“¦ {{name}}",
                                            "content": "Module {{name}} â€” hover for source analysis and input/output details.",
                                            "selector": "#wiz-tf-section-modules [style*=\"border-bottom\"]",
                                            "nameSelector": "strong"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-resources",
                                        "title": "Resources",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-tf-section-resources",
                                        "content": "Declared resources grouped by type â€” each maps to a real cloud infrastructure object.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resource Summary</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Resources are grouped by their Terraform type (e.g. aws_instance, google_compute_network). Each chip shows the type and count.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The type name follows the pattern: <code style=\"font-size:0.68rem\">provider_service_object</code>. For example:<br>â€¢ <strong>aws_s3_bucket</strong> = AWS â†’ S3 â†’ Bucket<br>â€¢ <strong>google_compute_instance</strong> = GCP â†’ Compute â†’ Instance<br>â€¢ <strong>azurerm_virtual_network</strong> = Azure â†’ Virtual Network</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Review the distribution to understand your infrastructure footprint â€” heavy concentration in one type may indicate refactoring opportunities via modules.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-backend",
                                        "title": "State Backend",
                                        "icon": "ğŸ’¾",
                                        "selector": "#wiz-tf-section-backend",
                                        "content": "Where Terraform state is stored â€” tracks the mapping between your .tf declarations and real infrastructure.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ State Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform state is critical â€” it's the source of truth for what infrastructure exists. Without state, Terraform can't know what to update or destroy.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">local</span><span>terraform.tfstate on disk â€” simple but not collaborative</span><span style=\"font-weight:600;color:var(--text-secondary)\">s3</span><span>S3 bucket + DynamoDB for locking â€” team-safe on AWS</span><span style=\"font-weight:600;color:var(--text-secondary)\">gcs</span><span>Google Cloud Storage â€” team-safe on GCP</span><span style=\"font-weight:600;color:var(--text-secondary)\">azurerm</span><span>Azure Blob Storage â€” team-safe on Azure</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Never commit terraform.tfstate to Git â€” it may contain secrets. Use a remote backend for teams.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-live",
                                        "title": "Live Operations",
                                        "icon": "ğŸ”§",
                                        "selector": "#wiz-tf-section-live",
                                        "content": "Live Terraform operations â€” state inspection, workspace management, config validation, and output viewing.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Live Operations</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“‹ State</span><span>terraform state list â€” shows all managed resources and their addresses</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ—ƒï¸ Workspaces</span><span>terraform workspace list â€” isolated state environments (dev/staging/prod)</span><span style=\"font-weight:600;color:var(--text-secondary)\">âœ… Validate</span><span>terraform validate â€” checks HCL syntax and configuration consistency</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“§ Outputs</span><span>terraform output â€” shows exported values (IPs, URLs, connection strings)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">These buttons run the corresponding Terraform commands against your project and display results in the panel below. Requires both terraform CLI and an initialized project.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-genconfig",
                                        "title": "Generate Config",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-tf-section-genconfig",
                                        "content": "Quick config scaffolding â€” generates starter main.tf, variables.tf, and outputs.tf with your chosen provider and backend.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Config Generation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This form generates a minimal but complete Terraform starter:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">main.tf</span><span>provider block + starter resource for the chosen platform</span><span style=\"font-weight:600;color:var(--text-secondary)\">variables.tf</span><span>input variables for region, project name, and common settings</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs.tf</span><span>placeholder output values</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For projects with modules, multiple providers, or complex environments, use <strong>ğŸš€ Full Terraform Setup</strong> instead â€” it handles multi-environment configs, module scaffolding, and environment-specific variable files.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "tf-field-provider",
                                                "title": "Provider",
                                                "icon": "â˜",
                                                "selector": "#wiz-tf-provider",
                                                "content": "Select a cloud provider for the generated config.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "aws"
                                                        },
                                                        "content": "AWS selected â€” generates provider block for Amazon Web Services.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŸ§ Amazon Web Services</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">1000+ resource types. The most widely used Terraform provider.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>AWS_ACCESS_KEY_ID + AWS_SECRET_ACCESS_KEY or IAM role</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>us-east-1, eu-west-1, ap-southeast-1, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>aws_instance, aws_s3_bucket, aws_lambda_function, aws_ecs_service</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "google"
                                                        },
                                                        "content": "GCP selected â€” generates provider block for Google Cloud Platform.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”µ Google Cloud Platform</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Strong in data, AI/ML, and managed Kubernetes (GKE).</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>GOOGLE_APPLICATION_CREDENTIALS or gcloud auth application-default login</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>us-central1, europe-west1, asia-east1, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>google_compute_instance, google_container_cluster, google_sql_database_instance</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "azurerm"
                                                        },
                                                        "content": "Azure selected â€” generates provider block for Microsoft Azure.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”· Microsoft Azure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Enterprise-focused with strong Active Directory integration.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>az login or service principal (ARM_CLIENT_ID, ARM_CLIENT_SECRET)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>eastus, westeurope, southeastasia, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>azurerm_resource_group, azurerm_virtual_machine, azurerm_kubernetes_cluster</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "digitalocean"
                                                        },
                                                        "content": "DigitalOcean selected â€” generates provider block for DigitalOcean.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”µ DigitalOcean</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Developer-friendly cloud with simpler API and pricing.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>DIGITALOCEAN_TOKEN â€” API token from cloud.digitalocean.com</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>nyc1, sfo3, lon1, ams3, sgp1, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>digitalocean_droplet, digitalocean_kubernetes_cluster, digitalocean_database_cluster</span></div></div></div>"
                                                    }
                                                ],
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜ Provider Selection</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Select the cloud platform for your generated Terraform config. Each provider determines the available resource types and authentication method.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-region",
                                                "title": "Region",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-tf-region",
                                                "content": "The cloud region â€” where infrastructure will be physically located.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Region</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The region sets the physical datacenter location for your resources. Choose based on:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ <strong>Latency</strong> â€” closest to your users<br>â€¢ <strong>Compliance</strong> â€” data residency requirements (GDPR, etc.)<br>â€¢ <strong>Cost</strong> â€” some regions are cheaper<br>â€¢ <strong>Services</strong> â€” not all services available in all regions</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Common: us-east-1 (AWS Virginia), us-central1 (GCP Iowa), eastus (Azure).</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-project",
                                                "title": "Project Name",
                                                "icon": "ğŸ·ï¸",
                                                "selector": "#wiz-tf-project",
                                                "content": "The project name â€” used in resource naming, tagging, and state file identification.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ Project Name</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Used as a prefix or tag for generated resources. Helps identify which project owns which infrastructure in shared accounts.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Conventions: lowercase, hyphens, max 20 characters. Example: my-api, payment-svc, infra-core.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-backend",
                                                "title": "State Backend",
                                                "icon": "ğŸ’¾",
                                                "selector": "#wiz-tf-backend",
                                                "content": "Where Terraform state will be stored.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "local"
                                                        },
                                                        "content": "Local backend selected â€” state stored in terraform.tfstate on disk.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Local Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State is stored in a local terraform.tfstate file. Simple and zero-setup.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Not suitable for teams â€” no locking, no remote access, risk of state loss.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Never commit terraform.tfstate to Git â€” it may contain secrets.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "s3"
                                                        },
                                                        "content": "S3 backend selected â€” state stored in AWS S3 with DynamoDB locking.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ S3 Backend (AWS)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State stored in an S3 bucket with optional DynamoDB table for state locking.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Bucket</span><span>S3 bucket with versioning enabled</span><span style=\"font-weight:600;color:var(--text-secondary)\">Locking</span><span>DynamoDB table for state locking (prevents concurrent applies)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Encryption</span><span>Enable server-side encryption (SSE-S3 or SSE-KMS)</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "gcs"
                                                        },
                                                        "content": "GCS backend selected â€” state stored in Google Cloud Storage.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ GCS Backend (GCP)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State stored in a Google Cloud Storage bucket with built-in locking.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Bucket</span><span>GCS bucket with versioning enabled</span><span style=\"font-weight:600;color:var(--text-secondary)\">Locking</span><span>Built-in â€” GCS provides native state locking</span><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>GOOGLE_APPLICATION_CREDENTIALS or gcloud auth</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "azurerm"
                                                        },
                                                        "content": "Azure backend selected â€” state stored in Azure Blob Storage.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Azure Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State stored in Azure Blob Storage with built-in locking via blob lease.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Account</span><span>Azure Storage Account</span><span style=\"font-weight:600;color:var(--text-secondary)\">Container</span><span>Blob container for state files</span><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>ARM_ACCESS_KEY or az login</span></div></div></div>"
                                                    }
                                                ],
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ State Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Select where Terraform state will be stored. Each backend type determines how state is persisted and shared.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-overwrite",
                                                "title": "Overwrite",
                                                "icon": "âš ",
                                                "selector": "#wiz-tf-overwrite",
                                                "content": "Whether to overwrite existing .tf files â€” only shown when config already exists.",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "tf-section-fullsetup",
                                        "title": "Full Terraform Setup",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-tf-section-fullsetup",
                                        "content": "Full multi-step Terraform wizard â€” provider selection, backend configuration, resource definitions, environment management, and HCL editing.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full Terraform Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The full setup wizard provides comprehensive IaC configuration beyond the basic starter. It covers:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Multi-provider configuration with version constraints</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remote backend setup with locking</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Resource scaffolding with best-practice defaults</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Module integration from the Terraform Registry</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Environment-specific variable files (dev.tfvars, prod.tfvars)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Workspace configuration for state isolation</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Live HCL preview and editing</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when your project has multiple providers, needs environment separation, or requires production-grade configurations with modules and remote state.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "tf-fullsetup-pill-cli",
                                                "title": "Terraform CLI",
                                                "icon": "ğŸ—ï¸",
                                                "selector": "#wiz-tf-fullsetup-pill-cli",
                                                "content": "Terraform CLI availability.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ terraform"
                                                        },
                                                        "content": "Terraform is installed â€” the full setup wizard can use all CLI features.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ CLI Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform CLI is available. The full setup can run init, validate, and preview generated configs.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no terraform"
                                                        },
                                                        "content": "Terraform CLI is missing â€” the full setup will generate files but can't validate or init them.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—ï¸ CLI Â· missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform CLI is not installed. The full setup can still generate .tf files, but you'll need to install terraform before you can init, plan, or apply.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-resources",
                                                "title": "Resources",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-tf-fullsetup-pill-resources",
                                                "content": "Existing resources.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Resources already exist â€” the full setup will extend or restructure your existing infrastructure declarations.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Resources Â· existing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project already has resource declarations. The full setup will work alongside them â€” adding new resources, reorganizing into modules, or extending with environment-specific configs.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ will create"
                                                        },
                                                        "content": "No resources yet â€” the full setup will scaffold resource definitions from scratch.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resources Â· will create</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No resources exist yet. The full setup wizard will generate resource scaffolding based on your chosen provider, including best-practice defaults for common infrastructure patterns.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-providers",
                                                "title": "Providers",
                                                "icon": "â˜",
                                                "selector": "#wiz-tf-fullsetup-pill-providers",
                                                "content": "Provider configuration.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Providers already configured â€” the full setup can add new ones or reconfigure existing providers.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜ Providers Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has provider blocks. The full setup can add additional providers (multi-cloud) or update version constraints on existing ones.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no providers"
                                                        },
                                                        "content": "No providers configured yet â€” the full setup will create provider blocks for your chosen platform.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜ Providers Â· will configure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No provider blocks exist. The full setup will generate provider configuration with version constraints and authentication setup for your chosen cloud platform.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-initialized",
                                                "title": "Initialized",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-tf-fullsetup-pill-initialized",
                                                "content": "Initialization state.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ initialized"
                                                        },
                                                        "content": "Already initialized â€” providers and backend are configured. The full setup may require re-running init after changes.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”„ Initialized Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has been run. After the full setup generates new configs, you may need to re-run <code>terraform init</code> to download any new providers or modules.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ not initialized"
                                                        },
                                                        "content": "Not initialized â€” after the full setup generates configs, you'll need to run terraform init.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Not Initialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has not been run. After the full setup wizard generates your configs, run <code>terraform init</code> to download providers and configure the backend.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-backend",
                                                "title": "Backend",
                                                "icon": "ğŸ’¾",
                                                "selector": "#wiz-tf-fullsetup-pill-backend",
                                                "content": "State backend.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Backend is configured â€” state storage and locking are set up.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ’¾ Backend Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A state backend is already configured. The full setup can migrate to a different backend type if needed (terraform init -migrate-state).</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no backend"
                                                        },
                                                        "content": "No backend configured â€” the full setup will help you choose between local and remote state storage.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Backend Â· will configure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No backend configured. The full setup wizard will help you choose a state backend (local, S3, GCS, or Azure Blob) and generate the backend configuration block.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "tf-section-delete",
                                        "title": "Delete Config",
                                        "icon": "ğŸ—‘",
                                        "selector": "#wiz-tf-section-delete",
                                        "content": "Remove generated Terraform configuration files from your project. Does not affect deployed infrastructure.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ—‘ Delete Terraform Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes .tf files that were generated by the control plane.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">terraform/ or *.tf</span><span>generated HCL configuration files</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will NOT:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Destroy any deployed infrastructure</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Delete terraform.tfstate (state file)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Touch .terraform/ directory (provider cache)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After deletion, you can regenerate configs at any time. Deployed infrastructure continues running until explicitly destroyed with terraform destroy.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-terraform",
                                        "content": "Generate Terraform configuration files with the settings from the config form above.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply Terraform Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates Terraform configuration files based on the form values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">main.tf</span><span>provider configuration + starter resource for the chosen platform</span><span style=\"font-weight:600;color:var(--text-secondary)\">variables.tf</span><span>input variables for region, project name, and common settings</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs.tf</span><span>placeholder output values ready to be populated</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Files are created in the terraform/ directory. After generation, run terraform init to download providers, then terraform plan to preview.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-terraform",
                                        "content": "Close the Terraform setup panel without generating any files. No changes are made.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the Terraform setup panel without generating any files or modifying any existing configuration.<br><br>Reopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and detection.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    }
]