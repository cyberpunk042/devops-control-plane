[
    {
        "context": "wizard/welcome",
        "title": "Welcome to the Setup Wizard",
        "icon": "ğŸ§™",
        "content": "6 steps to shape your project. Everything starts here â€” your project's identity, where it lives, and how it's organized.\n\nTake your time. Nothing is saved until you hit Finish on the last step, so feel free to explore and come back.",
        "children": [
            {
                "id": "project-name",
                "title": "Project Name",
                "icon": "âœï¸",
                "selector": "#wiz-name",
                "content": "This is your project's identity â€” the name that follows it everywhere.",
                "expanded": "It shows up in Docker image tags, CI/CD pipeline names, Helm chart metadata, generated folder structures, and every config file the control plane produces.\n\nPick something lowercase, hyphen-separated â€” like my-api or data-pipeline. Spaces and special characters can cause issues in Docker tags and file paths downstream.\n\nğŸ’¡ Changing this later is possible but ripples through generated configs. Best to get it right now.",
                "children": []
            },
            {
                "id": "description",
                "title": "Description",
                "icon": "ğŸ“",
                "selector": "#wiz-desc",
                "content": "A short summary of what this project does â€” one or two sentences is perfect.",
                "expanded": "This text appears in your README header, package metadata (package.json, pyproject.toml), GitHub repository description, and Helm chart annotations.\n\nIt's not required, but it's the kind of thing you'll appreciate having when someone new looks at the project six months from now.\n\nğŸ’¡ Write it for a colleague who's never seen this repo before.",
                "children": []
            },
            {
                "id": "repository",
                "title": "Repository",
                "icon": "ğŸ”—",
                "selector": "#wiz-repo",
                "content": "Your Git remote â€” this connects the project to its home on GitHub, GitLab, or wherever it lives.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The control plane uses this for:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CI/CD webhooks</span><span>triggering pipelines on push</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub integration</span><span>PR management, secrets sync, Actions dispatch</span><span style=\"font-weight:600;color:var(--text-secondary)\">Docker registry paths</span><span>deriving container image names</span><span style=\"font-weight:600;color:var(--text-secondary)\">Generated configs</span><span>embedding the repo URL in Helm charts, Dockerfiles, and CI workflows</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Format: github.com/owner/repo (without https://). If you're using GitHub, the control plane can often auto-detect this from your local git remote.</div></div></div>",
                "children": []
            },
            {
                "id": "domains",
                "title": "Domains",
                "icon": "ğŸ·ï¸",
                "selector": "#wiz-domains",
                "separator": true,
                "content": "Domains are logical groupings for your codebase â€” not internet domains, more like folders of purpose.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">When you add modules in Step 2, each one belongs to a domain. Think of it as organizing your project by responsibility:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">library</span><span>shared utilities, core business logic</span><span style=\"font-weight:600;color:var(--text-secondary)\">ops</span><span>DevOps tooling, scripts, CI/CD configs</span><span style=\"font-weight:600;color:var(--text-secondary)\">docs</span><span>documentation, guides, Docusaurus sites</span><span style=\"font-weight:600;color:var(--text-secondary)\">services</span><span>microservices, APIs, workers</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You've got {{domainCount}} so far. You can always add more later â€” this just shapes how modules are categorized in the dashboard.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "content": "One of your project domains. Modules assigned to this domain will be grouped together in the dashboard and reports.",
                    "selector": "#wiz-domains > span"
                },
                "children": [
                    {
                        "id": "add-domain",
                        "title": "Add domainâ€¦",
                        "icon": "â•",
                        "selector": "#wiz-new-domain",
                        "content": "Type a name and press Enter or click + Add.",
                        "expanded": "Good domain names are short and describe a purpose, not a technology. Think library over python, or services over backend.\n\nğŸ’¡ You don't need to plan this perfectly. Domains can be added, renamed, or reorganized anytime.",
                        "children": []
                    }
                ]
            },
            {
                "id": "environments",
                "title": "Environments",
                "icon": "ğŸ“‹",
                "selector": "#wiz-envs",
                "separator": true,
                "content": "Environments scope your secrets and deployment variables. Your project configuration, integrations, and generated files are shared across all of them â€” what changes per environment are the credentials and endpoint values.",
                "expanded": "So your DB_HOST might be localhost:5432 in development but prod-db.internal in production. Same Dockerfile, same CI pipeline, different .env file per environment.\n\nEach environment gets its own encrypted .env file managed by the Vault in Step 3. The control plane keeps them separate â€” secrets from one environment never leak into another.\n\nYou've got {{envCount}} set up. Most projects need at least development and production. Add staging or preview if your workflow needs intermediate deployment targets.",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "content": "The {{name}} environment â€” one of your deployment targets. It gets its own .env file with credentials and endpoint values scoped specifically to this context.",
                    "expanded": "When you define secrets and variables in Step 3, each environment has its own set of values. So your API keys, database URLs, and feature flags can differ between environments while sharing the same project config and generated files.\n\nğŸ’¡ Click the name or description to edit. Use Ã— to remove this environment.",
                    "selector": "#wiz-envs > div"
                },
                "children": [
                    {
                        "id": "add-env-name",
                        "title": "Environment name",
                        "icon": "â•",
                        "selector": "#wiz-new-env-name",
                        "content": "Add another deployment target â€” staging, qa, preview, or whatever your workflow needs.",
                        "expanded": "Keep it lowercase, no spaces. This name becomes part of your .env file path (.env.staging), GitHub deployment environment name, and CI/CD workflow target.\n\nEach new environment gets its own secret values in Step 3.\n\nğŸ’¡ Common patterns: development + production for simple projects. Add staging for a QA gate, or preview for PR-based ephemeral environments.",
                        "children": []
                    },
                    {
                        "id": "add-env-desc",
                        "title": "Environment description",
                        "icon": "ğŸ“",
                        "selector": "#wiz-new-env-desc",
                        "content": "A human-readable label â€” helps your team know what each environment is for at a glance.",
                        "expanded": "Examples: \"Local development and testing\", \"Pre-production staging\", \"Live customer-facing\".\n\nThis shows up in the dashboard environment selector and in the Vault management view. It's optional but makes life easier when you have 3+ environments.",
                        "children": []
                    }
                ]
            }
        ]
    },
    {
        "context": "wizard/modules",
        "title": "Modules",
        "icon": "ğŸ”",
        "content": "Modules are the building blocks of your project â€” each one maps to a directory in your codebase with its own stack and purpose.\n\nThe control plane uses them to decide what to generate: Dockerfiles, CI pipelines, linting configs, audit scans, and dashboard structure all flow from what you define here.",
        "children": [
            {
                "id": "auto-detect",
                "title": "Auto-Detect",
                "icon": "ğŸ”",
                "selector": "button[onclick='wizardDetect()']",
                "content": "Scans your project root for recognizable structures â€” pyproject.toml, package.json, docker-compose.yml, Makefile, docs folders â€” and creates module entries from what it finds.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Detection looks at file signatures:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pyproject.toml or setup.py â†’ python-lib or python-cli</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ app.py / wsgi.py â†’ python-flask</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ package.json â†’ node</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker-compose.yml â†’ docker-compose</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ .md files in a docs/ folder â†’ markdown</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">It also reads descriptions from package metadata when available. Detection is non-destructive â€” it won't overwrite modules you've already added manually.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ’¡ If your project has an unusual structure, you can always add modules manually below.</div></div></div>",
                "children": []
            },
            {
                "id": "modules-list",
                "title": "Module List",
                "icon": "ğŸ“¦",
                "selector": "#wizard-modules-list",
                "content": "Your configured modules â€” {{moduleCount}} so far. Each one represents a directory the control plane knows about and manages.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Every module gets its own treatment in the pipeline:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Python modules get linting (ruff/flake8), type checking, and test runners</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Flask modules get Dockerfile generation, health check endpoints, and deployment configs</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Node modules get npm scripts, bundler configs, and dependency audits</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Docker-compose modules get service orchestration and K8s migration paths</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Markdown modules get Docusaurus site generation and content management</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane uses module paths to scope operations â€” when you run audit, lint, or generate configs, it targets the right directories.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "content": "The {{name}} module â€” managed by the control plane as part of your project structure.",
                    "expanded": "This module's stack determines what the control plane generates for it: Dockerfiles, CI workflows, linting configs, and audit targets. Its domain assignment controls how it's grouped in the dashboard.\n\nğŸ’¡ Use Ã— to remove this module if it was detected incorrectly or is no longer needed.",
                    "selector": "#wizard-modules-list > div"
                },
                "children": []
            },
            {
                "id": "add-module",
                "title": "Add Module",
                "icon": "â•",
                "selector": "#wiz-add-module",
                "separator": true,
                "content": "Manually define a module the auto-detector missed, or add one for a directory you're about to create. Pick a stack from the dropdown to tell the control plane what technology this module uses.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Three fields define a module:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Name</span><span>appears in dashboard cards, CI pipeline names, and generated configs</span><span style=\"font-weight:600;color:var(--text-secondary)\">Path</span><span>directory relative to project root (e.g. src/core, services/api)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Stack</span><span>the technology stack that drives everything the control plane generates</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Available stacks (47 total):\nğŸ python Â· python-lib Â· python-cli Â· python-flask Â· python-fastapi Â· python-django\nğŸ“¦ node Â· node-express Â· node-nextjs Â· node-react Â· node-lib Â· typescript Â· typescript-lib\nğŸ¹ go Â· go-gin Â· go-fiber Â· go-cli Â· go-lib\nğŸ¦€ rust Â· rust-actix Â· rust-axum Â· rust-cli Â· rust-lib\nâš™ï¸ c Â· cpp Â· âš¡ zig Â· ğŸ swift\nâ˜• java-maven Â· java-maven-spring Â· java-gradle Â· java-gradle-spring\nğŸ”· dotnet Â· dotnet-aspnet Â· dotnet-blazor\nğŸ’ ruby Â· ruby-rails Â· ruby-sinatra Â· ğŸ’§ elixir Â· elixir-phoenix\nğŸ˜ php Â· ğŸ“¡ protobuf\nğŸ³ docker-compose Â· â˜¸ï¸ kubernetes Â· âˆ helm Â· ğŸ—ï¸ terraform\nğŸ“ markdown Â· ğŸŒ static-site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Flavored stacks inherit from their base and add framework-specific capabilities. Each is defined in stacks/<name>/stack.yml.</div></div></div>",
                "children": [
                    {
                        "id": "mod-name",
                        "title": "Module Name",
                        "icon": "âœï¸",
                        "selector": "#wiz-mod-name",
                        "content": "A short, descriptive name for this module â€” like core, api, web, or docs.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This name appears in:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Dashboard module cards</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI pipeline names (e.g. lint-core, test-api)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Docker image tags when applicable</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Generated config references</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Keep it lowercase, hyphen-separated. It doesn't need to match the directory name, but it helps.</div></div></div>",
                        "children": []
                    },
                    {
                        "id": "mod-path",
                        "title": "Module Path",
                        "icon": "ğŸ“‚",
                        "selector": "#wiz-mod-path",
                        "content": "The directory path relative to your project root â€” this is where the control plane looks for source files.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Must point to an actual directory (or one you plan to create). The control plane uses this to:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Scope linting and audit operations to the right files</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Generate Dockerfiles with correct COPY paths</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Set up CI workflows that only trigger on changes in this directory</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Resolve dependencies between modules</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Examples: src/core, src/ui/web, services/auth, docs</div></div></div>",
                        "children": []
                    },
                    {
                        "id": "mod-stack",
                        "title": "Stack",
                        "icon": "ğŸ”§",
                        "selector": "#wiz-mod-stack",
                        "content": "A stack is a technology definition â€” it tells the control plane how to detect, build, lint, test, and deploy this module. Flavored stacks inherit capabilities from their base language.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each stack is defined in stacks/<name>/stack.yml. Flavored stacks declare a parent and inherit detection rules, requirements, and capabilities from their base â€” then add their own.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ Python</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">python</span><span>Generic Python project</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-lib</span><span>Library, no entry point (domain: library)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-cli</span><span>Click/argparse CLI tool (+run)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-flask</span><span>Flask web app (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-fastapi</span><span>FastAPI app (+serve via uvicorn)</span><span style=\"font-weight:600;color:var(--text-secondary)\">python-django</span><span>Django app (+serve, migrate, shell)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ“¦ JavaScript / TypeScript</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">node</span><span>Node.js project</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-express</span><span>Express.js server (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-nextjs</span><span>Next.js app (+dev, serve, build override)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-react</span><span>React SPA (+dev)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node-lib</span><span>npm library (domain: library)</span><span style=\"font-weight:600;color:var(--text-secondary)\">typescript</span><span>TypeScript project</span><span style=\"font-weight:600;color:var(--text-secondary)\">typescript-lib</span><span>TS library (domain: library)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ¹ Go</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">go</span><span>Go project (Go modules)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-gin</span><span>Gin web framework (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-fiber</span><span>Fiber web framework (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-cli</span><span>CLI tool (Cobra/urfave)</span><span style=\"font-weight:600;color:var(--text-secondary)\">go-lib</span><span>Library (domain: library)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ¦€ Rust</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">rust</span><span>Rust project (Cargo)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-actix</span><span>Actix-web service (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-axum</span><span>Axum web service (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-cli</span><span>CLI tool (clap)</span><span style=\"font-weight:600;color:var(--text-secondary)\">rust-lib</span><span>Library crate (domain: library)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">âš™ï¸ Systems</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">c</span><span>C project (Makefile/CMake)</span><span style=\"font-weight:600;color:var(--text-secondary)\">cpp</span><span>C++ project (Makefile/CMake)</span><span style=\"font-weight:600;color:var(--text-secondary)\">zig</span><span>Zig project</span><span style=\"font-weight:600;color:var(--text-secondary)\">swift</span><span>Swift project (SPM)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â˜• JVM & .NET</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">java-maven</span><span>Java (Maven build)</span><span style=\"font-weight:600;color:var(--text-secondary)\">java-maven-spring</span><span>Spring Boot + Maven (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">java-gradle</span><span>Java/Kotlin (Gradle build)</span><span style=\"font-weight:600;color:var(--text-secondary)\">java-gradle-spring</span><span>Spring Boot + Gradle (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">dotnet</span><span>.NET / C#</span><span style=\"font-weight:600;color:var(--text-secondary)\">dotnet-aspnet</span><span>ASP.NET web app (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">dotnet-blazor</span><span>Blazor app (+serve)</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ’ Other Languages</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ruby</span><span>Ruby (Bundler)</span><span style=\"font-weight:600;color:var(--text-secondary)\">ruby-rails</span><span>Rails (+serve, migrate, console)</span><span style=\"font-weight:600;color:var(--text-secondary)\">ruby-sinatra</span><span>Sinatra (+serve)</span><span style=\"font-weight:600;color:var(--text-secondary)\">elixir</span><span>Elixir (Mix)</span><span style=\"font-weight:600;color:var(--text-secondary)\">elixir-phoenix</span><span>Phoenix (+serve, migrate, routes)</span><span style=\"font-weight:600;color:var(--text-secondary)\">php</span><span>PHP (Composer)</span><span style=\"font-weight:600;color:var(--text-secondary)\">protobuf</span><span>Protocol Buffers / gRPC</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ³ Infrastructure</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">docker-compose</span><span>Docker Compose orchestration</span><span style=\"font-weight:600;color:var(--text-secondary)\">kubernetes</span><span>Kubernetes manifests</span><span style=\"font-weight:600;color:var(--text-secondary)\">helm</span><span>Helm charts</span><span style=\"font-weight:600;color:var(--text-secondary)\">terraform</span><span>Terraform infrastructure</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">ğŸ“ Content</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">markdown</span><span>Documentation (Docusaurus/MkDocs)</span><span style=\"font-weight:600;color:var(--text-secondary)\">static-site</span><span>Static site (HTML/CSS/JS)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use \"Custom\" to type an unlisted stack name â€” you can create its YAML later.</div></div></div>",
                        "children": []
                    }
                ]
            }
        ]
    },
    {
        "context": "wizard/secrets",
        "title": "Secrets & Encryption",
        "icon": "ğŸ”",
        "content": "This step shows the state of your project's secrets infrastructure â€” one vault per environment, your GitHub connection, and the content encryption key.\n\nUnlike Step 1, some actions here take effect immediately when you click them. The + Create and ğŸ’¾ Save buttons write to disk right away â€” they don't wait for Finish.",
        "children": [
            {
                "id": "env-vault-status",
                "title": "Environment Vault Status",
                "icon": "ğŸŒ",
                "selector": "#wiz-env-vault-list",
                "separator": true,
                "content": "Each environment you defined in Step 1 gets its own encrypted vault file. In multi-environment mode, .env is a working copy of the active environment â€” when you switch environments, the control plane swaps the file automatically.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The file model:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.env</span><span>live working copy of whichever environment is active</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.{name}</span><span>stored snapshot of each environment's secrets</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.active</span><span>marker file recording which environment is selected</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">When you activate production, the control plane saves .env â†’ .env.development, then copies .env.production â†’ .env. In single-env mode, there's just .env â€” no swapping.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ’¡ Vault files (.env.vault) are the encrypted versions. The .gitignore excludes plaintext .env files, and encryption adds the real protection.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "code",
                    "content": "Vault file for the {{name}} environment.",
                    "expanded": "Checking statusâ€¦",
                    "selector": "#wiz-env-vault-list > div",
                    "variants": [
                        {
                            "when": {
                                "textContains": "unlocked",
                                "hasSelector": "[data-env-active]"
                            },
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”“ unlocked Â· ACTIVE</div><div class=\"state-detail\">This is the active environment â€” .env is a live copy of this file right now. The vault is decrypted and ready for editing.\n\nAny changes you make in the ğŸ” Secrets tab modify this environment's .env directly. Remember to lock it when you're done.\n\nSwitching to another environment will save this file and swap in the new one.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "locked",
                                "hasSelector": "[data-env-active]"
                            },
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”’ locked Â· ACTIVE</div><div class=\"state-detail\">This is the active environment but the vault is locked â€” .env is encrypted on disk.\n\nUnlock it from the ğŸ” Secrets tab to view or edit secrets. The vault passphrase decrypts it on demand.\n\nSwitching to another environment will keep this vault locked and swap in the new one.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "missing",
                                "hasSelector": "[data-env-active]"
                            },
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ“­ missing Â· ACTIVE</div><div class=\"state-detail\">This is the active environment but no .env file exists yet. Hit + Create to generate one â€” the file is written to disk immediately.\n\nThis is normal for new setups. Once created, you can add secrets through the ğŸ” Secrets tab.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "unlocked"
                            },
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”“ unlocked</div><div class=\"state-detail\">This vault is decrypted and ready. You can view and edit secrets through the ğŸ” Secrets tab on the dashboard.\n\nRemember to lock it when you're done â€” plaintext .env files should never be committed to git. The .gitignore already excludes them, but encryption is the real protection.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "locked"
                            },
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”’ locked</div><div class=\"state-detail\">This vault is encrypted â€” its contents are safe on disk. This is the expected state when you're not actively editing credentials.\n\nTo read or edit secrets, unlock it from the ğŸ” Secrets tab. The vault passphrase decrypts it on demand.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "missing"
                            },
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ“­ missing</div><div class=\"state-detail\">This vault doesn't exist yet. Hit + Create to generate it â€” the file is written to disk immediately with an auto-generated encryption key.\n\nThis is normal for new environments. You can add secrets afterwards through the ğŸ” Secrets tab.</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "gh-integration",
                "title": "GitHub Integration",
                "icon": "ğŸ”—",
                "selector": "#wiz-gh-integration",
                "separator": true,
                "content": "GITHUB_REPOSITORY connects your local vault to your GitHub remote â€” it's how the control plane knows where to sync secrets and dispatch workflows.",
                "expanded": "This value stays local to your .env file. It's never pushed to GitHub secrets â€” it's the bridge between your local credentials and your remote repository.\n\nWith this set, you get secrets sync to GitHub Actions, workflow dispatch, and PR management from the dashboard.",
                "variants": [
                    {
                        "when": {
                            "textContains": "configured"
                        },
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… configured</div><div class=\"state-detail\">Your repository is set in .env. The control plane can push secrets, dispatch workflows, and manage PRs.\n\nThis value stays local â€” it's never pushed to GitHub. It's the link between your local vault and your remote repo.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "detected"
                        },
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ detected but not saved</div><div class=\"state-detail\">Your git remote was auto-detected but isn't persisted in .env yet. Click ğŸ’¾ Save to .env to keep it â€” this takes effect immediately.\n\nWithout it saved, GitHub integration features won't know where to target on next startup.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "could not detect"
                        },
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â“ not detected</div><div class=\"state-detail\">No git remote found. You can set GITHUB_REPOSITORY manually in your .env file as owner/repo (e.g., my-org/my-project).\n\nThis is needed for secrets sync, GitHub Actions dispatch, and PR management.</div></div>"
                    }
                ],
                "children": [
                    {
                        "id": "gh-deploy-envs",
                        "title": "Deployment Environments",
                        "icon": "ğŸŒ",
                        "selector": "#wiz-gh-deploy-envs",
                        "content": "GitHub Deployment Environments scope secrets to specific environments like development and production. Each environment in your project should have a matching GitHub environment.",
                        "expanded": "Without matching GitHub environments, you can't push environment-scoped secrets. Dev typically uses repo-level secrets, but production needs its own environment for isolation.\n\nğŸ’¡ Hit ğŸš€ Create to provision missing environments on GitHub directly from the wizard.",
                        "dynamic": true,
                        "childTemplate": {
                            "title": "{{name}}",
                            "nameSelector": "code",
                            "content": "GitHub deployment environment.",
                            "selector": "#wiz-gh-deploy-list > div",
                            "variants": [
                                {
                                    "when": {
                                        "textContains": "exists"
                                    },
                                    "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… exists</div><div class=\"state-detail\">This environment is provisioned on GitHub. You can push scoped secrets to it from the ğŸ” Secrets tab and use environment-level protection rules in GitHub Actions.</div></div>"
                                },
                                {
                                    "when": {
                                        "textContains": "not found"
                                    },
                                    "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ not found</div><div class=\"state-detail\">This environment doesnâ€™t exist on GitHub yet. Hit ğŸš€ Create to provision it â€” this is required before you can push environment-scoped secrets.\n\nWithout it, secrets sync for this environment will fail.</div></div>"
                                }
                            ]
                        },
                        "children": []
                    }
                ]
            },
            {
                "id": "enc-key-status",
                "title": "Content Encryption Key",
                "icon": "ğŸ”‘",
                "selector": "#wiz-enc-key-status",
                "separator": true,
                "content": "CONTENT_VAULT_ENC_KEY is a general-purpose encryption key stored in your .env file. It enables on-demand encryption for any git-committed item â€” you toggle it per file or message, and the key does the rest.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This key protects multiple things across the control plane:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Content files</span><span>media, documents, assets in the content vault</span><span style=\"font-weight:600;color:var(--text-secondary)\">Chat messages</span><span>encrypted at rest, decrypted on read</span><span style=\"font-weight:600;color:var(--text-secondary)\">Backup archives</span><span>encrypted snapshots of your project</span><span style=\"font-weight:600;color:var(--text-secondary)\">New vault seeding</span><span>auto-injected when creating environment vaults</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">It's separate from the vault passphrase that locks .env files. The vault passphrase protects secrets (API keys, database URLs). This key protects everything else you choose to encrypt.</div></div></div>",
                "variants": [
                    {
                        "when": {
                            "textContains": "configured"
                        },
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… configured</div><div class=\"state-detail\">Your encryption key is active. You can encrypt content files, chat messages, and backup archives on demand.\n\nThis key is auto-injected into new environment vaults when you create them. As long as your .env file is backed up, anything encrypted with this key is recoverable.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "not set"
                        },
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ not set</div><div class=\"state-detail\">No encryption key configured. Without it, you can't encrypt content files, chat messages, or backup archives.\n\nEnter your own key (at least 8 characters) or hit ğŸ² Generate for a strong random one. Either way, it's stored in .env â€” keep that file safe.\n\nâš ï¸ Losing this key means losing access to everything encrypted with it. There's no recovery mechanism.\n\nIf you don't need any of these encryption features, you can safely skip this.</div></div>"
                    }
                ],
                "children": []
            },
            {
                "id": "secrets-list",
                "title": "Detected Secret Files",
                "icon": "ğŸ“„",
                "selector": "#wiz-secrets-list",
                "separator": true,
                "content": "These are secret files found in your project â€” .env files, encrypted vaults, and related artifacts. This is a read-only snapshot of whatâ€™s on disk right now.",
                "expanded": "In multi-environment mode, .env is a live copy of the active environment â€” it will match one of the .env.{name} files. The other .env.{name} files hold each environment's stored secrets.\n\nFor full vault management â€” locking, unlocking, adding keys, pushing secrets to GitHub â€” use the ğŸ” Secrets tab on the dashboard after you finish the wizard.\n\nğŸ’¡ Encrypted files are safe to commit (theyâ€™re ciphertext). Plaintext files should be locked before pushing to git.",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "code",
                    "content": "A secret file in your project.",
                    "selector": "#wiz-detected-files > div",
                    "variants": [
                        {
                            "when": {
                                "textContains": "= .env."
                            },
                            "content": "This is the live working copy of the active environment.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”“ Active Copy</div><div class=\"state-detail\">In multi-environment mode, .env is automatically maintained as a copy of whichever environment is currently active.\n\nWhen you switch environments from the ğŸ” Secrets tab, the control plane saves this file back and copies the new environment into its place.\n\nYou donâ€™t edit .env directly for switching â€” use the Activate button in the Secrets tab.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".env.development"
                            },
                            "content": "Development environment secrets â€” used for local development and testing.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš§ Development</div><div class=\"state-detail\">This file holds secrets for your development environment â€” typically local databases, test API keys, and debug configurations.\n\nIts contents are separate from production. When development is active, .env is a copy of this file.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".env.production"
                            },
                            "content": "Production environment secrets â€” used for released and deployed applications.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Production</div><div class=\"state-detail\">This file holds secrets for your production environment â€” live database credentials, real API keys, and deployment-specific configurations.\n\nHandle with extra care. When production is active, .env is a copy of this file. We suggest locking the vault when you move away â€” each environment can have its own passphrase for independent protection.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Encrypted"
                            },
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”’ Encrypted</div><div class=\"state-detail\">Contents are safe on disk â€” this file can be committed to git without exposing secrets. To read or edit it, unlock through the ğŸ” Secrets tab.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Plaintext"
                            },
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”“ Plaintext</div><div class=\"state-detail\">Anyone with file access can read this fileâ€™s contents. Use the ğŸ” Secrets tab to lock it when youâ€™re done editing â€” plaintext .env files should never be committed to git.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Missing"
                            },
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Missing</div><div class=\"state-detail\">This file is expected but not found on disk. It may have been deleted or hasnâ€™t been created yet. Use + Create in the vault section above, or the ğŸ” Secrets tab.</div></div>"
                        }
                    ]
                },
                "children": []
            }
        ]
    },
    {
        "context": "wizard/content",
        "title": "Content Folders",
        "icon": "ğŸ“",
        "content": "Choose which folders appear in the ğŸ“ Content tab â€” your workspace for browsing, previewing, encrypting, and archiving project files.\n\nBelow the folders, you'll see the infrastructure directories that the control plane manages automatically. These track your chat history, audit traces, backups, and optimized large files â€” they're created on demand as you use the system.",
        "children": [
            {
                "id": "content-list",
                "title": "Project Folders",
                "icon": "ğŸ“‚",
                "selector": "#wiz-content-list",
                "separator": true,
                "content": "Select the folders you want to manage through the Content tab. Each selected folder becomes browsable with preview, encryption, download, and archive capabilities.",
                "expanded": "This controls the default folder tabs in the Content view. You can always browse any project directory using ğŸ—‚ Explore All â€” this selection just sets the defaults.\n\nğŸ’¡ Folders marked 'suggested' match common content folder patterns (docs, media, assets, etc). You don't have to include all of them â€” pick the ones that matter to your workflow.",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "div > div:first-child",
                    "content": "A project directory.",
                    "selector": "#wiz-content-list > label",
                    "variants": [
                        {
                            "when": {
                                "textContains": "Active",
                                "hasSelector": "[style*='suggested']"
                            },
                            "content": "This folder is selected and was auto-suggested as a common content folder.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Active Â· suggested</div><div class=\"state-detail\">This folder is included in the ğŸ“ Content tab. It matched a common content folder pattern and was pre-suggested.\n\nYou'll get full management capabilities: browsing, preview, upload, encryption, backup archives, and large file optimization.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "Active"
                            },
                            "content": "This folder is selected for content management.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Active</div><div class=\"state-detail\">This folder will appear as a tab in the ğŸ“ Content view. You can browse, upload, encrypt, download, and archive files inside it.\n\nUncheck it if you don't need to manage these files through the Content tab directly.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "suggested"
                            },
                            "content": "This looks like a good candidate for content management â€” it matches a common content folder pattern.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¡ Suggested</div><div class=\"state-detail\">This directory name matches a common content folder pattern. Check it to include it in the Content tab â€” you'll get browsing, preview, encryption, and archive capabilities.\n\nSuggested doesn't mean required. If this folder isn't relevant to your workflow, leave it unchecked.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â€”"
                            },
                            "content": "A project directory. Check the box to include it in the Content tab.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">Not selected</div><div class=\"state-detail\">This folder exists in your project but isn't currently managed through the Content tab.\n\nCheck it if you want to browse, upload, encrypt, or archive files in this directory. Leave it unchecked if it's source code or configuration that doesn't need content management.</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "content-infra",
                "title": "Content Infrastructure",
                "icon": "ğŸ—ï¸",
                "selector": "#wiz-content-infra",
                "separator": true,
                "content": "These directories are created and maintained by the control plane. They're gitignored and never need manual management â€” the system handles creation, population, and cleanup.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Think of them as internal storage layers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.ledger</span><span>shares data via git branches (chat threads, traces, audits)</span><span style=\"font-weight:600;color:var(--text-secondary)\">.state</span><span>local caches (preferences, scores, pending audits, run history)</span><span style=\"font-weight:600;color:var(--text-secondary)\">.backup</span><span>compressed archive snapshots from the Content tab</span><span style=\"font-weight:600;color:var(--text-secondary)\">.large</span><span>optimized oversized files, uploaded to release artifacts for sharing</span><span style=\"font-weight:600;color:var(--text-secondary)\">.pages</span><span>generated site builds from the Pages pipeline</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each one is gitignored. The 'shared' badge on .ledger means it syncs with collaborators via git push/pull â€” everything else stays local to your machine.</div></div></div>",
                "dynamic": true,
                "childTemplate": {
                    "title": "{{name}}",
                    "nameSelector": "code",
                    "content": "An infrastructure directory managed by the control plane.",
                    "selector": "#wiz-content-infra-list > div",
                    "variants": [
                        {
                            "when": {
                                "textContains": ".ledger"
                            },
                            "content": "Git worktree for shared project data â€” chat threads, trace snapshots, and saved audit records.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“’ Ledger</div><div class=\"state-detail\">The ledger is a separate git branch checked out as a worktree at your project root. It stores:\n\nâ€¢ Chat threads and messages (from the ğŸ’¬ Chat tab)\nâ€¢ Execution traces (from traced operations)\nâ€¢ Saved audit snapshots (promoted from pending results)\n\nBadge: 'shared' means this data syncs with your remote repository via git push/pull. Collaborators get the same history.\n\nYou never interact with .ledger directly â€” the control plane handles all reads and writes through the ledger service.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".state"
                            },
                            "content": "Local cache â€” preferences, audit scores, pending audits, run history, and trace recordings.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Local State</div><div class=\"state-detail\">Machine-local storage for ephemeral and cached data:\n\nâ€¢ devops_prefs.json â€” your dashboard preferences\nâ€¢ devops_cache.json â€” cached scan results\nâ€¢ audit_activity.json â€” audit execution log\nâ€¢ audit_scores.json â€” audit score history\nâ€¢ pending_audits.json â€” audits awaiting review\nâ€¢ runs.jsonl â€” execution run history\nâ€¢ traces/ â€” local trace recordings before sharing\n\nNone of this leaves your machine. This directory is almost certainly present by now â€” the control plane creates it the first time any feature needs local persistence.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".backup"
                            },
                            "content": "Backup archives created from the Content tab's Archive view.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—„ï¸ Backups</div><div class=\"state-detail\">Compressed archive snapshots of folders you choose to protect. Created through the Archive view in the ğŸ“ Content tab.\n\nBackup archives can exist at any level â€” the root .backup holds project-wide archives, while individual content folders can have their own .backup subdirectories.\n\nFor off-machine protection, you can upload archives to GitHub release artifacts.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".large"
                            },
                            "content": "Optimized large files â€” gitignored, virtual in parent, uploadable to release artifacts.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Large Files</div><div class=\"state-detail\">When files over 2 MB are uploaded through the Content tab, they're automatically moved to a .large subdirectory. The original filename appears virtually in the parent folder â€” you browse and manage them normally.\n\n.large is gitignored, so large files don't bloat your repository. For sharing, they can be uploaded to GitHub release artifacts (â˜ï¸ icon in the Content tab).\n\nThis directory can appear at any folder level â€” not just inside configured content folders. The content browser's Explore All mode can work with .large directories anywhere in the project.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": ".pages"
                            },
                            "content": "Generated site output from the Pages pipeline.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Pages Output</div><div class=\"state-detail\">Build output from the Pages pipeline â€” your generated Docusaurus site, static assets, and deployment artifacts.\n\nThis directory is rebuilt on each deploy. It's not something you edit directly â€” changes flow from your source content through the Pages build process.\n\nğŸ’¡ If you see this without having used Pages yet, it was likely created by a previous build or site generation run.</div></div>"
                        }
                    ]
                },
                "children": []
            }
        ]
    },
    {
        "context": "wizard/integrations",
        "title": "Integrations & DevOps",
        "icon": "ğŸ”Œ",
        "content": "This step detects your environment and lets you choose which integrations are active. {{toolsInstalled}} of {{toolsTotal}} tools are available, {{filesDetected}} project files detected, and {{integrationCount}} integration cards are ready to configure.\n\nEach integration you enable here becomes a card on the dashboard â€” giving you one-click access to its setup, status, and operations.",
        "children": [
            {
                "id": "scan-bar",
                "title": "Scan Status",
                "icon": "ğŸ”",
                "selector": "#wiz-int-scan-bar",
                "content": "The control plane scans your project root and system PATH to detect available tools, project files, and integration readiness.",
                "expanded": "Results are cached in-memory and in your browser's session storage so you don't wait on every step change. The age shown is how long ago the last scan completed.\n\nHit ğŸ”„ Re-scan to force a fresh detection â€” useful after installing a tool or adding a Dockerfile.",
                "variants": [
                    {
                        "when": {
                            "textContains": "rescan recommended"
                        },
                        "content": "Files on disk have changed since the last scan â€” the detection results may be stale.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Stale</div><div class=\"state-detail\">The staleness watcher detected file changes in your project since the last scan. This means new or modified Dockerfiles, manifests, config files, or tool installations may not be reflected in the current detection.\n\nHit ğŸ”„ Re-scan to refresh. The scan is fast (< 2 seconds) and updates everything: tool availability, file detection, stack defaults, and integration status.</div></div>"
                    },
                    {
                        "when": {
                            "textContains": "fresh"
                        },
                        "content": "The scan is recent and up to date â€” detection results reflect the current state of your project.",
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ“ Fresh</div><div class=\"state-detail\">Scan completed less than 30 seconds ago. All tool checks, file detection, and integration status reflect the current state of your project.\n\nYou can still force a re-scan anytime if you've made changes since landing on this step.</div></div>"
                    }
                ],
                "children": []
            },
            {
                "id": "system-tools",
                "title": "System Tools",
                "icon": "ğŸ”§",
                "selector": "#wiz-int-tools-section",
                "content": "{{toolsInstalled}} of {{toolsTotal}} development tools are available on your system. These are the CLI binaries the control plane calls to perform real work â€” building images, running tests, scanning for vulnerabilities, deploying to clusters.",
                "expanded": "Tools marked âœ— are missing from your PATH. You can install them directly from here â€” pip-based tools install into your current virtualenv, while system tools need sudo.\n\nEvery tool here maps to a specific pipeline in the control plane. Missing tools don't block setup, but they'll limit what the corresponding integration cards can do.",
                "dynamic": true,
                "childTemplate": {
                    "selector": "[id^='wiz-int-tool-']",
                    "nameSelector": "code",
                    "title": "{{name}}",
                    "content": "Development tool used by the control plane.",
                    "variants": [
                        {
                            "when": {
                                "textContains": "âœ“ git"
                            },
                            "title": "git âœ“",
                            "icon": "âœ…",
                            "content": "Version control â€” the foundation everything else depends on.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Git is the bedrock of the control plane. Every integration below â€” GitHub, CI/CD, Docker, K8s â€” assumes a git repository exists.\n\nThe control plane uses git for: commit tracking, remote detection, branch awareness, .gitignore analysis, and the entire sync pipeline that pushes secrets and configs to GitHub.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "git"
                            },
                            "content": "Version control â€” the foundation everything else depends on.",
                            "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Missing â€” Critical</div><div class=\"state-detail\">Git is not installed. This blocks nearly every integration â€” GitHub, CI/CD, Docker builds, and K8s deployments all assume a git repository.\n\nInstall it now. Without git, the control plane cannot detect your project structure or sync configurations.\n\nğŸ“¦ Installs via: sudo apt-get install git</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ gh"
                            },
                            "title": "gh âœ“",
                            "icon": "âœ…",
                            "content": "GitHub CLI â€” manages PRs, secrets, Actions, and environments from the terminal.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">The GitHub CLI is how the control plane interacts with your GitHub repository without needing API tokens or REST calls.\n\nUsed for: pushing secrets (gh secret set), syncing variables (gh variable set), dispatching workflows, creating deployment environments, and managing pull requests â€” all from the dashboard.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "gh"
                            },
                            "content": "GitHub CLI â€” manages PRs, secrets, Actions, and environments from the terminal.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without the GitHub CLI, you can't sync secrets to GitHub, dispatch workflows, or manage deployment environments from the control plane.\n\nThe control plane exclusively uses `gh` for all GitHub operations â€” no raw REST API calls. Install it to unlock the full GitHub integration.\n\nğŸ“¦ Installs via: sudo snap install gh</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ docker-compose"
                            },
                            "title": "docker-compose âœ“",
                            "icon": "âœ…",
                            "content": "Multi-service orchestration â€” manages docker-compose.yml stacks.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Docker Compose is available. The control plane uses it to parse your compose files, enumerate services, manage stack lifecycle (up/down/restart), and generate compose configurations with detected stack defaults.\n\nYour compose services will appear in the Docker integration card with per-service controls.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "docker-compose"
                            },
                            "content": "Multi-service orchestration â€” manages docker-compose.yml stacks.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Docker Compose orchestrates multi-container applications from a single YAML file. Without it, the control plane can't manage your compose stacks, start/stop services, or generate compose configurations.\n\nIf you only run single containers, this is optional. For multi-service setups (API + database + cache), it's essential.\n\nğŸ“¦ Installs via: sudo apt-get install docker-compose-v2</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ docker"
                            },
                            "title": "docker âœ“",
                            "icon": "âœ…",
                            "content": "Container runtime â€” builds images, runs containers, talks to the Docker daemon.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Docker is available. The control plane uses it for: building container images from your Dockerfile, running docker compose stacks, inspecting the daemon for running containers, and producing deployment artifacts.\n\nThe Docker integration card on the dashboard gives you image management, compose orchestration, and Dockerfile generation â€” all powered by this binary.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "docker"
                            },
                            "content": "Container runtime â€” builds images, runs containers, talks to the Docker daemon.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Docker is not installed. Without it, the control plane can't build container images, run compose stacks, or produce deployment artifacts.\n\nThe Docker integration card will still appear but will be limited to configuration â€” no builds or daemon interaction until Docker is available.\n\nğŸ“¦ Installs via: sudo apt-get install docker.io</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ kubectl"
                            },
                            "title": "kubectl âœ“",
                            "icon": "âœ…",
                            "content": "Kubernetes CLI â€” talks to clusters, applies manifests, inspects workloads.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">kubectl is available and the control plane can interact with Kubernetes clusters. Used for: applying manifests, inspecting pods/services/deployments, checking cluster connectivity, and the K8s manifest wizard.\n\nThe Kubernetes integration card uses kubectl for all cluster operations. Make sure your kubeconfig points to the right cluster.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "kubectl"
                            },
                            "content": "Kubernetes CLI â€” talks to clusters, applies manifests, inspects workloads.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without kubectl, the control plane can't communicate with Kubernetes clusters. The K8s integration card will be limited to manifest generation â€” no live cluster operations.\n\nIf you're not deploying to Kubernetes, this is safe to skip.\n\nğŸ“¦ Installs via: sudo snap install kubectl --classic</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ terraform"
                            },
                            "title": "terraform âœ“",
                            "icon": "âœ…",
                            "content": "Infrastructure as Code â€” provisions cloud resources from declarative configs.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Terraform is available. The control plane uses it for: scaffolding provider configurations, generating backend state configs, planning infrastructure changes, and integrating with the Terraform card on the dashboard.\n\nThe Terraform integration detects your providers, backend, and existing state to give you a clear picture of your infrastructure posture.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "terraform"
                            },
                            "content": "Infrastructure as Code â€” provisions cloud resources from declarative configs.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Terraform, the control plane can't scaffold IaC configs or inspect your infrastructure state. The Terraform card will be hidden by default unless you have a terraform/ directory.\n\nIf you manage infrastructure through other means (CloudFormation, Pulumi, manual), this is safe to skip.\n\nğŸ“¦ Installs via: sudo snap install terraform --classic</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ helm"
                            },
                            "title": "helm âœ“",
                            "icon": "âœ…",
                            "content": "Kubernetes package manager â€” manages charts, releases, and values files.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Helm is available. The control plane uses it alongside kubectl for: listing releases, inspecting chart values, and generating Helm-based deployment configurations in the K8s manifest wizard.\n\nHelm charts provide a higher-level abstraction over raw K8s manifests â€” especially useful for complex applications with many resources.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "helm"
                            },
                            "content": "Kubernetes package manager â€” manages charts, releases, and values files.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Helm, the control plane can still work with raw K8s manifests via kubectl. Helm adds chart management and release tracking on top.\n\nIf you deploy with raw YAML manifests, Helm is optional. If your project uses Helm charts, install it.\n\nğŸ“¦ Installs via: curl script (sudo required)</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ node"
                            },
                            "title": "node âœ“",
                            "icon": "âœ…",
                            "content": "Node.js runtime â€” required for npm, npx, and JavaScript-based tooling.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Node.js is available. The control plane uses it indirectly through npm/npx for: JavaScript linting (ESLint), formatting (Prettier), and the Pages pipeline (Docusaurus builds).\n\nIf your project includes JavaScript or TypeScript modules, Node.js enables their full toolchain integration.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "node"
                            },
                            "content": "Node.js runtime â€” required for npm, npx, and JavaScript-based tooling.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Node.js, JavaScript-based tools (ESLint, Prettier) and the Pages pipeline (Docusaurus) won't work. If your project is pure Python/Go/Rust, this is safe to skip.\n\nğŸ“¦ Installs via: sudo snap install node --classic</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ npm"
                            },
                            "title": "npm âœ“",
                            "icon": "âœ…",
                            "content": "Node package manager â€” installs JS dependencies and runs scripts.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">npm is available. Used by the control plane for: installing global tools (ESLint, Prettier), managing package.json dependencies, and running build scripts in JS/TS modules.\n\nThe Packages integration card uses npm for dependency auditing in Node.js projects.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "npm"
                            },
                            "content": "Node package manager â€” installs JS dependencies and runs scripts.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without npm, JavaScript tooling can't be installed and package.json projects can't be managed. Usually installed alongside Node.js.\n\nğŸ“¦ Installs via: sudo apt-get install npm</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ ruff"
                            },
                            "title": "ruff âœ“",
                            "icon": "âœ…",
                            "content": "Python linter and formatter â€” fast, Rust-powered, replaces flake8 + isort + black.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Ruff is available. The control plane uses it in the Quality pipeline and audit scoring â€” it checks Python code for style violations, import ordering, and common mistakes.\n\nRuff is an order of magnitude faster than traditional Python linters. Its results feed into the ğŸ”§ Code Quality card on the dashboard.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "ruff"
                            },
                            "content": "Python linter and formatter â€” fast, Rust-powered, replaces flake8 + isort + black.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Ruff, the Code Quality card can't run lint checks on Python code. The audit scoring system treats this as a gap in your quality posture.\n\nIt's a pip install â€” no sudo needed, installs into your current virtualenv.\n\nğŸ“¦ Installs via: pip install ruff</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ mypy"
                            },
                            "title": "mypy âœ“",
                            "icon": "âœ…",
                            "content": "Python static type checker â€” catches type errors before runtime.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">mypy is available. The control plane uses it in the Quality pipeline to verify type annotations across your Python codebase.\n\nType checking results feed into audit scoring. Projects with strict typing enabled score higher on the quality dimension.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "mypy"
                            },
                            "content": "Python static type checker â€” catches type errors before runtime.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without mypy, the Quality pipeline skips type checking. If your Python code uses type annotations, installing mypy will improve your audit quality score.\n\nğŸ“¦ Installs via: pip install mypy</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ pytest"
                            },
                            "title": "pytest âœ“",
                            "icon": "âœ…",
                            "content": "Python test runner â€” discovers and executes test suites.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">pytest is available. The control plane uses it in the Testing pipeline â€” running your test suite, collecting coverage data, and feeding results into the ğŸ§ª Testing card.\n\nTest results are a core input to audit scoring. Projects with passing tests and good coverage score significantly higher.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "pytest"
                            },
                            "content": "Python test runner â€” discovers and executes test suites.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without pytest, the Testing card can't run your test suite or collect coverage. The audit scoring system will flag the testing dimension as uncovered.\n\nğŸ“¦ Installs via: pip install pytest</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ pip-audit"
                            },
                            "title": "pip-audit âœ“",
                            "icon": "âœ…",
                            "content": "Python vulnerability scanner â€” checks installed packages against the PyPI advisory database.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">pip-audit is available. The control plane uses it in the Security pipeline to scan your Python dependencies for known CVEs.\n\nResults feed into the ğŸ” Security Posture card. It cross-references your installed packages against the PyPI advisory database and OSV.dev.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "pip-audit"
                            },
                            "content": "Python vulnerability scanner â€” checks installed packages against the PyPI advisory database.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without pip-audit, the Security card can't check your Python dependencies for known vulnerabilities. This is one of the three security scanners the control plane uses.\n\nğŸ“¦ Installs via: pip install pip-audit</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ bandit"
                            },
                            "title": "bandit âœ“",
                            "icon": "âœ…",
                            "content": "Python security linter â€” scans source code AST for common vulnerability patterns.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Bandit is available. The control plane uses it in the Security pipeline to perform static analysis on your Python source code â€” looking for hardcoded passwords, insecure function calls, SQL injection patterns, and similar issues.\n\nUnlike pip-audit (which checks dependencies), Bandit scans your own code.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "bandit"
                            },
                            "content": "Python security linter â€” scans source code AST for common vulnerability patterns.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Bandit, the Security card can't scan your Python source code for vulnerability patterns. It complements pip-audit (which checks dependencies) by inspecting your actual code.\n\nğŸ“¦ Installs via: pip install bandit</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "âœ“ safety"
                            },
                            "title": "safety âœ“",
                            "icon": "âœ…",
                            "content": "Python dependency checker â€” cross-references packages against a known vulnerability database.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Safety is available. It provides a second opinion to pip-audit by checking your Python dependencies against its own vulnerability database.\n\nThe control plane runs both pip-audit and Safety for comprehensive coverage â€” they use different data sources and catch different issues.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "safety"
                            },
                            "content": "Python dependency checker â€” cross-references packages against a known vulnerability database.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Missing</div><div class=\"state-detail\">Without Safety, you lose one of the two dependency vulnerability scanners. pip-audit and Safety complement each other â€” they use different databases and catch different CVEs.\n\nğŸ“¦ Installs via: pip install safety</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "file-detection",
                "title": "File Detection",
                "icon": "ğŸ“‹",
                "selector": "#wiz-int-files-section",
                "content": "{{filesDetected}} of {{filesTotal}} project files detected. These are the files and directories the control plane looks for to determine which integrations are relevant to your project.",
                "expanded": "Each pill represents a specific file or directory. Found files (â—) activate their corresponding integration by default â€” for example, a Dockerfile enables the Docker card, and a k8s/ directory enables Kubernetes.\n\nMissing files (â—‹) don't block anything â€” you can still enable integrations manually and the control plane will generate the missing files for you during setup.",
                "dynamic": true,
                "childTemplate": {
                    "selector": "#wiz-int-files-section > span",
                    "title": "{{name}}",
                    "content": "Project file or directory used for integration detection.",
                    "variants": [
                        {
                            "when": {
                                "textContains": "â— git repo"
                            },
                            "title": "git repo â—",
                            "content": "A .git directory exists â€” this project is under version control.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">The .git directory confirms this is a git repository. This is the foundation for Git, GitHub, and CI/CD integrations.\n\nThe control plane reads your remotes, branches, and commit history from this directory.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ git repo"
                            },
                            "title": "git repo â—‹",
                            "content": "No .git directory found â€” this project is not yet under version control.",
                            "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No git repository detected. Run `git init` to initialize one. Without it, the Git, GitHub, and CI/CD integrations cannot function.\n\nThe control plane will still let you configure integrations, but they won't be operational until a repository exists.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— dockerfile"
                            },
                            "title": "dockerfile â—",
                            "content": "A Dockerfile exists at the project root â€” Docker image builds are possible.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a Dockerfile. The Docker integration card can build images, inspect layers, and integrate with your CI/CD pipeline for automated builds.\n\nThe control plane parses your Dockerfile to detect base images, exposed ports, and build stages.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ dockerfile"
                            },
                            "title": "dockerfile â—‹",
                            "content": "No Dockerfile at the project root.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No Dockerfile detected. The Docker integration can generate one for you based on your detected stack â€” including the right base image, dependencies, and port exposure.\n\nUse the âš™ï¸ Setup button on the Docker card to scaffold a Dockerfile.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— docker compose"
                            },
                            "title": "docker compose â—",
                            "content": "A docker-compose.yml exists â€” multi-service orchestration is configured.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a compose file. The Docker integration parses it to enumerate services, detect ports, and provide per-service management from the dashboard.\n\nServices from your compose file appear in the Docker card with start/stop/restart controls.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ docker compose"
                            },
                            "title": "docker compose â—‹",
                            "content": "No docker-compose.yml or docker-compose.yaml found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No compose file detected. If your project needs multiple services (API + database + cache), the Docker setup wizard can generate a compose file with detected stack defaults.\n\nSingle-container projects often don't need compose at all.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— k8s manifests"
                            },
                            "title": "k8s manifests â—",
                            "content": "A k8s/ or kubernetes/ directory exists â€” Kubernetes manifests are present.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Kubernetes manifests detected. The K8s integration card can apply these to your cluster, inspect their status, and generate additional manifests through the K8s wizard.\n\nThe manifest wizard supports Deployments, Services, ConfigMaps, Secrets, PVCs, Ingress, and more.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ k8s manifests"
                            },
                            "title": "k8s manifests â—‹",
                            "content": "No k8s/ or kubernetes/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No Kubernetes manifest directory detected. If you plan to deploy to K8s, the manifest wizard can generate a complete set of manifests based on your project's stack and requirements.\n\nEnable the Kubernetes integration to get started.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— terraform dir"
                            },
                            "title": "terraform dir â—",
                            "content": "A terraform/ directory or main.tf exists â€” infrastructure as code is configured.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Terraform configuration detected. The Terraform integration card can inspect your providers, backend configuration, and state to give you infrastructure visibility from the dashboard.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ terraform dir"
                            },
                            "title": "terraform dir â—‹",
                            "content": "No terraform/ directory or main.tf found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No Terraform configuration detected. The Terraform integration can scaffold a complete IaC setup â€” provider config, backend state, and resource templates â€” tailored to your cloud provider.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— github actions"
                            },
                            "title": "github actions â—",
                            "content": "GitHub Actions workflows exist in .github/workflows/.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">GitHub Actions workflows detected. The CI/CD integration card can list, enable, disable, and dispatch these workflows. It also detects which secrets and variables each workflow needs.\n\nThe control plane can generate additional workflows (cron-based pipelines, deployment workflows) through the CI/CD setup.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ github actions"
                            },
                            "title": "github actions â—‹",
                            "content": "No .github/workflows/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No GitHub Actions workflows detected. The CI/CD integration can generate a pipeline workflow that runs your project's tests, security scans, and builds on push and on a schedule.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— pyproject"
                            },
                            "title": "pyproject â—",
                            "content": "pyproject.toml found â€” Python project metadata and dependencies are defined.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a pyproject.toml. The control plane reads this for: dependency lists (used by security scanners), version metadata, build configuration, and tool settings (ruff, mypy, pytest).\n\nThis is the modern standard for Python project configuration.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ pyproject"
                            },
                            "title": "pyproject â—‹",
                            "content": "No pyproject.toml found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No pyproject.toml detected. If this is a Python project, the control plane uses it for dependency scanning, tool configuration, and build metadata. Without it, setup.py or requirements.txt are used as fallbacks.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— package json"
                            },
                            "title": "package json â—",
                            "content": "package.json found â€” Node.js project metadata and dependencies are defined.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">Your project has a package.json. The control plane reads this for: dependency lists (npm audit), scripts, version metadata, and detected stack classification.\n\nThe Packages card uses this for npm dependency management and vulnerability scanning.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ package json"
                            },
                            "title": "package json â—‹",
                            "content": "No package.json found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No package.json detected. If this isn't a Node.js project, this is expected and safe to ignore.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— pages config"
                            },
                            "title": "pages config â—",
                            "content": "project.yml found â€” Pages pipeline configuration is available.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">project.yml is present. The Pages integration uses it for site generation settings â€” docs source directories, Docusaurus configuration, and deployment targets.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ pages config"
                            },
                            "title": "pages config â—‹",
                            "content": "No project.yml found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No project.yml detected. This file is generated by the Setup Wizard when you finish â€” it contains all your project configuration including module definitions, environment settings, and integration preferences.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— dns dir"
                            },
                            "title": "dns dir â—",
                            "content": "A dns/ directory exists â€” DNS configuration files are present.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">DNS configuration directory detected. The DNS & CDN integration card reads zone files and record definitions from this directory for domain management.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ dns dir"
                            },
                            "title": "dns dir â—‹",
                            "content": "No dns/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No DNS directory detected. The DNS integration can generate one with record templates for your domains when you set it up.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— cdn dir"
                            },
                            "title": "cdn dir â—",
                            "content": "A cdn/ directory exists â€” CDN configuration is present.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">CDN configuration directory detected. The DNS & CDN integration uses this for edge caching rules, origin settings, and CDN deployment configuration.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ cdn dir"
                            },
                            "title": "cdn dir â—‹",
                            "content": "No cdn/ directory found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No CDN directory detected. If you need CDN configuration for your static sites or APIs, the DNS & CDN integration can scaffold one during setup.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â— cname file"
                            },
                            "title": "cname file â—",
                            "content": "A CNAME file exists â€” custom domain for GitHub Pages is configured.",
                            "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â— Found</div><div class=\"state-detail\">A CNAME file is present, pointing your GitHub Pages site to a custom domain. The Pages integration uses this for deployment URL resolution and DNS record validation.</div></div>"
                        },
                        {
                            "when": {
                                "textContains": "â—‹ cname file"
                            },
                            "title": "cname file â—‹",
                            "content": "No CNAME file found.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not found</div><div class=\"state-detail\">No CNAME file detected. Without it, GitHub Pages uses the default github.io subdomain. If you want a custom domain, the Pages setup can create this file for you.</div></div>"
                        }
                    ]
                },
                "children": []
            },
            {
                "id": "integrations-section",
                "title": "Integrations",
                "icon": "ğŸ”Œ",
                "selector": "#wiz-int-section-integrations",
                "separator": true,
                "content": "These three integrations form the project's collaboration backbone â€” version control, remote hosting, and static site deployment.",
                "expanded": "Git, GitHub, and Pages work as a chain: Git provides the repository, GitHub connects it to a remote with CI/CD and secrets management, and Pages deploys your documentation or static site through that remote.\n\nEach card shows its current status and readiness. Enable or disable cards with the checkbox â€” disabled cards won't appear on the dashboard but can be re-enabled anytime.\n\nClick âš™ï¸ Setup on any card for inline configuration, or ğŸš€ Full Setup for the complete setup wizard with guided steps.",
                "children": [
                    {
                        "id": "git-card",
                        "title": "Git",
                        "icon": "ğŸ”€",
                        "selector": "#wiz-int-wrap-int-git",
                        "content": "Version control is the foundation of the control plane. Every integration â€” GitHub, CI/CD, Docker, K8s, Pages â€” depends on an initialized git repository with at least one remote.",
                        "expanded": "Git underpins the entire pipeline. The control plane uses it for commit tracking, remote detection, branch management, .gitignore analysis, and the sync pipeline that pushes secrets and configs to GitHub.\n\nThe checkbox enables or hides the Git card from the dashboard. Even disabled, git is still required by other integrations â€” GitHub reads your remotes, CI/CD triggers on push events, Docker builds embed commit SHAs in image labels, and the vault system from Step 3 relies on .gitignore to protect plaintext .env files.\n\nClick âš™ï¸ Setup to configure remotes, .gitignore, hooks, and initial commit in one pass.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ… ready"
                                },
                                "content": "Your repository is initialized and connected â€” the foundation is healthy. Every downstream integration (GitHub, CI/CD, Docker, Pages) builds on this.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Fully Configured</div><div class=\"state-detail\">The control plane can read your remotes, track branches, analyse .gitignore coverage, and manage commit hooks. This is the baseline that unlocks everything else.\n\nYour .gitignore protects the vault secrets from Step 3 â€” encrypted .env files, plaintext credentials, and auto-generated keys are all excluded from version control. Pre-commit hooks, if installed, enforce the lint and format tools detected in System Tools above before each commit reaches the repository.\n\nOpen âš™ï¸ Setup to fine-tune: add or remove remotes, regenerate .gitignore with stack-aware patterns, or wire pre-commit hooks into your toolchain. Use ğŸš€ Full Setup for the guided wizard with validation.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not configured"
                                },
                                "content": "Git is installed but this directory isn't a repository yet. Downstream integrations (GitHub, CI/CD) are blocked until you initialize one.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Repository</div><div class=\"state-detail\">The git binary is available but there's no .git/ directory in your project root. Without git init, the control plane can't detect remotes, branches, or .gitignore â€” and the GitHub and CI/CD cards below are stuck in an unconfigured state too.\n\nThis is the most actionable state â€” one setup pass fixes the entire chain. Click âš™ï¸ Setup to initialize the repository, choose a default branch, generate a stack-aware .gitignore, and optionally create an initial commit.\n\nAfter applying, hit ğŸ”„ Re-scan in the scan bar above. The GitHub card will update to reflect the new repository, CI/CD workflow generation becomes available, and the File Detection pills will show the git repo as found.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not installed"
                                },
                                "content": "Git is not installed on this system. This is the single most critical blocker â€” every integration depends on it, directly or transitively.",
                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Critical â€” Not Installed</div><div class=\"state-detail\">Without git, the control plane cannot initialize a repository, detect project structure, sync configurations, or interact with any remote service. Every integration card below â€” GitHub, CI/CD, Docker, K8s, Terraform, Pages, DNS â€” depends on git either directly or through the repository it manages.\n\nThe vault system from Step 3 also needs a repository so that .gitignore can protect plaintext .env files from accidental commits. The chat sync feature uses git push/pull for message replication.\n\nInstall git first, then hit ğŸ”„ Re-scan in the scan bar above. All other integrations will unblock once the binary is on your PATH.\n\nğŸ“¦ Install: sudo apt-get install git</div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "git-setup",
                                "title": "Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-git",
                                "content": "The Git setup panel configures your repository in one pass â€” initialization, remotes, .gitignore, hooks, and initial commit. Hit âœ… Apply to execute all changes in sequence.",
                                "expanded": "The status strip at the top shows what's already in place (âœ“ green) and what's missing (â—‹ gray). Each section below targets one aspect of git configuration.\n\nChanges are applied when you click âœ… Apply â€” nothing runs until then. The panel re-detects after applying, so all cards and pills update to reflect the new state.\n\nThis is the inline version. For a more guided experience with step-by-step validation, use ğŸš€ Full Setup instead.",
                                "children": [
                                    {
                                        "id": "git-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-git-status-strip",
                                        "content": "At-a-glance health check â€” each pill tracks one aspect of your git configuration. Green (âœ“) means configured, gray (â—‹) means missing or not yet set up.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Configuration Overview</div><div class=\"state-detail\">The status strip provides a quick visual summary of your repository's setup state. Each pill corresponds to a section below where you can configure the missing piece.\n\nThe strip updates after every Apply or re-scan. It reads live detection data from the backend â€” not cached state â€” so it always reflects the current reality on disk.\n\nHover any individual pill for details about that specific check and what to do if it's showing a failure state.</div></div>",
                                        "children": [
                                            {
                                                "id": "git-pill-binary",
                                                "title": "Git Binary",
                                                "icon": "ğŸ’»",
                                                "selector": "#wiz-git-pill-binary",
                                                "content": "Whether the git binary is installed and available on your system PATH.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’» Git Installation</div><div class=\"state-detail\">This pill checks if the git executable is reachable. The version number shown is the installed version.\n\nGit is the foundation â€” every other pill, section, and the entire GitHub integration depends on it. If this shows âœ—, nothing else in this panel works.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ git"
                                                        },
                                                        "content": "Git is installed and available. The version number is detected from git --version.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Git Available</div><div class=\"state-detail\">The git binary was found on PATH and responded to version check. All git operations are unblocked.\n\nThe version shown is informational â€” the control plane works with any modern git version (2.x+).</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âœ— git"
                                                        },
                                                        "content": "Git is not installed â€” this blocks every integration in this panel.",
                                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Git Missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The git executable was not found on PATH. This blocks:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Repository initialization</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remote management</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ .gitignore generation</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Hook installation</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Commit operations</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The entire GitHub integration</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Install git first, then re-scan to refresh this panel.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-repo",
                                                "title": "Repository",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-git-pill-repo",
                                                "content": "Whether a .git/ directory exists â€” indicates the project is a git repository.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Repository Status</div><div class=\"state-detail\">This pill checks for a .git/ directory in your project root. The branch name after the dot shows your current HEAD branch.\n\nInitialization creates the .git/ directory, which stores all version control metadata â€” commits, branches, refs, hooks, and configuration.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ repo"
                                                        },
                                                        "content": "Repository is initialized â€” the branch name shown is your current HEAD.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Repository Initialized</div><div class=\"state-detail\">A .git/ directory exists. The branch name after 'repo Â·' is your current HEAD â€” this is the active branch that commits will target.\n\nWith a repository in place, all other operations are unblocked: adding remotes, generating .gitignore, installing hooks, and making commits.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no repo"
                                                        },
                                                        "content": "No repository â€” git init will be run when you Apply.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Not Initialized</div><div class=\"state-detail\">No .git/ directory found. The project is not under version control yet.\n\nWhen you hit âœ… Apply, the control plane runs git init to create the repository. The default branch name is set from the Default Branch field below.\n\nUntil initialized: no commits, no branches, no remotes, no hooks.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-remotes",
                                                "title": "Remotes Count",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-git-pill-remotes",
                                                "content": "How many remotes are configured â€” at least one (origin) is needed for push/pull and GitHub features.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Remote Count</div><div class=\"state-detail\">This pill counts all configured remotes (git remote -v). The number includes both origin and any additional remotes like upstream or deploy.\n\nThe GitHub integration reads the origin remote to determine your repository â€” no remotes means no GitHub features.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "remote(s)"
                                                        },
                                                        "content": "At least one remote is configured â€” push/pull and GitHub integration are available.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Remotes Configured</div><div class=\"state-detail\">Your repository has one or more remotes. The origin remote is used by the GitHub integration to determine your repository slug for secrets sync, PR management, workflow dispatch, and Pages deployment.\n\nYou can manage remotes in the Remotes section below â€” add new ones or remove existing ones.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no remotes"
                                                        },
                                                        "content": "No remotes â€” push/pull and all GitHub features are blocked.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Remotes</div><div class=\"state-detail\">Without remotes, your repository is local-only. The control plane can't push code, sync secrets, dispatch CI/CD workflows, or deploy Pages.\n\nOpen the Remotes section below to add origin. If the GitHub CLI is authenticated, the URL may be pre-filled.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-gitignore",
                                                "title": "Gitignore Status",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-git-pill-gitignore",
                                                "content": "Whether .gitignore exists and what percentage of recommended patterns it covers.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Coverage Check</div><div class=\"state-detail\">This pill shows two things: whether a .gitignore file exists, and if so, what percentage of recommended patterns (for your detected stacks) are present.\n\n100% means every recommended pattern is covered. Lower percentages mean gaps exist â€” potential for secrets or build artifacts to leak into version control.\n\nOpen the .gitignore section below for details on what's missing and to regenerate.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ .gitignore"
                                                        },
                                                        "content": "File exists â€” the percentage shows recommended pattern coverage for your stacks.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… .gitignore Present</div><div class=\"state-detail\">A .gitignore file exists in your project root. The percentage reflects how many recommended patterns for your detected stacks are included.\n\n100% means complete coverage. Below 100% means some recommended patterns are missing â€” check the .gitignore section below to see which ones and regenerate if needed.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no .gitignore"
                                                        },
                                                        "content": "No .gitignore file â€” secrets and build artifacts could be committed.",
                                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ No .gitignore</div><div class=\"state-detail\">No .gitignore file was found. This is a security risk â€” without it, git add . would stage everything including .env files with secrets, build artifacts, and dependency directories.\n\nOpen the .gitignore section below and check 'Create .gitignore' to generate one based on your detected stacks.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "git-pill-hooks",
                                                "title": "Hooks Count",
                                                "icon": "ğŸª",
                                                "selector": "#wiz-git-pill-hooks",
                                                "content": "How many git hooks are installed â€” hooks automate quality checks before commits and pushes.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸª Hook Count</div><div class=\"state-detail\">This pill counts executable files in .git/hooks/ (excluding samples). Hooks are local scripts that git runs automatically at specific lifecycle events.\n\nThe most common hook is pre-commit â€” it runs checks before each commit. If the checks fail, the commit is blocked.\n\nIf lint or format tools are detected in your stack and no hooks exist, the Pre-commit Hook section below offers to install one.</div></div>",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "hook(s)"
                                                        },
                                                        "content": "Hooks are installed â€” quality checks run automatically at git lifecycle events.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Hooks Active</div><div class=\"state-detail\">One or more git hooks are installed in .git/hooks/. These run automatically â€” typically before commits â€” to enforce code quality and catch issues early.\n\nThe hooks were either installed by the control plane or manually. You can inspect them at .git/hooks/ in your project root.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no hooks"
                                                        },
                                                        "content": "No hooks installed â€” commits go through unchecked.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Hooks</div><div class=\"state-detail\">No git hooks are installed. Commits are accepted without any automated checks.\n\nIf your stack has lint or format capabilities detected (shown in System Tools), the Pre-commit Hook section below can install a hook that runs those checks before every commit.\n\nHooks are a local first line of defense â€” the CI/CD pipeline provides the team-wide enforcement layer.</div></div>"
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-remotes",
                                        "title": "Remotes",
                                        "icon": "ğŸŒ",
                                        "selector": "#wiz-git-section-remotes",
                                        "content": "Remotes connect your local repository to its hosted counterpart. Adding origin is the first step to enabling push, pull, and the entire GitHub integration chain.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Remote Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane reads your remotes to detect your GitHub repository, resolve the deployment target for Pages, and configure CI/CD workflow dispatch.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Naming conventions:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">origin</span><span>your primary remote, usually your own GitHub repo</span><span style=\"font-weight:600;color:var(--text-secondary)\">upstream</span><span>the parent repository if you're working from a fork</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If the GitHub CLI is authenticated, the remote URL is pre-filled from your gh repo info. The format should be https://github.com/owner/repo.git or git@github.com:owner/repo.git for SSH.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The GitHub integration card below reads the origin remote to determine which repository to target for secrets sync, PR management, and Actions dispatch. No remote = no GitHub features.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "no remotes"
                                                },
                                                "content": "No remotes configured â€” push, pull, and GitHub integration are blocked until you add at least origin.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  No Remotes</div><div class=\"state-detail\">Without a remote, your repository is local-only. The control plane can't push code, sync secrets to GitHub, dispatch workflows, or deploy Pages.\n\nAdd origin first â€” it's the primary remote that all GitHub features target. Type the remote name and URL below, then hit ï¼‹ Add.\n\nIf the GitHub CLI detected your repository, the URL is pre-filled. Otherwise, use the format: https://github.com/your-org/your-repo.git</div></div>"
                                            }
                                        ],
                                        "children": [
                                            {
                                                "id": "git-remote-name",
                                                "title": "Remote Name",
                                                "icon": "ğŸ·ï¸",
                                                "selector": "#wiz-git-remote-name",
                                                "content": "The remote name is a local alias for the hosted repository URL. It's how git references where to push and pull.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ Naming Convention</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Standard names and what they mean:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">origin</span><span>your primary repository. This is the default target for git push and git pull. The GitHub integration reads this remote to determine your repository slug.</span><span style=\"font-weight:600;color:var(--text-secondary)\">upstream</span><span>the parent repository you forked from. Used for syncing changes from the original project.</span><span style=\"font-weight:600;color:var(--text-secondary)\">deploy</span><span>some teams use a separate remote for deployment targets.</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If this is your first remote, the placeholder suggests \"origin\" â€” that's almost always the right choice. The name is local to your machine and can be changed later with git remote rename.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-remote-url",
                                                "title": "Remote URL",
                                                "icon": "ğŸ”—",
                                                "selector": "#wiz-git-remote-url",
                                                "content": "The remote URL points to your hosted repository â€” this is where git push sends your code and where GitHub integration reads your project from.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— URL Format</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Two formats work:</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â€” Works out of the box, authenticates via git credential manager or token.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ HTTPS: https://github.com/owner/repo.git</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â€” Requires SSH key setup. The control plane can detect SSH auth status and prompt for passphrase unlock when needed.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ SSH: git@github.com:owner/repo.git</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If the GitHub CLI (gh) is authenticated and detected your repository, this field is pre-filled with the HTTPS URL. You can switch to SSH if your workflow prefers it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The URL you set here becomes the target for all GitHub operations â€” secrets sync, PR management, workflow dispatch, and Pages deployment.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-add-remote",
                                                "title": "Add Remote",
                                                "icon": "ï¼‹",
                                                "selector": "#wiz-git-add-remote-btn",
                                                "content": "Adds the remote immediately â€” this runs git remote add right now, not on Apply. The page re-detects after adding so all cards update.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ï¼‹ Instant Action</div><div class=\"state-detail\">Unlike other setup options that wait for âœ… Apply, adding a remote executes immediately via the /git/remote/add API endpoint. The reason: remotes affect detection results, so re-scanning after add gives accurate status for all other cards.\n\nAfter adding, the remote appears in the list above with a âœ— remove button. The GitHub card will update on the next re-scan to reflect the new remote.\n\nIf the name field is empty, it defaults to the placeholder value (\"origin\" for the first remote, \"upstream\" for additional ones).</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-remotes-list",
                                                "title": "Configured Remotes",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-git-remotes-list",
                                                "content": "Your configured remotes â€” each row shows the name, URL, and a remove button. Removal is immediate and triggers re-detection.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Remote Registry</div><div class=\"state-detail\">Each row in this list is a configured git remote. The name (origin, upstream) is a local alias, the URL is the hosted repository endpoint.\n\nThe âœ— button removes a remote immediately (git remote remove) â€” this is irreversible. After removal, the page re-detects so all cards and pills update. If you remove origin, the GitHub integration will lose its target repository.\n\nRemotes are stored in .git/config and are local to your machine â€” they don't affect other developers working on the same repository.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-gh-hint",
                                                "title": "GitHub CLI Hint",
                                                "icon": "ğŸ™",
                                                "selector": "#wiz-git-gh-hint",
                                                "content": "The GitHub CLI detected your repository and pre-filled the remote URL. You can change it before adding.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ™ Auto-Detection</div><div class=\"state-detail\">The GitHub CLI (gh) command was found on your system and is authenticated. It identified a repository associated with this project directory.\n\nThe pre-filled URL uses the HTTPS format by default. You can change it to SSH (git@github.com:owner/repo.git) if your workflow uses SSH authentication.\n\nThis hint only appears when gh is installed, authenticated, and successfully resolved a repository slug for the current directory.</div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-gitignore",
                                        "title": ".gitignore",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-git-section-gitignore",
                                        "content": "The .gitignore controls what git tracks. Proper coverage prevents secrets, build artifacts, and environment files from being committed â€” this is the first line of defense for your vault.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ .gitignore Coverage</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane analyses your .gitignore against a catalog of expected patterns for your detected stacks. Coverage percentage reflects how many recommended patterns are present.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Critical patterns (always needed):</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.env, .env.*</span><span>vault secrets from Step 3</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.vault</span><span>encrypted vault files (extra protection layer)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Stack-specific patterns are added based on your detected modules â€” the generator reads your stack definitions to determine which build artifacts, dependency directories, and compiled output directories to exclude.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generator produces a comprehensive .gitignore in one pass. It's safe to regenerate â€” the generated file includes all your existing custom patterns.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "100%"
                                                },
                                                "content": "Your .gitignore covers all recommended patterns for your detected stacks. Secrets, build artifacts, and environment files are protected.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Full Coverage</div><div class=\"state-detail\">Every recommended pattern for your project's stacks is present in .gitignore. This means secrets from Step 3, build artifacts, and environment-specific files are all excluded from version control.\n\nYou can still open this section to regenerate if your stacks change â€” the generator always includes existing custom patterns alongside the recommended ones.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "missing)"
                                                },
                                                "content": "No .gitignore file exists. Without it, secrets, build artifacts, and environment files could be committed to the repository.",
                                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ No .gitignore</div><div class=\"state-detail\">This is a security risk. Without .gitignore, git tracks everything â€” including plaintext .env files from Step 3, build artifacts, dependency directories, and IDE configuration.\n\nThe \"Create .gitignore\" checkbox generates a comprehensive file based on your detected stacks. It includes universal security patterns (blocking .env, credentials, keys) plus stack-specific patterns for build artifacts and dependency directories relevant to your stack.\n\nThis should be the first thing you fix â€” even before adding remotes. A .gitignore protects you from day one.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "Missing"
                                                },
                                                "content": "Your .gitignore has gaps â€” some recommended patterns for your stacks are missing. Regenerating adds them without losing your custom entries.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Incomplete Coverage</div><div class=\"state-detail\">The analysis found patterns recommended for your detected stacks that aren't in your .gitignore. Missing patterns are shown as red pills â€” each represents a file type or directory that could leak into version control.\n\nCommon gaps include build output directories, dependency caches, compiled artifacts, IDE configs (.vscode/, .idea/), and OS files (.DS_Store).\n\nCheck the \"Regenerate .gitignore\" checkbox and hit âœ… Apply to fill the gaps. The generator preserves your existing custom patterns and adds the missing recommended ones on top.</div></div>"
                                            }
                                        ],
                                        "children": [
                                            {
                                                "id": "git-regen-gi",
                                                "title": "Regenerate .gitignore",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-git-regen-gi",
                                                "content": "Regenerates your .gitignore with stack-aware patterns â€” fills gaps without removing your existing custom entries.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Stack-Aware Regeneration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generator reads your detected stacks (from Step 2 modules) and the security catalog to produce a comprehensive .gitignore.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it adds:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Universal security patterns</span><span>.env, .env.*, credentials, private keys</span><span style=\"font-weight:600;color:var(--text-secondary)\">Stack-specific patterns</span><span>build artifacts, dependency directories, and compiled output relevant to your detected language and framework stacks</span><span style=\"font-weight:600;color:var(--text-secondary)\">IDE and OS patterns</span><span>.vscode/, .idea/, .DS_Store, Thumbs.db</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it preserves:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Any custom patterns you've added manually</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Comments and section headers in your existing file</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This checkbox is pre-checked when the analysis detected gaps. Uncheck it if you want to manage .gitignore manually. The regeneration runs on âœ… Apply along with all other setup steps.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-create-gi",
                                                "title": "Create .gitignore",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-git-create-gi",
                                                "content": "Creates a new .gitignore from scratch â€” generated from your detected stacks with security-first defaults.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ New File Generation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This creates a brand-new .gitignore file in your project root. The generated file includes:</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">1. Security patterns (always included):</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.env, .env.*</span><span>blocks vault secrets from Step 3</span><span style=\"font-weight:600;color:var(--text-secondary)\">*.pem, *.key</span><span>blocks private keys and certificates</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env.vault</span><span>blocks encrypted vault archives</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Build artifacts, dependency directories, and compiled output specific to your detected language and framework stacks.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ Stack patterns (based on detected modules):</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">3. Common patterns:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.DS_Store, Thumbs.db</span><span>OS artifacts</span><span style=\"font-weight:600;color:var(--text-secondary)\">.vscode/, .idea/</span><span>IDE configs</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the single most important file to create before your first commit. Without it, git add . would stage everything â€” including secrets.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-missing-patterns",
                                                "title": "Missing Patterns",
                                                "icon": "âš ï¸",
                                                "selector": "#wiz-git-missing-patterns",
                                                "content": "Each red pill is a pattern recommended for your detected stacks that's missing from .gitignore. Check 'Regenerate' and Apply to add them all.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Gap Analysis</div><div class=\"state-detail\">The control plane compares your .gitignore against a catalog of recommended patterns for each detected stack. Each red pill represents a pattern that should be present but isn't.\n\nPatterns are matched by your stack's language family and framework â€” the catalog knows which build outputs, dependency directories, and compiled artifacts each stack produces.\n\nChecking 'Regenerate .gitignore' and hitting âœ… Apply adds all missing patterns in one pass without removing your existing custom entries. Up to 5 are shown here â€” if there are more, the count is displayed.</div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-hooks",
                                        "title": "Pre-commit Hook",
                                        "icon": "ğŸª",
                                        "selector": "#wiz-git-section-hooks",
                                        "content": "Pre-commit hooks run your lint and format tools automatically before each commit â€” catching issues before they reach the repository and enforcing code quality at the gate.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸª Automated Quality Gate</div><div class=\"state-detail\">This section appears when lint or format tools are detected in your stack but no pre-commit hook is installed yet. The hook runs automatically before every git commit â€” if the checks fail, the commit is blocked.\n\nThe commands wired into the hook come from your stack's capabilities, detected from the System Tools section above. The green pills below show which commands were detected and will be included in the hook script.\n\nThe hook is a simple shell script installed at .git/hooks/pre-commit. It runs each command in sequence and aborts the commit on any failure. This is the lightest quality gate â€” no CI required, runs locally, instant feedback.\n\nCheck the box and hit âœ… Apply to install it.</div></div>",
                                        "children": [
                                            {
                                                "id": "git-setup-hooks-check",
                                                "title": "Install Hook",
                                                "icon": "â˜‘ï¸",
                                                "selector": "#wiz-git-setup-hooks",
                                                "content": "Check this to install a pre-commit hook that runs your lint and format commands before every commit.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜‘ï¸ Hook Installation</div><div class=\"state-detail\">When checked, âœ… Apply creates a shell script at .git/hooks/pre-commit with the commands detected from your stack capabilities:\n\nFor each capability found in System Tools above, the hook runs the corresponding check command. If any check fails (non-zero exit), the commit is aborted and you see the error output.\n\nThe hook file is a standard git hook â€” you can edit it manually after installation. It's not versioned (lives in .git/hooks/ which is gitignored by default), so each developer needs to install it locally.\n\nFor team-wide enforcement, the CI/CD pipeline runs the same checks â€” the hook is just a fast local pre-check to catch issues before pushing.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-hook-commands",
                                                "title": "Detected Commands",
                                                "icon": "ğŸ”§",
                                                "selector": "#wiz-git-hook-commands",
                                                "content": "These are the check commands detected from your stack's capabilities. They'll be wired into the pre-commit hook script.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Stack Capabilities</div><div class=\"state-detail\">Each green pill represents a command detected from your stack definition's capabilities section. These commands are what the pre-commit hook will run before each commit.\n\nThe commands are not hardcoded â€” they come from your stack's YAML definition (discovered in Step 2). If your stack defines lint, format, or test capabilities, those commands appear here.\n\nThe hook runs each command in sequence. If any exits non-zero, the commit is blocked and the error output is shown.</div></div>",
                                                "children": [
                                                    {
                                                        "id": "git-hook-lint",
                                                        "title": "Lint Check",
                                                        "icon": "ğŸ”",
                                                        "selector": "#wiz-git-hook-lint",
                                                        "content": "The lint command from your stack's capabilities â€” runs static analysis to catch code issues before commit.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Static Analysis</div><div class=\"state-detail\">This is the lint command detected from your stack definition. Linting performs static analysis on your source code â€” catching bugs, style violations, and suspicious patterns without running the code.\n\nIn the pre-commit hook, this command runs in check mode (read-only). If it finds issues, the commit is blocked and you see the lint errors in your terminal.\n\nThe specific command shown here comes from your stack's 'lint' capability in its YAML definition.</div></div>",
                                                        "children": []
                                                    },
                                                    {
                                                        "id": "git-hook-format",
                                                        "title": "Format Check",
                                                        "icon": "âœ¨",
                                                        "selector": "#wiz-git-hook-format",
                                                        "content": "The format command from your stack's capabilities â€” checks code formatting consistency before commit.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ¨ Formatting Verification</div><div class=\"state-detail\">This is the format command detected from your stack definition. Format checking verifies that your code follows consistent style rules â€” indentation, spacing, line length, and other formatting conventions.\n\nIn the pre-commit hook, this runs in check/verify mode â€” it reports formatting issues without modifying files. If unformatted code is found, the commit is blocked.\n\nThe specific command shown here comes from your stack's 'format' capability in its YAML definition.</div></div>",
                                                        "children": []
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-initial-commit",
                                        "title": "Initial Commit",
                                        "icon": "ğŸ’¾",
                                        "selector": "#wiz-git-section-commit",
                                        "content": "An initial commit anchors the repository â€” it's the baseline that all future changes are measured against and the first entry in your project's history.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ First Commit</div><div class=\"state-detail\">This section appears when the repository has no commits yet â€” either freshly initialized or never committed to. The initial commit typically includes your project.yml, .gitignore, and any existing source files.\n\nThe commit message defaults to \"Initial commit\" but you can customize it. The commit runs git add . followed by git commit -m after all other setup steps (remotes, .gitignore, hooks) have been applied â€” so the first commit captures a clean, properly configured state.\n\nAfter this commit, git log will show history, branch operations will work, and push to origin becomes possible.</div></div>",
                                        "children": [
                                            {
                                                "id": "git-init-commit-check",
                                                "title": "Create Commit",
                                                "icon": "â˜‘ï¸",
                                                "selector": "#wiz-git-init-commit",
                                                "content": "Check this to create an initial commit after all other setup steps complete â€” this anchors the repository with a clean starting state.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜‘ï¸ Initial Commit Toggle</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">When checked, âœ… Apply runs git add . followed by git commit -m with your message after completing all other steps (.gitignore generation, hook installation, branch setup).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This ordering matters: the .gitignore is created BEFORE the commit, so the first commit already respects ignore rules. Secrets and build artifacts won't be staged.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The initial commit gives you:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A baseline for git diff and git log</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A branch HEAD that enables push to remote</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A commit SHA that Docker builds can embed in image labels</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Leave unchecked if you want to review staged files before committing manually.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "git-commit-msg",
                                                "title": "Commit Message",
                                                "icon": "ğŸ’¬",
                                                "selector": "#wiz-git-commit-msg",
                                                "content": "The message for your initial commit â€” defaults to 'Initial commit' but you can describe what the first snapshot contains.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¬ First Message</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The commit message appears in git log and on GitHub's commit history. For initial commits, common patterns:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">\"Initial commit\"</span><span>the classic default</span><span style=\"font-weight:600;color:var(--text-secondary)\">\"Initial project setup with devops-control-plane\"</span><span>more descriptive</span><span style=\"font-weight:600;color:var(--text-secondary)\">\"chore: bootstrap project structure\"</span><span>conventional commits format</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This message is passed directly to git commit -m. It only applies if the \"Create initial commit\" checkbox above is checked.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After the initial commit, future commits should follow your team's commit message convention â€” conventional commits, gitmoji, or plain descriptive messages.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "git-branch",
                                        "title": "Default Branch",
                                        "icon": "ğŸŒ¿",
                                        "selector": "#wiz-git-branch",
                                        "content": "The default branch is your main development line â€” it determines the target for pull requests, the base for CI/CD triggers, and the name git uses when initializing.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ Branch Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Most projects use \"main\" â€” GitHub has defaulted to this since 2020. Some older projects still use \"master\" and that works too.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The control plane uses this branch name in several places:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD workflows trigger on push to this branch</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ GitHub PR targets default to this branch</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments reference this as the source branch</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The docker image tagging uses branch name as part of the version string</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Changing this after the initial setup is possible but requires renaming the branch (git branch -m old new) and updating any CI/CD workflow YAML that references the old name.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If you're starting fresh, stick with \"main\". If you have an existing repo, the current branch name is pre-filled.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "git-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-git",
                                        "content": "Executes all checked setup steps in sequence â€” .gitignore generation, hook installation, branch configuration, then initial commit if checked.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Execution Order</div><div class=\"state-detail\">When you click Apply, the control plane runs each checked step in a specific order:\n\n1. git init (if no repository exists)\n2. Branch rename (if different from current)\n3. .gitignore generation or regeneration\n4. Pre-commit hook installation\n5. git add . + git commit (if initial commit is checked)\n\nThis ordering is intentional â€” .gitignore is created before the commit, so the first snapshot already excludes secrets and build artifacts.\n\nAfter all steps complete, the panel re-detects and all status pills and cards update to reflect the new state. If any step fails, the error is shown and remaining steps are skipped.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "git-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-git",
                                        "content": "Closes the setup panel without applying any changes. Nothing is modified on disk.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard Changes</div><div class=\"state-detail\">Clicking Cancel collapses the setup panel and discards any unsaved field values. No git operations are performed â€” no files are created, modified, or deleted.\n\nYou can reopen the panel at any time by clicking âš™ï¸ Setup again. Field values will be re-populated from the current detection state, not from your previous unsaved edits.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "gh-card",
                        "title": "GitHub",
                        "icon": "ğŸ™",
                        "selector": "#wiz-int-wrap-int-github",
                        "content": "GitHub integration connects your local project to GitHub's API â€” environment management, secrets sync, CODEOWNERS automation, and Actions dispatch all flow through the gh CLI.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ… ready"
                                },
                                "content": "Authenticated as {{ghUser}} and linked to {{ghRepo}}. {{ghEnvAligned}} of {{ghEnvTotal}} environments aligned, {{ghWorkflows}} workflow(s) active. Open âš™ï¸ Setup to check what's left.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Fully Connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The gh CLI is authenticated and linked to {{ghRepo}}. The control plane can manage deployment environments, push vault secrets from Step 3, write CODEOWNERS for automatic PR review, and query workflow status.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Your integration health:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ {{ghEnvAligned}} of {{ghEnvTotal}} environments from Step 1 are on GitHub</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ {{ghWorkflows}} Actions workflow(s) detected</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Repository is {{ghVis}}</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Open âš™ï¸ Setup to drill into each dimension, or use ğŸš€ Full Setup for the guided wizard with repository creation and visibility management.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not configured"
                                },
                                "content": "The gh CLI is installed but not authenticated. Without a GitHub session, the control plane can't sync your {{envCount}} environments or push vault secrets.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Not Authenticated</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The GitHub CLI binary is on your system but hasn't been linked to a GitHub account. This blocks:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Creating your {{envCount}} environments on GitHub for CI/CD deployment gating</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pushing vault secrets so Actions workflows can use them</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Writing CODEOWNERS for automatic PR review assignment</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Querying repository metadata and workflow status</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Click âš™ï¸ Setup â†’ ğŸ”‘ Authenticate to run the OAuth flow. After authenticating, hit ğŸ”„ Re-scan â€” the card will update with your account, repository link, and full integration status.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not installed"
                                },
                                "content": "The gh CLI isn't installed. Without it, your {{envCount}} environments, vault secrets, and CODEOWNERS have to be managed manually on github.com.",
                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ CLI Not Available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The gh CLI is the bridge between your local project and GitHub's API. Without it, the control plane can't:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Create deployment environments for your CI/CD workflows</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Push the vault secrets you configured in Step 3</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Write CODEOWNERS for automatic review assignment</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Query repository status, visibility, or workflow health</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You'd have to do all of this manually through github.com.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Click âš™ï¸ Setup â†’ ğŸ“¦ Install gh. After installation, authenticate and re-scan â€” everything else unlocks from there.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ“¦ Install: https://cli.github.com or brew install gh</div></div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "gh-setup",
                                "title": "Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-github",
                                "content": "Your GitHub integration dashboard â€” authentication, repository link, environment alignment, CODEOWNERS, and secrets sync. What you see here depends on your gh CLI state.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ GitHub Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel adapts to your current state:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Not installed â†’ install prompt for the gh CLI binary</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Not authenticated â†’ OAuth login to link a GitHub account</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Authenticated â†’ full dashboard with {{ghEnvTotal}} environments, repository details, CODEOWNERS, and secrets sync</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Environments come from Step 1's project config. Secrets come from Step 3's vault. CODEOWNERS controls who reviews PRs. Everything here feeds into your CI/CD pipeline.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For the full guided experience with repository creation and visibility management, use ğŸš€ Full Setup instead.</div></div></div>",
                                "children": [
                                    {
                                        "id": "gh-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-gh-status-strip",
                                        "content": "Integration health at a glance â€” {{ghEnvAligned}} of {{ghEnvTotal}} environments aligned, {{ghWorkflows}} workflow(s), repo is {{ghVis}}. Green pills are working, gray ones need attention.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Integration Health</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill is one dimension of your GitHub integration:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Authentication</span><span>API access for all operations</span><span style=\"font-weight:600;color:var(--text-secondary)\">Account</span><span>the identity ({{ghUser}}) operations run under</span><span style=\"font-weight:600;color:var(--text-secondary)\">Repository</span><span>{{ghRepo}} is the target for CI/CD, Pages, and environments</span><span style=\"font-weight:600;color:var(--text-secondary)\">Visibility</span><span>{{ghVis}} controls who sees code, logs, and deployments</span><span style=\"font-weight:600;color:var(--text-secondary)\">Branch</span><span>{{ghBranch}} is the CI/CD trigger target and PR merge destination</span><span style=\"font-weight:600;color:var(--text-secondary)\">Environments</span><span>{{ghEnvAligned}} of {{ghEnvTotal}} aligned with Step 1</span><span style=\"font-weight:600;color:var(--text-secondary)\">CODEOWNERS</span><span>PR review automation status</span><span style=\"font-weight:600;color:var(--text-secondary)\">Workflows</span><span>{{ghWorkflows}} Actions pipeline(s) detected</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Gray pills aren't always blockers â€” missing CODEOWNERS means manual review, not broken CI/CD. But missing environments will stall workflows that use deployment gates.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "gh-pill-auth",
                                                "title": "Authentication",
                                                "icon": "ğŸ”‘",
                                                "selector": "#wiz-gh-pill-auth",
                                                "content": "You're authenticated â€” the control plane has API access to manage {{ghRepo}} on your behalf.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ“ Authenticated</div><div class=\"state-detail\">Your gh CLI session is active. The control plane can make API calls to GitHub as {{ghUser}} â€” creating environments, pushing secrets, writing CODEOWNERS, querying repository metadata.\n\nThe session persists until you explicitly log out or the OAuth token expires. If you see auth errors later, re-authenticate through the setup panel.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-user",
                                                "title": "Account",
                                                "icon": "ğŸ‘¤",
                                                "selector": "#wiz-gh-pill-user",
                                                "content": "Operating as {{ghUser}} â€” environment creation, secrets push, and CODEOWNERS writes all happen under this identity's permissions.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¤ {{ghUser}}</div><div class=\"state-detail\">All GitHub operations happen under {{ghUser}}'s permissions. If {{ghRepo}} is owned by an organization, this account needs the right access level â€” environment creation and secrets management typically require admin or maintain role.\n\nIf operations fail with permission errors, use the ğŸ”“ Logout button in the user card below to switch to an account with the necessary access.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-repo",
                                                "title": "Repository",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-gh-pill-repo",
                                                "content": "Linked to {{ghRepo}} â€” your CI/CD workflows, Pages deployments, and environment scoping all reference this repository.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "no repo"
                                                        },
                                                        "content": "No repository linked. You need a git remote pointing to GitHub â€” set one up in the Git card's remotes section, or create a new repo through ğŸš€ Full Setup.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â—‹ No Repository Linked</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The gh CLI can't find a GitHub repository for this project. This means either:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ No git remote is configured (check the Git card above)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The remote points to a non-GitHub host (GitLab, Bitbucket, etc.)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The repository doesn't exist on GitHub yet</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without a linked repo, environments can't be created, secrets can't be pushed, and CODEOWNERS has nowhere to live.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to create a new repository â€” it handles git remote add, initial push, and visibility settings in one flow.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ {{ghRepo}}</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is your project's home on GitHub. The slug is used by:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CI/CD</span><span>Actions workflows trigger on push to this repository</span><span style=\"font-weight:600;color:var(--text-secondary)\">Pages</span><span>deployments publish to GitHub Pages under this repo</span><span style=\"font-weight:600;color:var(--text-secondary)\">Environments</span><span>deployment environments are scoped per-repository</span><span style=\"font-weight:600;color:var(--text-secondary)\">Secrets</span><span>vault keys pushed here are available in Actions</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The ğŸ“¦ Repository section below has full details â€” visibility, default branch, description, and a direct link to GitHub.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-vis",
                                                "title": "Visibility",
                                                "icon": "ğŸ‘",
                                                "selector": "#wiz-gh-pill-vis",
                                                "content": "Your repo is {{ghVis}} â€” this affects who can see your code, Actions logs, and Pages deployments.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "private"
                                                        },
                                                        "content": "{{ghRepo}} is private â€” code, Actions logs, and Pages are restricted to collaborators only.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Private Repository</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Only collaborators with explicit access can see {{ghRepo}}:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Source code is not publicly visible</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ GitHub Actions logs are restricted to collaborators</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments require authentication (Enterprise) or are disabled</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Fork PRs from outside collaborators are not possible</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The vault system from Step 3 protects secrets from commits, but private visibility adds a second layer â€” even if something leaks into the repo, only collaborators see it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to change visibility â€” going public is irreversible for code that's already been seen.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "public"
                                                        },
                                                        "content": "{{ghRepo}} is public â€” your code, Actions logs, and Pages deployments are visible to everyone on the internet.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ Public Repository</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Anyone on the internet can see {{ghRepo}}:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Source code is fully visible</span><span>no secrets should ever be committed</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub Actions logs are public</span><span>workflow outputs are readable by anyone</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Pages deployments are accessible without authentication</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Anyone can fork and submit PRs (but fork PRs have limited secrets access)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Double-check your .gitignore coverage in the Git card â€” the vault's encrypted .env files and plaintext credentials must be excluded. Step 3's vault system handles this, but verify the Git card's .gitignore pill shows good coverage.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-branch",
                                                "title": "Default Branch",
                                                "icon": "ğŸŒ¿",
                                                "selector": "#wiz-gh-pill-branch",
                                                "content": "Default branch is {{ghBranch}} â€” PRs merge here, Actions trigger on push here, Pages deploy from here.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ {{ghBranch}}</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">{{ghBranch}} is where everything converges:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ PRs merge into {{ghBranch}}</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD workflows trigger on push to {{ghBranch}}</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments source from {{ghBranch}}</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This should match the branch in your CI/CD card's workflow YAML. If your workflow triggers on 'master' but GitHub's default is 'main', pushes won't fire the pipeline.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to change the default branch on GitHub.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-envs",
                                                "title": "Environments",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-gh-pill-envs",
                                                "content": "{{ghEnvAligned}} environment(s) exist on GitHub â€” CI/CD can target them for deployment gating and scoped secrets.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŒ {{ghEnvAligned}} Deployment Environment(s)</div><div class=\"state-detail\">These GitHub deployment environments match your Step 1 project config. When a CI/CD workflow uses environment: in a job, GitHub gates the deployment â€” it can require approvals, set wait timers, and scope secrets.\n\nEnvironment-scoped secrets mean your production DB_PASSWORD is only visible to jobs targeting the production environment. Development jobs can't see it â€” that's the separation you built in Step 3.\n\nSee the âš™ï¸ Environments section below for the full alignment breakdown.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-envs-missing",
                                                "title": "Missing Environments",
                                                "icon": "âš ï¸",
                                                "selector": "#wiz-gh-pill-envs-missing",
                                                "content": "{{ghEnvMissing}} environment(s) from Step 1 don't exist on GitHub yet â€” CI/CD workflows targeting them will stall at the deployment gate.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  {{ghEnvMissing}} Environment(s) Missing</div><div class=\"state-detail\">Your project defines {{ghEnvTotal}} environments in Step 1, but {{ghEnvMissing}} haven't been created on GitHub. If your CI/CD workflow uses environment: for those, GitHub can't deploy â€” the workflow stalls waiting for an environment that doesn't exist.\n\nScroll down to the âš™ï¸ Environments section â€” check the missing ones and click ğŸ†• Create. After creation, push scoped secrets through the ğŸ”’ Secrets section so each environment has its own credentials in Actions.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-codeowners",
                                                "title": "CODEOWNERS",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-gh-pill-codeowners",
                                                "content": "CODEOWNERS controls automatic PR review assignment â€” who gets notified when files in {{ghRepo}} are changed.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "CODEOWNERS âœ“"
                                                        },
                                                        "content": "CODEOWNERS is active on {{ghRepo}} â€” GitHub auto-assigns reviewers to PRs based on which files changed.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Review Automation Active</div><div class=\"state-detail\">Your CODEOWNERS file tells GitHub who should review changes to specific files in {{ghRepo}}. When a PR touches files matching a pattern, the listed owners are automatically added as reviewers.\n\nSee the ğŸ“‹ CODEOWNERS section below for the current rules. The most common pattern is * @owner which catches everything â€” add path-specific patterns for team members who own specific areas of the codebase.</div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "no CODEOWNERS"
                                                        },
                                                        "content": "No CODEOWNERS on {{ghRepo}} â€” every PR requires manual reviewer selection. Create one in the ğŸ“‹ section below.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ No Review Automation</div><div class=\"state-detail\">Without CODEOWNERS, every PR to {{ghRepo}} requires manual reviewer assignment. Works fine for solo projects, but as collaborators join, it's easy to miss adding the right reviewer for infrastructure, docs, or security-sensitive changes.\n\nScroll down to ğŸ“‹ CODEOWNERS to create one â€” the default template assigns {{ghUser}} to all files. Customize with path-specific rules for your team structure.</div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "gh-pill-workflows",
                                                "title": "Workflows",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-gh-pill-workflows",
                                                "content": "{{ghWorkflows}} Actions workflow(s) detected in {{ghRepo}} â€” these are your CI/CD pipelines, managed through the CI/CD card.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ {{ghWorkflows}} Workflow(s)</div><div class=\"state-detail\">These are YAML workflow files in .github/workflows/ of {{ghRepo}}. Each one defines a CI/CD pipeline â€” what triggers it, what it builds, what it tests, where it deploys.\n\nWorkflows are configured through the CI/CD integration card. The GitHub card shows the count to confirm the connection is healthy â€” {{ghRepo}} has active pipelines and the gh CLI can query their status.\n\nIf the count seems wrong, hit ğŸ”„ Re-scan in the scan bar above.</div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "gh-user-card",
                                        "title": "Account",
                                        "icon": "ğŸ‘¤",
                                        "selector": "#wiz-gh-user-card",
                                        "content": "Operating as {{ghUser}} â€” all GitHub API operations (environments, secrets, CODEOWNERS, visibility changes) happen under this identity.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¤ {{ghUser}}</div><div class=\"state-detail\">All operations the control plane performs on {{ghRepo}} â€” creating deployment environments, pushing vault secrets, writing CODEOWNERS â€” happen under {{ghUser}}'s permissions.\n\nIf {{ghRepo}} belongs to an organization, {{ghUser}} needs admin or maintain role for environment creation and secrets management.\n\nThe ğŸ”“ Logout button disconnects this account. After logging out, re-scan to get a fresh login prompt. Use this to switch accounts if operations fail due to insufficient permissions.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "gh-repo",
                                        "title": "Repository",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-gh-section-repo",
                                        "content": "{{ghRepo}} is {{ghVis}}, default branch is {{ghBranch}}. This is the repository your CI/CD, Pages, and environment scoping all target.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ {{ghRepo}}</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project's home on GitHub:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Visibility</span><span>{{ghVis}}. Controls who sees code, Actions logs, and Pages deployments.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Default branch</span><span>{{ghBranch}}. PRs merge here, Actions trigger here, Pages deploy from here.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Fork status</span><span>fork repos have limited secrets access for outside PRs.</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Open â†— link goes directly to {{ghRepo}} on GitHub. Use ğŸš€ Full Setup to change visibility or the default branch.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "ğŸ”’ private"
                                                },
                                                "content": "{{ghRepo}} is private, default branch is {{ghBranch}}. Code, Actions logs, and Pages are restricted to collaborators.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ {{ghRepo}} Â· private</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Only collaborators with explicit access can see {{ghRepo}}:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Source code is not publicly visible</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ GitHub Actions logs are restricted to collaborators</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pages deployments require Enterprise auth or are disabled</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Fork PRs from outside collaborators are blocked</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Default branch is {{ghBranch}} â€” PRs merge there, CI/CD triggers on push there.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The vault from Step 3 protects secrets from commits. Private visibility adds a second layer â€” even if something leaks into the repo, only collaborators see it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use ğŸš€ Full Setup to change visibility â€” going public is irreversible for code that's already been seen.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "ğŸŒ public"
                                                },
                                                "content": "{{ghRepo}} is public, default branch is {{ghBranch}}. Code, Actions logs, and Pages are visible to everyone on the internet.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ {{ghRepo}} Â· public</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Anyone on the internet can see {{ghRepo}}:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Source code is fully visible</span><span>no secrets should ever be committed</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub Actions logs are public</span><span>workflow outputs readable by anyone</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Pages deployments are accessible without authentication</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Anyone can fork and submit PRs (fork PRs have limited secrets access)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Default branch is {{ghBranch}} â€” PRs merge there, CI/CD triggers on push there.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Double-check .gitignore coverage in the Git card â€” the vault's encrypted .env files and plaintext credentials must be excluded. Step 3's vault handles this, but verify the Git card's .gitignore pill shows good coverage.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "gh-envs",
                                        "title": "Environments",
                                        "icon": "âš™ï¸",
                                        "selector": "#wiz-gh-section-envs",
                                        "content": "All {{ghEnvTotal}} environments from Step 1 are on GitHub â€” CI/CD can target every one for deployment gating and scoped secrets.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… {{ghEnvTotal}}/{{ghEnvTotal}} Aligned</div><div class=\"state-detail\">All {{ghEnvTotal}} environments you defined in Step 1 exist as deployment environments on {{ghRepo}}. CI/CD workflows can target every one of them.\n\nWhen a workflow uses environment: production in a job, GitHub gates the deployment â€” it can require approvals, set wait timers, and scope secrets so production credentials are only available to production jobs.\n\nEnvironment-scoped secrets from ğŸ”’ Secrets are properly separated â€” your production DB_PASSWORD is invisible to development jobs.\n\nâ­ marks your default environment from Step 1 â€” the one pre-selected when working with secrets and variables.</div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ— missing"
                                                },
                                                "content": "{{ghEnvAligned}} of {{ghEnvTotal}} aligned â€” {{ghEnvMissing}} environment(s) still need to be created on GitHub for CI/CD deployment gating.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  {{ghEnvMissing}} of {{ghEnvTotal}} Missing</div><div class=\"state-detail\">{{ghEnvMissing}} of your {{ghEnvTotal}} environments from Step 1 don't exist on GitHub yet. CI/CD workflows that reference these with environment: will stall â€” GitHub can't deploy to an environment that doesn't exist.\n\nCheck the boxes next to the missing ones and click ğŸ†• Create. After creation, push scoped secrets through ğŸ”’ Secrets so each environment has its own credentials in Actions.\n\nThis takes seconds and is reversible â€” environments can be deleted from GitHub's repository settings.</div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "gh-codeowners",
                                        "title": "CODEOWNERS",
                                        "icon": "ğŸ“‹",
                                        "selector": "#wiz-gh-section-codeowners",
                                        "content": "CODEOWNERS automates PR review assignment on {{ghRepo}} â€” GitHub reads this file to decide who reviews changes to which files.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Review Automation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The CODEOWNERS file lives at .github/CODEOWNERS in {{ghRepo}} and tells GitHub who to assign as reviewers when a PR changes specific files.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Pattern format:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">* @owner</span><span>assigns the owner to ALL files (catch-all)</span><span style=\"font-weight:600;color:var(--text-secondary)\">/src/infra/ @platform-team</span><span>scopes to infrastructure</span><span style=\"font-weight:600;color:var(--text-secondary)\">*.md @docs-team</span><span>scopes to documentation</span><span style=\"font-weight:600;color:var(--text-secondary)\">/src/security/ @security @lead</span><span>multiple reviewers</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Patterns match top-to-bottom, last match wins. The catch-all should be first, with specific overrides below.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This file is committed to your repository â€” it's versioned and reviewable like any other code change.</div></div></div>",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "(exists)"
                                                },
                                                "content": "CODEOWNERS is active on {{ghRepo}} â€” the preview below shows your current review assignment rules. Every PR gets automatic reviewer selection.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… CODEOWNERS Active</div><div class=\"state-detail\">The file is live in {{ghRepo}}. Every PR now gets automatic reviewer assignment based on the patterns defined. The preview below shows the current content.\n\nTo update rules, edit the file directly or use ğŸš€ Full Setup which provides an editor. Changes take effect on the next PR â€” existing open PRs don't retroactively get new reviewers.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "(missing)"
                                                },
                                                "content": "No CODEOWNERS on {{ghRepo}} â€” every PR requires manual reviewer selection. Check the box below to create one with {{ghUser}} as the default owner.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Create CODEOWNERS</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without CODEOWNERS, you manually select reviewers for every PR to {{ghRepo}}. The checkbox below generates a default file that assigns {{ghUser}} to all files.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Customize the template before applying:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ /docs/ @docs-team</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ /src/infra/ @platform-team</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ *.yml @devops-team</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The file is written to .github/CODEOWNERS when you click âœ… Apply. It takes effect on the next PR created.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "gh-secrets",
                                        "title": "Secrets",
                                        "icon": "ğŸ”’",
                                        "selector": "#wiz-gh-section-secrets",
                                        "content": "Your vault keys from Step 3 need to be on GitHub for Actions to use them. With {{envCount}} environments, each gets its own scoped secrets â€” production keys stay separate from development keys.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Vault â†’ GitHub Sync</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The secrets you configured in Step 3's vault are local to your machine. GitHub Actions can't access them until they're pushed to {{ghRepo}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">With {{envCount}} environments, scoping works like this:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Each environment gets its own GitHub environment secrets</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ A production DB_PASSWORD is only visible to jobs using environment: production</span><span style=\"font-weight:600;color:var(--text-secondary)\">Development jobs see only development secrets</span><span>no cross-contamination</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The 'Push now' checkbox triggers a sync of all vault keys when you âœ… Apply. For per-key control â€” choosing which to push, which to skip â€” use the ğŸ” Secrets tab on the dashboard or ğŸš€ Full Setup.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Secrets pushed to GitHub are encrypted at rest and auto-masked in Actions logs.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "gh-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-github",
                                        "content": "Runs all checked actions: create {{ghEnvMissing}} missing environment(s), push vault secrets, write CODEOWNERS â€” in that order.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Execution Order</div><div class=\"state-detail\">When you click Apply, the control plane runs each checked action against {{ghRepo}}:\n\n1. Create checked environments on GitHub (so deployment gates work)\n2. Push vault secrets (scoped per-environment if multi-env)\n3. Write CODEOWNERS (so PR review is automated)\n\nThis ordering matters â€” environments are created first so environment-scoped secrets land in the right targets.\n\nAfter all steps complete, re-detection runs and all status pills update. If any step fails, the error shows in a toast.\n\nFor repository creation, visibility changes, and branch management, use ğŸš€ Full Setup instead.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "gh-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-github",
                                        "content": "Closes the setup panel without applying. No API calls to {{ghRepo}} â€” nothing changes on GitHub.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard Changes</div><div class=\"state-detail\">Cancel collapses the panel and discards unsaved selections â€” environment checkboxes, CODEOWNERS content, secrets push toggle. No API calls are made to {{ghRepo}}.\n\nReopen anytime with âš™ï¸ Setup â€” checkbox states repopulate from the current detection state, not your previous unsaved selections.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "pages-card",
                        "title": "Pages",
                        "icon": "ğŸ“„",
                        "selector": "#wiz-int-wrap-int-pages",
                        "content": "Pages is your static site builder â€” documentation sites, landing pages, and content-driven sections built from your project's content folders and deployed through GitHub Pages or other targets.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ… ready"
                                },
                                "content": "{{pagesSegments}} segment(s) configured and building. Deploy branch is {{pagesBranch}}, {{pagesBuildersAvail}} of {{pagesBuildersTotal}} builders available. Your static sites are operational.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Pages Ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your static site pipeline is healthy:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">{{pagesSegments}} segment(s) configured</span><span>each one is a buildable site section</span><span style=\"font-weight:600;color:var(--text-secondary)\">Deploy branch is {{pagesBranch}}</span><span>built output lands there for GitHub Pages</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ {{pagesBuildersAvail}} of {{pagesBuildersTotal}} builders available</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Segments pull content from source directories, build through their assigned builder (Docusaurus, MkDocs, Hugo, plain HTML), and output to the deploy path.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Full segment management â€” adding, editing, building, deploying â€” is in the Pages tab on the dashboard. This card gives you the overview and quick auto-init for new content folders.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âš ï¸ partial"
                                },
                                "content": "Pages is partially configured â€” {{pagesSegments}} segment(s) exist but the pipeline isn't fully operational. Check the sections below for what's missing.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Partially Configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">You have {{pagesSegments}} segment(s) defined but the Pages pipeline isn't fully ready. Common causes:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A builder required by a segment isn't installed (check ğŸ”¨ Builders below)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Content source directory is empty or missing</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Deploy branch isn't set for GitHub Pages</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Open the sections below to see what needs attention. The Pages tab has full management â€” build logs, preview, and deploy controls.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "not configured"
                                },
                                "content": "No Pages segments configured yet. If your project has content folders (docs/, content/), the auto-init below can create segments automatically.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ Not Configured</div><div class=\"state-detail\">Pages isn't set up yet. This means no static sites are being built from your project.\n\nIf you have content folders â€” docs/, content/, site/ â€” they'll appear in the ğŸ“‚ Content Folders section with an auto-init option. The control plane detects the best builder for each folder (Docusaurus for docs with docusaurus.config.js, MkDocs for mkdocs.yml, etc.).\n\nYou can also create segments manually from the Pages tab, choosing any source directory and builder combination.\n\nPages deployment typically goes through GitHub Pages on branch {{pagesBranch}} â€” which links back to your GitHub card's repository configuration.</div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "pages-setup",
                                "title": "Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-pages",
                                "content": "Your Pages dashboard â€” segments, content folders, available builders, and deployment configuration. What you see depends on what the detection scan found in your project.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ Pages Configuration</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Pages system works in segments â€” each one is an independent static site section:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ A segment has a source (content directory), a builder (Docusaurus, MkDocs, Hugo, plain), and an output path</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multiple segments combine into one deployed site</span><span>docs + blog + landing page all coexist</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Each builder is auto-detected from your source structure (docusaurus.config.js â†’ Docusaurus, mkdocs.yml â†’ MkDocs)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The setup panel here shows what the detection scan found. For full management â€” adding segments, building, previewing, deploying â€” use the Pages tab on the dashboard.</div></div></div>",
                                "children": [
                                    {
                                        "id": "pages-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-pages-status-strip",
                                        "content": "Pages health at a glance â€” {{pagesSegments}} segment(s), deploy branch {{pagesBranch}}, {{pagesBuildersAvail}} builders available.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Pages Health</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill is one dimension of your Pages setup:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Status</span><span>overall pipeline health (ready, partial, not configured)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Segments</span><span>{{pagesSegments}} buildable site section(s) defined</span><span style=\"font-weight:600;color:var(--text-secondary)\">.pages/</span><span>the configuration directory exists in your project root</span><span style=\"font-weight:600;color:var(--text-secondary)\">Deploy branch</span><span>{{pagesBranch}} is where built output goes for GitHub Pages</span><span style=\"font-weight:600;color:var(--text-secondary)\">Content folders</span><span>detected directories that could become segments</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Green status means all segments have valid sources, working builders, and a deploy target. Partial means something's incomplete â€” a missing builder or empty source.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "pages-pill-status",
                                                "title": "Status",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-pages-pill-status",
                                                "content": "Overall Pages pipeline status â€” whether segments are configured and builders are operational.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ… ready"
                                                        },
                                                        "content": "All {{pagesSegments}} segment(s) are healthy â€” sources exist, builders are available, output paths are configured.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Pipeline Ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Every configured segment has:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A valid source directory with content</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ An available builder installed on your system</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ An output path for the built site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You can build and preview segments from the Pages tab. Deployment pushes built output to {{pagesBranch}} for GitHub Pages.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âš ï¸ partial"
                                                        },
                                                        "content": "Some segments have issues â€” a builder might be missing or a source directory is empty. Check the sections below.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš  Partially Ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">At least one segment has a problem. Common issues:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Builder not installed</span><span>check ğŸ”¨ Builders section</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Source directory empty or deleted since last scan</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Output path conflicts between segments</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hit ğŸ”„ Re-scan to refresh detection. The Pages tab shows per-segment build status with detailed error messages.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "not configured"
                                                        },
                                                        "content": "No segments exist yet. Content folders below can be auto-initialized, or create segments manually in the Pages tab.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â—‹ No Segments</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pages has no configured segments. A segment is required before anything can be built or deployed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Two paths to create one:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Auto-init from detected content folders (ğŸ“‚ section below)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual creation in the Pages tab</span><span>choose any directory + builder</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The auto-init option examines each content folder's structure and picks the best builder automatically.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-segments",
                                                "title": "Segments",
                                                "icon": "ğŸ“‘",
                                                "selector": "#wiz-pages-pill-segments",
                                                "content": "{{pagesSegments}} segment(s) â€” each one is an independent buildable site section with its own source directory and builder.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‘ {{pagesSegments}} Segment(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each segment is a self-contained build unit:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Has its own source directory (e.g., docs/, content/blog/)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Uses a specific builder (Docusaurus, MkDocs, Hugo, plain HTML)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Outputs to a path within the deployed site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Multiple segments combine into one site â€” you can have docs at /docs, a blog at /blog, and a landing page at / all building independently.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">See the ğŸ“‘ Segments section below for the full list with source â†’ output mappings and preview links.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-pagesdir",
                                                "title": ".pages/ Directory",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-pages-pill-pagesdir",
                                                "content": "The .pages/ directory holds Pages configuration â€” segment definitions, builder settings, and deploy metadata.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“ .pages/ Exists</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has a .pages/ directory at the root. This is where the Pages system stores:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Segment definitions (which directories build into which site sections)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Builder configuration and overrides</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Deploy metadata (branch, base URL, custom domain)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Theme and plugin settings per builder</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This directory is committed to your repository â€” your Pages configuration is versioned and reproducible across environments.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-branch",
                                                "title": "Deploy Branch",
                                                "icon": "ğŸŒ¿",
                                                "selector": "#wiz-pages-pill-branch",
                                                "content": "Built site output goes to {{pagesBranch}} â€” GitHub Pages serves from this branch automatically when configured on your repository.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ {{pagesBranch}}</div><div class=\"state-detail\">The deploy branch is where built static site output is committed. GitHub Pages reads from this branch to serve your site.\n\nThe flow:\n1. Build segments locally (or in CI/CD)\n2. Built output is committed to {{pagesBranch}}\n3. GitHub Pages picks it up and serves at your.domain.com or username.github.io/repo\n\nThis links back to your GitHub card â€” {{ghRepo}} needs GitHub Pages enabled in repository settings, pointing at {{pagesBranch}} as the source.\n\nThe CI/CD card's workflow can automate this: build on push to {{ghBranch}}, deploy output to {{pagesBranch}}.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-pill-folders",
                                                "title": "Content Folders",
                                                "icon": "ğŸ“‚",
                                                "selector": "#wiz-pages-pill-folders",
                                                "content": "{{pagesFolders}} content folder(s) detected that could become segments â€” auto-init available if you want to build them into your site.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ {{pagesFolders}} Content Folder(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The detection scan found {{pagesFolders}} directories in your project that contain buildable content (markdown, HTML, RST) but don't have segments yet.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each folder is matched with the best builder:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Has docusaurus.config.js â†’ Docusaurus</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Has mkdocs.yml â†’ MkDocs</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Contains .md files â†’ plain markdown (fallback)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Check the ğŸ“‚ Content Folders section below to auto-initialize segments from these. Apply creates the segment definitions â€” you can preview and build from the Pages tab afterward.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "pages-segments",
                                        "title": "Segments",
                                        "icon": "ğŸ“‘",
                                        "selector": "#wiz-pages-section-segments",
                                        "content": "{{pagesSegments}} configured segment(s) â€” each row shows the segment name, builder, source â†’ output mapping, and a local preview link.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‘ {{pagesSegments}} Active Segment(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">These segments are configured and buildable. Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Name</span><span>the segment identifier used in commands and the Pages tab</span><span style=\"font-weight:600;color:var(--text-secondary)\">Builder</span><span>which build tool processes the content (Docusaurus, MkDocs, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Source â†’ Path</span><span>the content directory and where it appears in the deployed site</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ”—</span><span>opens a local preview of the built segment</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Segments build independently â€” changing docs doesn't rebuild blog. The Pages tab has build controls, logs, and full preview for each segment.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Deployment pushes all segment outputs to {{pagesBranch}} as a combined site.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-folders",
                                        "title": "Content Folders",
                                        "icon": "ğŸ“‚",
                                        "selector": "#wiz-pages-section-folders",
                                        "content": "Detected content directories that can become segments. âœ… means a segment already exists, â¬œ means auto-init is available.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "no segment"
                                                },
                                                "content": "{{pagesUninit}} content folder(s) don't have segments yet â€” check the auto-init box and Apply to create them automatically with the best matching builder.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ {{pagesUninit}} Uninitialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">{{pagesUninit}} content folder(s) were detected but don't have segments yet. Each one shows:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The folder name and file count</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The best-matching builder (detected from config files and content type)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A ğŸ’¡ suggestion if the detection has a specific recommendation</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The auto-init checkbox at the bottom creates segments for all uninitialized folders using their detected builders. After init, you can build and preview from the Pages tab.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the fastest way to get your content building â€” one click creates properly configured segments.</div></div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‚ All Folders Linked</div><div class=\"state-detail\">Every detected content folder has a corresponding segment. Your project's content directories are fully integrated into the Pages pipeline.\n\nEach folder's content is being built through its assigned builder whenever you trigger a build from the Pages tab or CI/CD workflow.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-builders",
                                        "title": "Builders",
                                        "icon": "ğŸ”¨",
                                        "selector": "#wiz-pages-section-builders",
                                        "content": "{{pagesBuildersAvail}} of {{pagesBuildersTotal}} builders available on your system â€” these are the tools that compile content into static HTML.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”¨ {{pagesBuildersAvail}}/{{pagesBuildersTotal}} Builders</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Builders are the engines that transform your content into static HTML. Each one handles a different source format:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docusaurus</span><span>React-based, MDX support, versioned docs, blog</span><span style=\"font-weight:600;color:var(--text-secondary)\">MkDocs</span><span>Python-based, Material theme, simpler configuration</span><span style=\"font-weight:600;color:var(--text-secondary)\">Hugo</span><span>Go-based, extremely fast builds, shortcodes</span><span style=\"font-weight:600;color:var(--text-secondary)\">Plain</span><span>copies HTML/CSS/JS directly, no compilation</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ… means the builder's CLI is installed and ready. â—‹ means it's known but not installed â€” segments using that builder can't build until you install it.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The system tools section at the top of this step shows CLI availability. Missing builders can be installed from there.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "pages-builder-docusaurus",
                                                "title": "Docusaurus",
                                                "icon": "ğŸ¦–",
                                                "selector": "#wiz-pages-builder-docusaurus",
                                                "content": "Docusaurus â€” React-based documentation framework with MDX support. The most feature-rich builder for documentation sites.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Docusaurus is installed and ready â€” Node.js and npx detected. The most powerful builder for documentation-heavy projects.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ¦– Docusaurus Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docusaurus is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">MDX</span><span>write React components directly in markdown</span><span style=\"font-weight:600;color:var(--text-secondary)\">Versioned docs</span><span>maintain docs across software versions</span><span style=\"font-weight:600;color:var(--text-secondary)\">Blog engine</span><span>built-in blog with RSS and pagination</span><span style=\"font-weight:600;color:var(--text-secondary)\">Search</span><span>Algolia-powered search out of the box</span><span style=\"font-weight:600;color:var(--text-secondary)\">i18n</span><span>built-in internationalization support</span><span style=\"font-weight:600;color:var(--text-secondary)\">Theme system</span><span>fully customizable React-based themes</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: documentation sites, knowledge bases, multi-version API docs, developer portals.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: Node.js 18+ (detected via npx). Builds are slower than Hugo but the output is a full React SPA with client-side navigation.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the default builder when a content folder contains markdown and Node.js is available.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Docusaurus requires Node.js 18+ (npx). Install Node.js to use this builder for MDX-enabled documentation sites.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ¦– Docusaurus Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docusaurus can't build because Node.js is missing.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Node.js 18+ from https://nodejs.org</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or via nvm: nvm install 18</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Once Node.js is installed, npx handles Docusaurus initialization and builds automatically â€” no global install needed.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: MkDocs uses Python instead of Node.js and is simpler to set up, though it has fewer features (no MDX, no React components).</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-mkdocs",
                                                "title": "MkDocs",
                                                "icon": "ğŸ“˜",
                                                "selector": "#wiz-pages-builder-mkdocs",
                                                "content": "MkDocs â€” Python-based documentation generator with Material theme support. Simpler than Docusaurus but very polished.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "MkDocs is installed and ready â€” Python and mkdocs CLI detected. Great for clean, Material-themed documentation.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“˜ MkDocs Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">MkDocs is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Material theme</span><span>polished, responsive design out of the box</span><span style=\"font-weight:600;color:var(--text-secondary)\">Navigation</span><span>automatic sidebar from directory structure</span><span style=\"font-weight:600;color:var(--text-secondary)\">Search</span><span>built-in lunr.js search, no external service needed</span><span style=\"font-weight:600;color:var(--text-secondary)\">Plugins</span><span>rich ecosystem (mermaid diagrams, code annotations, admonitions)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Fast</span><span>Python-based but builds are quick for typical doc sizes</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: project documentation, internal wikis, API reference sites, README-style docs.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: Python 3 with pip. Configuration lives in mkdocs.yml.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">MkDocs is the fallback when Node.js isn't available but Python is â€” it produces excellent results with less configuration than Docusaurus.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "MkDocs requires Python 3 and the mkdocs package. Install with: pip install mkdocs mkdocs-material",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“˜ MkDocs Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">MkDocs isn't installed. Python is likely available but the mkdocs package is missing.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pip install mkdocs mkdocs-material</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or in a venv: python -m pip install mkdocs mkdocs-material</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Material theme is strongly recommended â€” it provides the polished look and responsive layout. Without it, MkDocs uses a basic theme.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: Docusaurus requires Node.js but is more feature-rich (MDX, versioned docs, React components).</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-hugo",
                                                "title": "Hugo",
                                                "icon": "âš¡",
                                                "selector": "#wiz-pages-builder-hugo",
                                                "content": "Hugo â€” Go-based static site generator. Single binary, no runtime dependencies, extremely fast builds.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Hugo is installed and ready â€” the hugo binary is available. Fastest builder for large content sites.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš¡ Hugo Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hugo is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Speed</span><span>builds thousands of pages in milliseconds (Go compiled binary)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Shortcodes</span><span>reusable content snippets without a framework</span><span style=\"font-weight:600;color:var(--text-secondary)\">Taxonomies</span><span>categories, tags, series out of the box</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multilingual</span><span>built-in i18n with per-language content trees</span><span style=\"font-weight:600;color:var(--text-secondary)\">Themes</span><span>300+ themes available, single-file configuration</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: blogs, large content sites, multi-language sites, sites where build speed matters.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: hugo binary (no runtime dependencies). Single binary â€” no package manager, no node_modules, no virtual environments.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hugo is the fastest builder by far but has less flexibility than Docusaurus for custom interactive components.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Hugo requires the hugo binary. The control plane can download it to ~/.local/bin/ automatically.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Hugo Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The hugo binary isn't installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The control plane can download it automatically (ğŸ”§ Install in the system tools section)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or manually: https://gohugo.io/installation/</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Homebrew: brew install hugo</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Snap: snap install hugo</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hugo is a single binary â€” no runtime dependencies. It downloads and runs immediately. No python, no node, no package manager needed.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: Docusaurus or MkDocs if you already have Node.js or Python installed.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-sphinx",
                                                "title": "Sphinx",
                                                "icon": "ğŸ“œ",
                                                "selector": "#wiz-pages-builder-sphinx",
                                                "content": "Sphinx â€” Python documentation generator. The standard for Python project docs, supports RST and Markdown via MyST.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Sphinx is installed and ready â€” Python and sphinx-build detected. The standard choice for Python project documentation.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“œ Sphinx Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx is available and can build segments assigned to it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it gives you:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">RST</span><span>reStructuredText, the most expressive plain-text markup</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cross-referencing</span><span>automatic links between docs, API references, glossary terms</span><span style=\"font-weight:600;color:var(--text-secondary)\">API autodoc</span><span>generate docs directly from Python docstrings</span><span style=\"font-weight:600;color:var(--text-secondary)\">Extensions</span><span>hundreds of extensions (intersphinx, napoleon, todo, coverage)</span><span style=\"font-weight:600;color:var(--text-secondary)\">MyST</span><span>Markdown support via myst-parser (write markdown instead of RST)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: Python projects, API documentation, academic/technical writing, projects needing cross-references.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Requires: Python 3 with sphinx. Configuration lives in conf.py.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx is the gold standard for Python projects â€” if your project is Python-heavy with docstrings, autodoc will save you hours of manual documentation.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Sphinx requires Python 3 and the sphinx package. Install with: pip install sphinx myst-parser",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“œ Sphinx Â· not available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx isn't installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pip install sphinx myst-parser</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ myst-parser enables Markdown alongside RST</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For the RTD theme: pip install sphinx-rtd-theme</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sphinx is most useful for Python projects with docstrings that need API reference generation. For pure markdown documentation, MkDocs or Docusaurus are simpler.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alternative: MkDocs for simpler markdown docs, Docusaurus for MDX and React.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-raw",
                                                "title": "Static Files",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-pages-builder-raw",
                                                "content": "Static Files â€” copies HTML, CSS, and JS directly to the output. No build step, no dependencies. Always available.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Static Files is always available â€” no build tools needed. Copies your files directly to the deployed site.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‹ Static Files Â· always available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The raw/static builder is always ready â€” it requires no external tools.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it does:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Copies files as-is from source to output directory</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ No compilation, no transformation, no dependencies</span><span style=\"font-weight:600;color:var(--text-secondary)\">HTML, CSS, JS, images</span><span>anything goes</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: pre-built sites, hand-crafted HTML, legacy content, assets that don't need processing.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the fallback builder when no specialized tool is available or when your content is already built HTML. It's also useful for embedding pre-existing sites as segments alongside Docusaurus or MkDocs segments.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "pages-builder-custom",
                                                "title": "Custom Build",
                                                "icon": "ğŸ”§",
                                                "selector": "#wiz-pages-builder-custom",
                                                "content": "Custom Build â€” run any shell command as the build step. Full flexibility for non-standard toolchains. Always available.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ…"
                                                        },
                                                        "content": "Custom Build is always available â€” define any build command for segments that don't fit standard builders.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”§ Custom Build Â· always available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The custom builder lets you define any shell command as your build step.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Use cases:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Gatsby, Astro, Next.js, Eleventy, or any other SSG</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Custom scripts that generate HTML from templates</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Compile-to-HTML workflows (Pandoc, LaTeX â†’ HTML)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Chained builds that combine multiple tools</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Configuration: set the build command, source directory, and output path in the segment config. The command runs from the project root.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This builder exists because the Pages system shouldn't limit you to the built-in options. If your tool can produce HTML output, it works as a custom builder.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "pages-deploy-info",
                                        "title": "Deploy Info",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-pages-deploy-info",
                                        "content": "Deploy branch is {{pagesBranch}} â€” built output goes here. GitHub Pages on {{ghRepo}} should be configured to serve from this branch.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Deployment Target</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Pages deployment configuration:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Deploy branch</span><span>{{pagesBranch}}. Built segment output is committed here.</span><span style=\"font-weight:600;color:var(--text-secondary)\">GitHub Pages</span><span>{{ghRepo}} needs Pages enabled in repository settings, source set to {{pagesBranch}}.</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The deployment flow:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ Build all segments (locally or in CI/CD)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ Commit built output to {{pagesBranch}}</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ GitHub Pages serves the combined site</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Base URL matters if your repo is at github.io/repo-name â€” internal links need the prefix. The Pages tab has base URL configuration per segment.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-pages",
                                        "content": "Auto-initializes {{pagesUninit}} segment(s) from uninitialized content folders using their best-matching builders.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Auto-Initialize Segments</div><div class=\"state-detail\">Apply creates segment definitions for each checked content folder:\n\n1. Reads the content folder's structure and detected builder\n2. Creates a segment in .pages/ with the right configuration\n3. Sets the output path within the deployed site\n\nAfter initialization, segments are ready to build and preview from the Pages tab. No content is modified â€” only .pages/ segment definitions are created.\n\nThis is reversible â€” delete any segment from the Pages tab if the auto-detected configuration isn't right.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "pages-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-pages",
                                        "content": "Closes the setup panel without creating any segments. No files are modified.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the panel without creating segments or modifying any files. The auto-init checkbox state is discarded.\n\nReopen anytime with âš™ï¸ Setup â€” detection results repopulate from the current project state.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "docker-card",
                        "title": "Docker",
                        "icon": "ğŸ³",
                        "selector": "#wiz-int-wrap-int-docker",
                        "content": "Docker containerization â€” your project's build, run, and deploy pipeline for containers.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ“ running"
                                },
                                "content": "Docker daemon is running ({{dockerVersion}}) â€” {{dockerDockerfiles}} Dockerfile(s), {{dockerServices}} compose service(s). Your container pipeline is operational.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ³ Docker Â· operational</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Docker environment is fully operational:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Daemon</span><span>running (v{{dockerVersion}})</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose CLI</span><span>{{dockerComposeCli}}</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfiles</span><span>{{dockerDockerfiles}} detected</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose services</span><span>{{dockerServices}}</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>{{dockerIgnoreRules}} rules</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker turns your project into portable, reproducible containers. Each Dockerfile defines how your code is packaged, and docker-compose orchestrates multi-service stacks (app + database + cache, etc.).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With the daemon running, you have full access to build, run, and manage containers directly from this panel.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Stack detection identified {{dockerStack}} for your project â€” base images, install commands, and entry points are pre-filled accordingly.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âš  daemon offline"
                                },
                                "content": "Docker is installed but the daemon isn't running. Start Docker Desktop or the dockerd service to enable container operations.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ³ Docker Â· daemon offline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker CLI is installed but the daemon process isn't running. Without the daemon:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot build images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot start/stop containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot list running containers or images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still generate Dockerfiles and compose files</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still analyze existing Docker configuration</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To fix:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>open the application, it starts the daemon automatically</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux service</span><span>sudo systemctl start docker</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>sudo dockerd (foreground)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Once the daemon is running, refresh this page to unlock the full operations panel (Start, Stop, Build, Logs, etc.).</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Docker containerization"
                                },
                                "content": "Docker CLI is not installed. Install Docker to enable container-based builds and deployments for your project.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Docker Â· not installed</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker is not detected on this system. Without Docker:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Cannot build container images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Cannot run services locally in containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Cannot use docker-compose for multi-service stacks</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane can still generate Dockerfiles and compose files â€” they'll be ready when Docker is installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>https://docs.docker.com/desktop/ (Mac/Windows/Linux)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Engine</span><span>https://docs.docker.com/engine/install/ (Linux servers)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Package manager</span><span>apt install docker.io or brew install docker</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker is optional for development but essential for CI/CD pipelines and production deployments. If your project uses GitHub Actions, the CI/CD integration can build containers without a local Docker install.</div></div></div>"
                            }
                        ],
                        "expanded": "",
                        "children": [
                            {
                                "id": "docker-setup",
                                "title": "Docker Setup",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-int-docker",
                                "content": "Docker integration panel â€” daemon status, Dockerfile analysis, compose services, live operations, and config generation.",
                                "expanded": "",
                                "children": [
                                    {
                                        "id": "docker-status-strip",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-docker-status-strip",
                                        "content": "Quick glance at your Docker environment: daemon {{dockerDaemon}}, compose CLI {{dockerComposeCli}}, {{dockerDockerfiles}} Dockerfile(s), {{dockerServices}} service(s), {{dockerIgnoreRules}} ignore rules.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Docker Status Overview</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill shows the state of a Docker component. Green (âœ“) means present and operational. Grey (â—‹ or âœ—) means missing or unavailable.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The five components:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Daemon</span><span>Docker engine process (required for all operations)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose CLI</span><span>docker compose subcommand (required for multi-service orchestration)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfiles</span><span>build recipes for your container images</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose file</span><span>service definitions, networks, volumes</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>build context exclusion rules (like .gitignore for Docker)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hover each pill for detailed explanations. All five green means your container pipeline is fully operational.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-pill-daemon",
                                                "title": "Daemon",
                                                "icon": "ğŸŸ¢",
                                                "selector": "#wiz-docker-pill-daemon",
                                                "content": "Docker daemon â€” the background process that builds images and runs containers.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Docker daemon is running (v{{dockerVersion}}) â€” all container operations are available.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŸ¢ Daemon Â· running</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Docker daemon (dockerd) is active and responding. Version: {{dockerVersion}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This means you can:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Build images from Dockerfiles</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Start/stop containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pull/push images from registries</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ View running containers and resource usage</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stream container logs</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The daemon communicates via the Docker socket (/var/run/docker.sock). All buttons in the Operations section call the daemon through the Docker CLI.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If you're running Docker Desktop, the daemon lifecycle is managed by the application. On Linux, it's typically a systemd service.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âœ—"
                                                        },
                                                        "content": "Docker daemon is not running â€” start Docker Desktop or the dockerd service to enable container operations.",
                                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ”´ Daemon Â· offline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Docker daemon is not responding. Without it, no container operations work.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To start the daemon:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>open the application</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux</span><span>sudo systemctl start docker</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>sudo dockerd</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Note: You can still generate Dockerfiles and compose files while the daemon is offline. They'll work as soon as the daemon starts.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">If Docker is installed but the daemon fails to start, check:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Disk space (Docker needs space for images/layers)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Permissions (your user must be in the 'docker' group on Linux)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Conflicting services (only one daemon can bind the socket)</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-compose-cli",
                                                "title": "Compose CLI",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-docker-pill-compose-cli",
                                                "content": "Docker Compose CLI â€” the orchestration tool for multi-container applications.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Compose CLI is available â€” you can orchestrate multi-service stacks with docker compose up/down/build.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‹ Compose CLI Â· available</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">docker compose (v2) is available as a Docker CLI plugin.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This enables:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose up</span><span>start all services defined in compose file</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose down</span><span>stop and remove containers</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose build</span><span>build images for services with 'build:' config</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose logs</span><span>aggregate logs from all services</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker compose ps</span><span>show running service status</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Compose v2 is the modern replacement for the standalone docker-compose binary. It's built into Docker Desktop and available as a CLI plugin on Linux.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Operations section below uses compose commands for Start/Stop/Build/Logs. Without compose, only individual container operations are available.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "Compose CLI is not available â€” install it to unlock multi-service orchestration (Start/Stop/Build controls).",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“‹ Compose CLI Â· missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The docker compose plugin is not installed. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot use Start/Stop/Build/Logs buttons in Operations</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Cannot orchestrate multi-service stacks</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still build individual images with docker build</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still generate compose files (ready when compose is installed)</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Desktop</span><span>includes compose automatically</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux plugin</span><span>sudo apt install docker-compose-plugin</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>https://docs.docker.com/compose/install/</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Compose is essential for projects with multiple services (app + database + cache). For single-service projects, you can use docker build and docker run directly.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-dockerfile",
                                                "title": "Dockerfiles",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-docker-pill-dockerfile",
                                                "content": "Dockerfiles â€” build recipes that define how your code is packaged into container images.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "{{dockerDockerfiles}} Dockerfile(s) detected â€” your project has container build recipes. See the Dockerfiles section below for analysis.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ {{dockerDockerfiles}} Dockerfile(s) detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has {{dockerDockerfiles}} Dockerfile(s). Each one defines how to build a container image:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">FROM</span><span>base image (OS + runtime)</span><span style=\"font-weight:600;color:var(--text-secondary)\">COPY/ADD</span><span>bring your source code in</span><span style=\"font-weight:600;color:var(--text-secondary)\">RUN</span><span>install dependencies, compile</span><span style=\"font-weight:600;color:var(--text-secondary)\">EXPOSE</span><span>declare network ports</span><span style=\"font-weight:600;color:var(--text-secondary)\">CMD/ENTRYPOINT</span><span>what runs when the container starts</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Dockerfiles section below shows a breakdown of each file: base images, multi-stage builds, exposed ports, and any warnings.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If you have multiple Dockerfiles, each typically builds a different service or uses a different strategy (e.g., Dockerfile for production, Dockerfile.dev for development).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The 'ğŸ“ Regenerate Basic Config' section can overwrite these with stack-aware templates, or use 'ğŸš€ Full Docker Setup' for per-module Dockerfiles.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "No Dockerfile found â€” use 'ğŸ“ Generate Basic Config' below to create one from your detected stack ({{dockerStack}}).",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ No Dockerfile</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Dockerfile was found in your project root or subdirectories.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">A Dockerfile is required to build container images. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker build won't work</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD pipelines can't build container images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Container registries have nothing to receive</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Two options to create one:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ 'ğŸ“ Generate Basic Config' â€” creates a single-template Dockerfile based on your detected stack ({{dockerStack}}). Pre-filled with the right base image, install command, and entry point.</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">â†’ 'ğŸš€ Full Docker Setup' â€” opens a multi-step wizard for per-module Dockerfiles, infrastructure services, vault-aware env vars, and health checks.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For most single-service projects, Basic Config is sufficient. Use Full Setup if you have multiple modules or need infrastructure services (databases, caches).</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-composefile",
                                                "title": "Compose File",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-docker-pill-composefile",
                                                "content": "Compose file â€” defines multi-service stacks with networking, volumes, and dependencies.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Compose file detected with {{dockerServices}} service(s) â€” see the Compose Services section below for the full service map.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Compose Â· {{dockerServices}} service(s)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your compose file defines {{dockerServices}} service(s). Each service is a container with its own image, ports, volumes, and environment.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The compose file orchestrates:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Service dependencies (web depends on database)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Network isolation (services talk through named networks)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Volume mounts (persistent data, live code reload)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Environment variables (config per service)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Health checks (readiness probes)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Resource limits (CPU, memory)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Compose Services section below shows each service's image, ports, volumes, and dependencies.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With the daemon running and compose CLI available, the Operations section gives you Start/Stop/Build/Logs controls for the entire stack.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "No compose file â€” generate one alongside your Dockerfile to enable multi-service orchestration.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ No compose file</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No docker-compose.yml or compose.yml was found.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Without a compose file:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— Start/Stop/Build/Logs buttons are unavailable</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ— No multi-service orchestration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ âœ“ Can still build and run individual containers manually</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">A compose file is worth creating even for single-service projects â€” it documents your runtime configuration (ports, env vars, volumes) in a reproducible file.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To create one:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Check 'â˜ Also generate docker-compose.yml' in the Basic Config section, or</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Use 'ğŸš€ Full Docker Setup' for per-module services with infrastructure</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated compose file will include your service with the right ports, volumes, and restart policy based on your stack.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-pill-dockerignore",
                                                "title": ".dockerignore",
                                                "icon": "ğŸš«",
                                                "selector": "#wiz-docker-pill-dockerignore",
                                                "content": ".dockerignore â€” controls which files are excluded from the Docker build context.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": ".dockerignore is present with {{dockerIgnoreRules}} rules â€” build context is filtered to avoid sending unnecessary files to the daemon.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš« .dockerignore Â· {{dockerIgnoreRules}} rules</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your .dockerignore file filters the build context â€” {{dockerIgnoreRules}} rules prevent unnecessary files from being sent to the Docker daemon during builds.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Why this matters:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Build speed</span><span>smaller context = faster COPY operations</span><span style=\"font-weight:600;color:var(--text-secondary)\">Image size</span><span>prevents bloating images with dev files, node_modules, .git, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Security</span><span>keeps secrets, env files, and credentials out of images</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common patterns to include:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.git/</span><span>version history (not needed in images)</span><span style=\"font-weight:600;color:var(--text-secondary)\">node_modules/</span><span>reinstalled during build</span><span style=\"font-weight:600;color:var(--text-secondary)\">__pycache__/</span><span>Python bytecode</span><span style=\"font-weight:600;color:var(--text-secondary)\">.env</span><span>local environment secrets</span><span style=\"font-weight:600;color:var(--text-secondary)\">*.log</span><span>runtime logs</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The .dockerignore file works like .gitignore â€” patterns match files relative to the build context root.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">'ğŸš€ Full Docker Setup' can generate a comprehensive .dockerignore tailored to your stack.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹"
                                                        },
                                                        "content": "No .dockerignore â€” all project files are sent to the daemon during builds. This slows builds and may leak secrets into images.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸš« No .dockerignore</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without a .dockerignore file, docker build sends your entire project directory to the daemon as build context. This causes:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Slow builds</span><span>large directories (node_modules, .git, media) are transferred every build</span><span style=\"font-weight:600;color:var(--text-secondary)\">Bloated images</span><span>COPY . . brings in everything, increasing image size</span><span style=\"font-weight:600;color:var(--text-secondary)\">Security risk</span><span>.env files, secrets, or credentials may end up in image layers</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To create one:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ 'ğŸš€ Full Docker Setup' generates a .dockerignore tailored to your stack</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Or create one manually with at minimum: .git, node_modules, __pycache__, .env, *.log</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">A good .dockerignore can reduce build context from hundreds of MB to just your source code â€” making builds 10-100x faster for large projects.</div></div></div>"
                                                    }
                                                ],
                                                "expanded": "",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-dockerfiles",
                                        "title": "Dockerfiles",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-docker-section-dockerfiles",
                                        "content": "Dockerfile analysis â€” {{dockerDockerfiles}} Dockerfile(s) found. Each is broken down by runtime, version, variant, stages, and exposed ports.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“„ Dockerfile Analysis Â· {{dockerDockerfiles}} file(s)</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each Dockerfile below for per-file breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ§© Image Components</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin-top:0.3rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--accent)\">ğŸ”§ Runtime</span><span>Language or service â€” Python, Node.js, Go, Redisâ€¦</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“Œ Version</span><span>Pinned release tag â€” 3.12, 20, 1.22, 16â€¦</span><span style=\"font-weight:600;color:hsla(140,60%,55%,1)\">ğŸ“¦ Variant</span><span>OS/flavor suffix â€” controls image size and compatibility</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“¦ Variant Guide</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1)\">slim</code><span>~150MB Â· Debian minimal Â· all native extensions work Â· <strong>recommended default</strong></span><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1)\">alpine</code><span>~50MB Â· smallest Â· uses musl libc Â· some C extensions may fail</span><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(40,80%,50%,0.1);color:hsla(40,80%,55%,1)\">bookworm</code><span>~400MB+ Â· full Debian 12 Â· every system library Â· use as fallback</span><code style=\"font-size:0.7rem;padding:0.05rem 0.3rem;border-radius:3px;background:hsla(40,80%,50%,0.1);color:hsla(40,80%,55%,1)\">bullseye</code><span>~400MB+ Â· full Debian 11 Â· older stable Â· consider upgrading</span></div></div></div><div class=\"assistant-state-card state-success\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">âš¡ Multi-Stage Builds</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"display:flex;gap:0.3rem;align-items:center;margin:0.3rem 0\"><span style=\"padding:0.15rem 0.35rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.7rem;font-weight:600\">Stage 1 Â· builder</span><span style=\"color:var(--text-muted)\">â†’</span><span style=\"padding:0.15rem 0.35rem;border-radius:4px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1);font-size:0.7rem;font-weight:600\">Stage 2 Â· runtime</span></div>Builder stage has full toolchain (compilers, dev headers). Runtime stage copies only built artifacts into a minimal base. Final images can be <strong>10-100x smaller</strong>.</div></div><div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Best Practices</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\"><div style=\"margin-bottom:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Pin versions â€” <code style=\"font-size:0.68rem\">python:3.12-slim</code> not <code style=\"font-size:0.68rem;text-decoration:line-through;opacity:0.6\">python:latest</code></div><div style=\"margin-bottom:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Match your local dev environment version</div><div><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Prefer <strong>slim â†’ alpine â†’ full</strong> (in order of compatibility risk)</div></div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“„ {{name}}",
                                            "content": "Dockerfile at {{name}} â€” defines how this module is containerized. Hover to see its base images, build stages, and exposed ports.",
                                            "selector": "[id^=\"wiz-docker-df-\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "docker-section-compose-svcs",
                                        "title": "Compose Services",
                                        "icon": "ğŸ“‹",
                                        "selector": "#wiz-docker-section-compose-svcs",
                                        "content": "Compose service map â€” {{dockerServices}} service(s) with parsed image breakdown, ports, volumes, and topology classification.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“‹ Compose Services Â· {{dockerServices}} service(s)</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each service below for per-service breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ· Service Roles</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1);font-size:0.68rem;font-weight:600\">ğŸš€ Application</span><span>Builds from Dockerfile â€” your actual code</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ—„ Database</span><span>PostgreSQL, MySQL, MongoDB â€” persistent storage</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">âš¡ Cache</span><span>Redis, Memcached â€” fast key-value stores</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸŒ Proxy</span><span>Nginx, Apache â€” reverse proxy / static files</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ“¨ Queue</span><span>RabbitMQ, Kafka â€” async message processing</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ§© Image Breakdown</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin-top:0.3rem\"><span style=\"font-weight:600;color:var(--accent)\">ğŸ”§ Runtime</span><span>What the service IS â€” PostgreSQL, Redis, Nginx</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“Œ Version</span><span>Which release â€” 16, 7.2, 1.25</span><span style=\"font-weight:600;color:hsla(140,60%,55%,1)\">ğŸ“¦ Variant</span><span>OS base â€” alpine = small, bookworm = full Debian</span></div><div style=\"margin-top:0.35rem;padding:0.25rem 0.4rem;border-radius:4px;background:hsla(210,60%,50%,0.06);font-size:0.7rem;color:var(--text-muted)\">Services using <strong>(build)</strong> compile from a local Dockerfile â€” see Dockerfile Analysis above.</div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ”Œ Port Mappings</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\"><span style=\"font-family:monospace;padding:0.1rem 0.3rem;border-radius:3px;background:var(--bg-primary);font-size:0.7rem\">host:container</span> â€” e.g. <span style=\"font-family:monospace;font-size:0.7rem\">5432:5432</span> means database at <span style=\"font-family:monospace;font-size:0.7rem\">localhost:5432</span></div><div style=\"margin-top:0.2rem;color:hsla(40,80%,55%,1);font-size:0.7rem\">âš  If two services map the same host port â†’ port conflict on start</div></div></div><div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Dependencies</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\"><code style=\"font-size:0.7rem\">depends_on</code> controls startup order. Docker starts dependencies first but <strong>doesn't wait for readiness</strong> â€” only 'started'.</div><div style=\"margin-top:0.15rem;color:hsla(140,60%,55%,1);font-size:0.7rem\">âœ“ Use healthchecks for true readiness gating</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“‹ {{name}}",
                                            "content": "Compose service {{name}} â€” hover for image breakdown, role classification, ports, volumes, and dependencies.",
                                            "selector": "[id^=\"wiz-docker-svc-\"]",
                                            "nameSelector": "strong"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "docker-live-panel",
                                        "title": "Live Panel",
                                        "icon": "ğŸ”",
                                        "selector": "#wiz-docker-live",
                                        "content": "Live Docker inspection â€” view running containers, cached images, and compose status in real time.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Live Docker Panel</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel queries the Docker daemon in real time. Click a button to fetch and display current state:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Containers</span><span>all running and stopped containers with their status, ports, and names</span><span style=\"font-weight:600;color:var(--text-secondary)\">Images</span><span>locally cached images with tags, sizes, and creation dates</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose</span><span>docker compose ps output showing service status for the current project</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The data is fetched fresh each time you click â€” it reflects the actual state of Docker on your machine, not cached detection data.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Useful for:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Checking if your services are actually running after Start</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Finding leftover containers from previous sessions</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Seeing which images are cached (avoids re-pulling)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Debugging port conflicts (another container using the same port)</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-btn-containers",
                                                "title": "Containers",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-docker-btn-containers",
                                                "content": "List all Docker containers â€” running and stopped â€” with their status, ports, and names.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ List Containers</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker ps -a and displays all containers on this machine.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Container ID</span><span>short hash identifier</span><span style=\"font-weight:600;color:var(--text-secondary)\">Image</span><span>what image the container was created from</span><span style=\"font-weight:600;color:var(--text-secondary)\">Status</span><span>Up (running), Exited (stopped), Created (never started)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ports</span><span>mapped host:container ports</span><span style=\"font-weight:600;color:var(--text-secondary)\">Names</span><span>container name (auto-generated or from compose)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Containers from your compose file will have names prefixed with the project directory name.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common situations:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">'Exited (0)'</span><span>stopped cleanly</span><span style=\"font-weight:600;color:var(--text-secondary)\">'Exited (1)'</span><span>crashed, check logs</span><span style=\"font-weight:600;color:var(--text-secondary)\">'Up X minutes'</span><span>running normally</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multiple containers on same port</span><span>port conflict, stop one first</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-images",
                                                "title": "Images",
                                                "icon": "ğŸ–¼",
                                                "selector": "#wiz-docker-btn-images",
                                                "content": "List locally cached Docker images with their tags, sizes, and ages.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ–¼ List Images</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker images and shows all locally cached images.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Repository</span><span>image name (e.g., python, postgres, your-project)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Tag</span><span>version tag (e.g., 3.12-slim, 16-alpine, latest)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Size</span><span>compressed size on disk</span><span style=\"font-weight:600;color:var(--text-secondary)\">Created</span><span>when the image was built or pulled</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Images are cached layers â€” pulling the same image twice is instant. Building with docker compose build creates images tagged with your service names.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Dangling images (\\u003cnone\\u003e:\\u003cnone\\u003e) are leftover layers from rebuilds. Use ğŸ§¹ Prune in Operations to clean them up and reclaim disk space.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-compose-live",
                                                "title": "Compose Status",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-docker-btn-compose-live",
                                                "content": "Show docker compose ps â€” the status of all services defined in your compose file.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Compose Status</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose ps for the current project and shows which services are running.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Each row shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Service name</span><span>matches the key in your compose file</span><span style=\"font-weight:600;color:var(--text-secondary)\">State</span><span>running, exited, restarting, or created</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ports</span><span>mapped ports for that service</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This only shows containers managed by compose for this project â€” not containers from other projects or manually started ones.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If a service shows 'restarting', it's likely crash-looping. Check ğŸ“œ Logs to see the error.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If no services appear, the compose stack hasn't been started yet â€” use â–¶ Start in Operations.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-ops",
                                        "title": "Operations",
                                        "icon": "âš¡",
                                        "selector": "#wiz-docker-section-ops",
                                        "content": "Docker compose operations â€” start, stop, build, and manage your container stack directly from the control plane.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Docker Operations</div><div class=\"state-detail\">These buttons run docker compose commands against your project's compose file. Each operation targets all services defined in the compose file.\n\nWorkflow:\n1. â–¶ Start â€” bring up the stack (builds if needed)\n2. Check status with ğŸ“‹ Compose in the live panel\n3. ğŸ“œ Logs â€” stream output to debug issues\n4. ğŸ”„ Restart â€” apply config changes without full rebuild\n5. ğŸ”¨ Build â€” rebuild images after code changes\n6. â¹ Stop â€” tear down when done\n\nAll commands run in the project directory. Output appears in the panel below the buttons.\n\nRequires: Docker daemon running + compose CLI available + compose file present. If any are missing, this section won't appear â€” check the status strip pills above.</div></div>",
                                        "children": [
                                            {
                                                "id": "docker-btn-start",
                                                "title": "Start",
                                                "icon": "â–¶",
                                                "selector": "#wiz-docker-btn-start",
                                                "content": "docker compose up -d â€” start all services in detached mode. Builds images if they don't exist yet.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â–¶ Start Stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose up -d (detached mode).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Pull any missing base images</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Build images for services with 'build:' config</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Create networks and volumes</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Start all containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Return immediately (containers run in background)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After starting, use ğŸ“‹ Compose in the live panel to verify all services are running, and ğŸ“œ Logs to check for startup errors.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">If a service fails to start, common causes:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Port already in use</span><span>another process or container on the same port</span><span style=\"font-weight:600;color:var(--text-secondary)\">Missing env vars</span><span>check your .env file</span><span style=\"font-weight:600;color:var(--text-secondary)\">Build failure</span><span>syntax error in Dockerfile</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dependency not ready</span><span>database not accepting connections yet (add healthcheck)</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-stop",
                                                "title": "Stop",
                                                "icon": "â¹",
                                                "selector": "#wiz-docker-btn-stop",
                                                "content": "docker compose down â€” stop and remove all containers, networks. Volumes are preserved.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â¹ Stop Stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose down.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stop all running containers gracefully (SIGTERM, then SIGKILL after timeout)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remove stopped containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remove project networks</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Preserve named volumes (database data survives)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Volumes are NOT deleted â€” your database data, uploads, and other persistent state remain intact. To also delete volumes, you'd need docker compose down -v (not available here â€” protects against data loss).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Use Stop when:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Done developing for the day</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Need to free ports for another project</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Before rebuilding with major changes</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-restart",
                                                "title": "Restart",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-docker-btn-restart",
                                                "content": "docker compose restart â€” restart all containers without rebuilding. Useful for picking up config changes.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Restart Stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose restart.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stop each container gracefully</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Start each container again with the same image</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Preserve all container state</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Restart does NOT rebuild images â€” it uses the existing images. If you changed code or Dockerfile:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Code changes with volume mounts</span><span>restart picks them up</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile changes</span><span>use ğŸ”¨ Build instead</span><span style=\"font-weight:600;color:var(--text-secondary)\">Config changes (env vars, ports)</span><span>use Stop then Start</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Restart is the fastest way to apply changes when using volume-mounted source code for development.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-build",
                                                "title": "Build",
                                                "icon": "ğŸ”¨",
                                                "selector": "#wiz-docker-btn-build",
                                                "content": "docker compose build â€” rebuild images using cached layers. Fast when only source code changed.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”¨ Build Images</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose build.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Rebuilds images for all services that have 'build:' in their compose config. Uses Docker's layer cache â€” unchanged layers are reused.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Layer caching means:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Only changed steps are re-executed</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ If only source code changed, only COPY and later steps rebuild</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Base image and dependency install layers are cached</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After building, use â–¶ Start or ğŸ”„ Restart to run the new images.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Build is fast for iterative development. Use Build (no-cache) when caching causes stale results (e.g., after changing dependency files that Docker doesn't detect as changed).</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-build-nc",
                                                "title": "Build (no-cache)",
                                                "icon": "ğŸ”¨",
                                                "selector": "#wiz-docker-btn-build-nc",
                                                "content": "docker compose build --no-cache â€” rebuild from scratch, ignoring all cached layers. Use after base image or dependency changes.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”¨ Build (no-cache)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose build --no-cache.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This forces a complete rebuild of every layer â€” nothing is reused from cache. Slower than regular build but guarantees a clean state.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Use no-cache when:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Updated base image tag (e.g., python:3.12-slim got a security patch)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Changed dependency files but Docker didn't detect it (pip install with uncached requirements)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Debugging build issues that might be cache-related</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Reproducing CI/CD builds locally (CI usually builds without cache)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">No-cache builds can take significantly longer â€” a 30-second cached build might take 5-10 minutes without cache due to re-downloading and re-installing all dependencies.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For regular development, prefer the cached ğŸ”¨ Build and only use no-cache when you suspect stale layers.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-prune",
                                                "title": "Prune",
                                                "icon": "ğŸ§¹",
                                                "selector": "#wiz-docker-btn-prune",
                                                "content": "docker system prune â€” remove unused containers, networks, and dangling images to reclaim disk space.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ§¹ Prune System</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker system prune to clean up unused Docker resources.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This removes:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stopped containers (not currently running)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Unused networks (not attached to any container)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Dangling images (untagged layers from rebuilds)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Build cache (intermediate layers)</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This does NOT remove:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Running containers</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Tagged images (your named images are safe)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Named volumes (database data is preserved)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Prune is safe for development â€” it only removes resources that aren't actively in use. After a few days of building and rebuilding, pruning can reclaim several GB of disk space.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If images tab shows many \\u003cnone\\u003e:\\u003cnone\\u003e entries, pruning will clean those up.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-btn-logs",
                                                "title": "Logs",
                                                "icon": "ğŸ“œ",
                                                "selector": "#wiz-docker-btn-logs",
                                                "content": "docker compose logs --tail 50 â€” show recent log output from all services for debugging.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“œ Service Logs</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs docker compose logs --tail 50 to show recent output from all compose services.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Logs are aggregated across all services with service name prefixes. Useful for:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Checking startup errors after â–¶ Start</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Debugging request failures</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Monitoring database connections</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Verifying health check passes</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The output shows the most recent 50 lines from each service. For full logs or live streaming, use the terminal:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker compose logs -f (follow/stream)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker compose logs web (single service)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ docker compose logs --since 5m (last 5 minutes)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If a service is crash-looping (restarting repeatedly), logs will show the error causing the crash â€” usually a missing env var, port conflict, or failed database connection.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-ops-hint",
                                        "title": "Operations Hint",
                                        "icon": "â„¹",
                                        "selector": "#wiz-docker-ops-hint",
                                        "content": "Operations require a compose file â€” generate one with the Basic Config form below to unlock Start/Stop/Build controls.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â„¹ Operations Locked</div><div class=\"state-detail\">The Start/Stop/Build/Logs buttons require a docker-compose.yml file to be present. Without it, Docker doesn't know which services to manage.\n\nTo unlock operations:\n1. Open 'ğŸ“ Generate Basic Config' below\n2. Check 'â˜ Also generate docker-compose.yml'\n3. Click âœ… Apply\n\nOr use 'ğŸš€ Full Docker Setup' for a comprehensive compose file with infrastructure services.\n\nOnce a compose file exists, this hint will be replaced by the full Operations panel.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "docker-section-genconfig",
                                        "title": "Generate Config",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-docker-section-genconfig",
                                        "content": "Generate or regenerate a basic Dockerfile and optional compose file from your detected stack ({{dockerStack}}).",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Basic Config Generator</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This form creates a single-service Dockerfile (and optionally docker-compose.yml) based on your project's detected stack.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The fields are pre-filled from stack detection:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Base Image</span><span>the right runtime for your detected stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Working Directory</span><span>standard /app convention</span><span style=\"font-weight:600;color:var(--text-secondary)\">Install Command</span><span>your language's dependency installer</span><span style=\"font-weight:600;color:var(--text-secondary)\">Expose Port</span><span>default port for your stack type</span><span style=\"font-weight:600;color:var(--text-secondary)\">Entry Command</span><span>how to start your application</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The generated Dockerfile follows best practices:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Uses appropriate base image tags</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Sets WORKDIR before COPY</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Installs dependencies before copying source (layer caching)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Exposes the correct port</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Sets a proper CMD</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For projects with multiple modules, infrastructure services, or vault-managed env vars, use 'ğŸš€ Full Docker Setup' instead â€” Basic Config only handles single-service setups.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-field-base",
                                                "title": "Base Image",
                                                "icon": "ğŸ—",
                                                "selector": "#wiz-docker-base",
                                                "content": "Base image: {{dockerBaseRuntime}} {{dockerBaseVersion}} ({{dockerBaseVariant}}) â€” {{dockerBaseVariantExplain}}",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ— Base Image Breakdown</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your current base image parsed into components:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">{{dockerBaseBreakdown}}</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â”€â”€ What Each Part Means â”€â”€</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ”§ Runtime: {{dockerBaseRuntime}}\nThe language or service runtime. This determines what's pre-installed in your container â€” the interpreter, compiler, or server binary. Detected from your project stack ({{dockerStack}}).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ“Œ Version: {{dockerBaseVersion}}\nThe pinned release. Always pin a specific version for reproducible builds. Using ':latest' means your build could break when the upstream image updates. Your version should match your local development environment.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">ğŸ“¦ Variant: {{dockerBaseVariant}}\n{{dockerBaseVariantExplain}}</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â”€â”€ Variant Trade-offs â”€â”€</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ slim: ~150MB, Debian-based, works with everything, good default</span><span style=\"font-weight:600;color:var(--text-secondary)\">alpine: ~50MB, smallest, but uses musl libc</span><span>some native extensions may fail</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ full (bookworm/bullseye): ~400MB+, all system libraries, use when slim/alpine builds fail</span><span style=\"font-weight:600;color:var(--text-secondary)\">No variant: depends on the image</span><span>some default to full Debian, others to slim</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">â”€â”€ Recommendations â”€â”€</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Python: slim is the best default (C extensions work, moderate size)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Node.js: alpine works for most apps, use slim if native modules fail</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Go: alpine for multi-stage builds (final image is just your binary)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ For Java: jdk-alpine for smallest, jdk for full compatibility</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pre-filled from detected stack: {{dockerStack}}</div></div></div>",
                                                "children": [
                                                    {
                                                        "id": "docker-base-runtime",
                                                        "title": "Runtime",
                                                        "icon": "ğŸ”§",
                                                        "selector": "#wiz-docker-base",
                                                        "content": "Runtime: {{dockerBaseRuntime}} â€” the language or service pre-installed in this image.",
                                                        "variants": [
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Python"
                                                                },
                                                                "icon": "ğŸ",
                                                                "content": "âœ“ Python runtime â€” CPython interpreter with pip. Fully supported, auto-detected from your stack.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ Runtime Â· Python</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Known and supported runtime</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Python runtime detected from your project stack ({{dockerStack}}).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What's included in the Python image:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CPython interpreter</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ pip package manager</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Standard library</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ OS-level packages (varies by variant)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your install command, entry command, and port are all pre-configured for Python. The base image version ({{dockerBaseVersion}}) should match your local Python version.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Go"
                                                                },
                                                                "icon": "ğŸ”µ",
                                                                "content": "âœ“ Go runtime â€” Go compiler with module tooling. Ideal for multi-stage builds.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”µ Runtime Â· Go</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Known and supported runtime</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Go runtime detected from your project stack ({{dockerStack}}).</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Go images are ideal for multi-stage builds:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stage 1: golang image compiles your binary</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stage 2: scratch or alpine image runs the binary</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Result: final image can be under 20MB</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Includes: Go compiler, go mod tooling, CGO support (if using glibc variant).</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Node"
                                                                },
                                                                "icon": "ğŸŸ¢",
                                                                "content": "âœ“ Node.js runtime â€” V8 engine with npm/yarn. Auto-detected from your stack.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŸ¢ Runtime Â· Node.js</div><div class=\"state-detail\">âœ“ Known and supported runtime\n\nNode.js runtime detected from your project stack ({{dockerStack}}).\n\nIncludes: V8 JavaScript engine, npm, npx. Yarn available via corepack.\n\nFor production builds, use 'npm ci --only=production' instead of 'npm install' to ensure reproducible installs from package-lock.json.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Java"
                                                                },
                                                                "icon": "â˜•",
                                                                "content": "âœ“ Java runtime (Eclipse Temurin) â€” JDK with HotSpot JVM.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜• Runtime Â· Java (Temurin)</div><div class=\"state-detail\">âœ“ Known and supported runtime\n\nEclipse Temurin provides a production-quality OpenJDK distribution.\n\nFor runtime-only deployments, consider switching to JRE variant (jre-alpine) instead of JDK â€” smaller image since the compiler isn't needed at runtime.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "contains": "Rust"
                                                                },
                                                                "icon": "ğŸ¦€",
                                                                "content": "âœ“ Rust runtime â€” rustc compiler with cargo. Ideal for multi-stage builds.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ¦€ Runtime Â· Rust</div><div class=\"state-detail\">âœ“ Known and supported runtime\n\nRust images include rustc, cargo, and the standard library.\n\nLike Go, Rust compiles to native binaries â€” multi-stage builds let you copy just the binary to a minimal final image (scratch, alpine, or distroless).</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseRuntime",
                                                                    "equals": ""
                                                                },
                                                                "icon": "â“",
                                                                "content": "âš  No runtime detected â€” base image field may be empty or unparseable.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â“ Runtime Â· Unknown</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Could not detect a known runtime from the base image field.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This means either:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The base image field is empty</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The image uses a repository name not in the supported list</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Supported runtimes: Python, Go, Node.js, Rust, Java, .NET, Ruby, Elixir, PHP, GCC, Swift, Nginx, PostgreSQL, MySQL, MongoDB, Redis.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If your runtime is correct but not recognized, the image will still work â€” the assistant just can't provide stack-specific guidance.</div></div></div>"
                                                            }
                                                        ],
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Runtime Â· {{dockerBaseRuntime}}</div><div class=\"state-detail\">âœ“ Runtime detected: {{dockerBaseRuntime}}\n\nAuto-detected from your project stack ({{dockerStack}}). The runtime determines what's pre-installed â€” interpreter, compiler, or server binary.\n\nIf you change the runtime, update your install and entry commands to match.</div></div>",
                                                        "children": []
                                                    },
                                                    {
                                                        "id": "docker-base-version",
                                                        "title": "Version",
                                                        "icon": "ğŸ“Œ",
                                                        "selector": "#wiz-docker-base",
                                                        "content": "Version: {{dockerBaseVersion}} â€” the pinned release tag for reproducible builds.",
                                                        "variants": [
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVersion",
                                                                    "equals": "latest"
                                                                },
                                                                "icon": "âš ï¸",
                                                                "content": "âš  Version 'latest' â€” not pinned. Builds are not reproducible and may break without warning.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Version Â· latest (not pinned)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Using ':latest' is not recommended for production.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Problems with :latest:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Your build today and tomorrow may use different versions</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CI/CD and local environments may diverge silently</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ A breaking upstream change can fail your builds without any code change</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Fix: Replace 'latest' with a specific version tag:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Python: 3.12, 3.11</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Node.js: 20, 22</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Go: 1.22, 1.23</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Java: 21, 17</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your local {{dockerBaseRuntime}} version should match what you pin here.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVersion",
                                                                    "equals": ""
                                                                },
                                                                "icon": "âš ï¸",
                                                                "content": "âš  No version detected â€” image may default to 'latest'.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Version Â· missing</div><div class=\"state-detail\">âš  No version tag detected in the base image.\n\nWhen no tag is specified, Docker defaults to ':latest' which is not reproducible. Always pin a specific version.</div></div>"
                                                            }
                                                        ],
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“Œ Version Â· {{dockerBaseVersion}} (pinned)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Version is pinned â€” builds are reproducible.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Pinned to {{dockerBaseVersion}} for {{dockerBaseRuntime}}:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Guarantees the same base on every build</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Security patches arrive as point releases within this version line</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Match this to your local development version</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">docker pull will fetch the latest build of {{dockerBaseRuntime}} {{dockerBaseVersion}}-{{dockerBaseVariant}}</div></div></div>",
                                                        "children": []
                                                    },
                                                    {
                                                        "id": "docker-base-variant",
                                                        "title": "Variant",
                                                        "icon": "ğŸ“¦",
                                                        "selector": "#wiz-docker-base",
                                                        "content": "Variant: {{dockerBaseVariant}} â€” {{dockerBaseVariantExplain}}",
                                                        "variants": [
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "slim"
                                                                },
                                                                "icon": "âœ…",
                                                                "content": "âœ“ slim variant â€” good balance of size (~150MB) and compatibility. Recommended default.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Variant Â· slim (optimized)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ Excellent choice for {{dockerBaseRuntime}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">slim is the recommended default for most projects:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">~150MB</span><span>significantly smaller than full Debian</span><span style=\"font-weight:600;color:var(--text-secondary)\">Debian-based</span><span>all native extensions and C libraries work</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compatible with everything</span><span>no musl/glibc issues</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Missing only: man pages, docs, dev headers (rarely needed at runtime)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is the sweet spot between image size and compatibility. You're unlikely to hit missing-library issues that alpine can cause.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "alpine"
                                                                },
                                                                "icon": "ğŸ”",
                                                                "content": "âœ“ alpine variant â€” smallest image (~50MB) but uses musl libc. Watch for C extension compatibility.",
                                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Variant Â· alpine (smallest)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Alpine Linux â€” smallest possible image for {{dockerBaseRuntime}}.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Benefits:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">~50MB</span><span>dramatically smaller than slim (~150MB) or full (~400MB)</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Fastest pull times and smallest registry storage</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Minimal attack surface for security</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Risks:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Uses musl libc instead of glibc</span><span>some C extensions may fail to compile</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Python: numpy, pandas, cryptography may need extra build dependencies</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Node.js: native addons may need rebuilding</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If builds fail with missing library errors, switch to 'slim' â€” it's the safe fallback.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: Go (multi-stage final image), Redis, Nginx, and apps without native dependencies.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "bookworm"
                                                                },
                                                                "icon": "ğŸ“€",
                                                                "content": "âš  bookworm variant â€” full Debian 12 (~400MB+). Consider slim for smaller images unless you need all system libraries.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“€ Variant Â· bookworm (full Debian)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Full Debian Bookworm â€” largest variant for {{dockerBaseRuntime}}.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">~400MB+ image with every system library. This works for everything but is larger than necessary for most projects.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">When full Debian is justified:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Complex native dependencies that fail on slim/alpine</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ System tools needed at runtime (curl, wget, etc.)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Legacy packages only available in full Debian repos</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Otherwise, consider switching to 'slim' â€” same compatibility, ~60% smaller.</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "bullseye"
                                                                },
                                                                "icon": "ğŸ“€",
                                                                "content": "âš  bullseye variant â€” full Debian 11 (older). Consider bookworm (Debian 12) or slim for a smaller, newer image.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“€ Variant Â· bullseye (older Debian)</div><div class=\"state-detail\">âš  Debian 11 Bullseye â€” older stable release.\n\nThis still receives security updates but newer packages and fixes are in bookworm (Debian 12). Consider upgrading to bookworm or switching to slim for a smaller image.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "cli"
                                                                },
                                                                "icon": "ğŸ’»",
                                                                "content": "âœ“ cli variant â€” PHP CLI mode, no web server. Appropriate for CLI tools, workers, and scripts.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ’» Variant Â· cli (PHP CLI)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âœ“ PHP CLI mode â€” no built-in web server.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Appropriate for:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CLI tools and scripts</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Queue workers and cron jobs</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Artisan commands (Laravel)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For web apps, consider 'fpm' (with nginx) or 'apache' (self-contained).</div></div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "fpm"
                                                                },
                                                                "icon": "âš¡",
                                                                "content": "âœ“ fpm variant â€” PHP FastCGI Process Manager. Pair with nginx for production web serving.",
                                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš¡ Variant Â· fpm (PHP-FPM)</div><div class=\"state-detail\">âœ“ PHP-FPM â€” production-grade PHP process management.\n\nRequires a separate web server (typically nginx) to proxy requests. This is the recommended setup for production PHP applications â€” better performance and control than mod_php or the built-in server.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "contains": "jdk"
                                                                },
                                                                "icon": "â˜•",
                                                                "content": "âœ“ JDK variant â€” full Java Development Kit. Use JRE variant for smaller runtime-only images.",
                                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜• Variant Â· JDK</div><div class=\"state-detail\">Full JDK includes the Java compiler (javac) and development tools.\n\nFor production runtime-only images, consider 'jre-alpine' â€” it includes only the JVM, making the image significantly smaller. Use JDK in build stages, JRE in the final stage.</div></div>"
                                                            },
                                                            {
                                                                "when": {
                                                                    "resolver": "dockerBaseVariant",
                                                                    "equals": ""
                                                                },
                                                                "icon": "âš ï¸",
                                                                "content": "âš  No variant â€” using default image. May be unnecessarily large. Consider adding '-slim' or '-alpine'.",
                                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Variant Â· none (default)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  No variant suffix detected â€” the image defaults to its base variant.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For most runtimes, the default is a full Debian image (~400MB+). This is bigger than necessary.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Recommendation: Add a variant suffix to optimize image size:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">'-slim'</span><span>safe default (~150MB), works with everything</span><span style=\"font-weight:600;color:var(--text-secondary)\">'-alpine'</span><span>smallest (~50MB), watch for C extension issues</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Edit the base image field to add the variant after the version: e.g., {{dockerBaseRuntime}}:{{dockerBaseVersion}}-slim</div></div></div>"
                                                            }
                                                        ],
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Variant Â· {{dockerBaseVariant}}</div><div class=\"state-detail\">{{dockerBaseVariantExplain}}\n\nThe variant controls the OS base and image size. Edit the base image field to change it â€” the variant is everything after the first dash in the tag.</div></div>",
                                                        "children": []
                                                    }
                                                ]
                                            },
                                            {
                                                "id": "docker-field-workdir",
                                                "title": "Working Directory",
                                                "icon": "ğŸ“",
                                                "selector": "#wiz-docker-workdir",
                                                "content": "WORKDIR in the Dockerfile â€” the directory inside the container where your code lives. Usually /app.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Working Directory</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sets the WORKDIR instruction in the Dockerfile. All subsequent COPY, RUN, and CMD instructions execute relative to this directory.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Conventions:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">/app</span><span>most common, universally understood</span><span style=\"font-weight:600;color:var(--text-secondary)\">/usr/src/app</span><span>Node.js convention</span><span style=\"font-weight:600;color:var(--text-secondary)\">/go/src/app</span><span>Go convention (though /app is fine too)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The WORKDIR instruction also creates the directory if it doesn't exist. It's equivalent to mkdir -p /app && cd /app.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Leave as /app unless your framework expects a specific path.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-field-install",
                                                "title": "Install Command",
                                                "icon": "ğŸ“¥",
                                                "selector": "#wiz-docker-install",
                                                "content": "The RUN command that installs dependencies â€” e.g., pip install, npm install, go mod download.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¥ Install Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This becomes a RUN instruction in the Dockerfile that installs your project's dependencies during the build.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Python</span><span>pip install --no-cache-dir -r requirements.txt</span><span style=\"font-weight:600;color:var(--text-secondary)\">Node.js</span><span>npm ci --only=production</span><span style=\"font-weight:600;color:var(--text-secondary)\">Go</span><span>go mod download</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ruby</span><span>bundle install</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated Dockerfile copies dependency files (requirements.txt, package.json) BEFORE copying source code. This means dependency installation is cached â€” it only re-runs when dependency files change, not on every code change.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is a critical Docker optimization: changing a Python source file won't trigger a full pip install, saving minutes on every build.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pre-filled from your stack detection.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-field-port",
                                                "title": "Expose Port",
                                                "icon": "ğŸ”Œ",
                                                "selector": "#wiz-docker-port",
                                                "content": "The EXPOSE port â€” which network port your application listens on inside the container.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”Œ Expose Port</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sets the EXPOSE instruction and the port mapping in docker-compose.yml.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">EXPOSE is documentation â€” it tells users and tools which port the app listens on. The actual port binding happens in compose (ports: - '8080:8080').</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common ports:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">8080</span><span>generic web service</span><span style=\"font-weight:600;color:var(--text-secondary)\">3000</span><span>Node.js/React dev server</span><span style=\"font-weight:600;color:var(--text-secondary)\">8000</span><span>Python (Django, FastAPI, Flask)</span><span style=\"font-weight:600;color:var(--text-secondary)\">5000</span><span>Flask default</span><span style=\"font-weight:600;color:var(--text-secondary)\">4000</span><span>Phoenix/Elixir</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated compose file maps this port 1:1 (host:container). If you need a different host port (e.g., host 9090 â†’ container 8080), edit the compose file after generation.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hidden for library-type projects that don't expose network services.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-field-cmd",
                                                "title": "Entry Command",
                                                "icon": "ğŸš€",
                                                "selector": "#wiz-docker-cmd",
                                                "content": "CMD instruction â€” the command that runs when the container starts.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Entry Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sets the CMD instruction â€” what runs when the container starts. This is the 'main process' of your container.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Common values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Python</span><span>python -m uvicorn app:app --host 0.0.0.0 --port 8080</span><span style=\"font-weight:600;color:var(--text-secondary)\">Node.js</span><span>node server.js or npm start</span><span style=\"font-weight:600;color:var(--text-secondary)\">Go</span><span>./app (compiled binary)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ruby</span><span>bundle exec rails server</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">Important:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Always bind to 0.0.0.0, not 127.0.0.1 (container networking requires it)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ The CMD process should run in the foreground (not daemonize)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ When this process exits, the container stops</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">CMD vs ENTRYPOINT:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CMD</span><span>default command, can be overridden with docker run args</span><span style=\"font-weight:600;color:var(--text-secondary)\">ENTRYPOINT</span><span>always runs, CMD args are appended</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For development, you can override CMD in compose with 'command:' per service.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Hidden for library-type projects that don't have a runtime entry point.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-genconfig-warning",
                                                "title": "Multi-Module Warning",
                                                "icon": "âš ï¸",
                                                "selector": "#wiz-docker-genconfig-warning",
                                                "content": "Your project has multiple modules â€” Basic Config creates only a single-service Dockerfile. Use Full Docker Setup for per-module configuration.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Basic Config Limitation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has multiple modules or compose services. Basic Config generates a single-template Dockerfile for one service only.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What Basic Config handles:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ One Dockerfile with one service</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ One optional docker-compose.yml entry</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Stack-detected base image and commands</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">What it does NOT handle:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Per-module Dockerfiles (each module needs its own)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Infrastructure services (databases, caches, queues)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Vault-managed environment variables</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Custom port/volume mappings per service</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Health checks and resource limits</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For multi-module projects, use 'ğŸš€ Full Docker Setup' below â€” it creates per-module Dockerfiles, adds infrastructure services, maps vault secrets to env vars, and generates a comprehensive docker-compose.yml.</div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-fullsetup",
                                        "title": "Full Docker Setup",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-docker-section-fullsetup",
                                        "content": "Open the comprehensive Docker wizard â€” per-module Dockerfiles, infrastructure services, vault integration, and live preview.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full Docker Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Full Docker Setup wizard goes beyond basic config generation. It opens a multi-step wizard that handles:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Per-module Dockerfiles</span><span>each detected module gets its own Dockerfile tailored to its stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Infrastructure services</span><span>add databases (postgres, mysql, mongo), caches (redis, memcached), queues (rabbitmq, kafka)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Environment variables</span><span>map vault secrets to container env vars per service</span><span style=\"font-weight:600;color:var(--text-secondary)\">Port and volume mappings</span><span>configure host:container bindings with conflict detection</span><span style=\"font-weight:600;color:var(--text-secondary)\">Health checks</span><span>readiness probes for each service</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>comprehensive exclusion rules tailored to your stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live preview</span><span>see the generated Dockerfile and compose file before writing to disk</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">The readiness pills below show what the wizard has to work with:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Modules</span><span>detected code modules in your project</span><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile</span><span>whether one already exists (will offer merge or overwrite)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose</span><span>whether a compose file exists</span><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>whether build context filtering is configured</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when Basic Config isn't sufficient â€” typically for projects with 2+ services or any infrastructure dependencies.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "docker-fullsetup-pill-modules",
                                                "title": "Modules",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-docker-fullsetup-pill-modules",
                                                "content": "{{dockerModules}} module(s) detected â€” each will get its own Dockerfile in the full setup wizard.",
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-fullsetup-pill-dockerfile",
                                                "title": "Dockerfile Status",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-docker-fullsetup-pill-dockerfile",
                                                "content": "Shows whether a Dockerfile already exists. The wizard will offer to merge with or replace existing files.",
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-fullsetup-pill-compose",
                                                "title": "Compose Status",
                                                "icon": "ğŸ“‹",
                                                "selector": "#wiz-docker-fullsetup-pill-compose",
                                                "content": "Shows whether a compose file exists. The wizard will merge new services into existing or create from scratch.",
                                                "expanded": "",
                                                "children": []
                                            },
                                            {
                                                "id": "docker-fullsetup-pill-dockerignore",
                                                "title": ".dockerignore Status",
                                                "icon": "ğŸš«",
                                                "selector": "#wiz-docker-fullsetup-pill-dockerignore",
                                                "content": "Shows whether .dockerignore exists. The wizard generates comprehensive patterns tailored to your stack.",
                                                "expanded": "",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "docker-section-delete",
                                        "title": "Delete Config",
                                        "icon": "ğŸ—‘",
                                        "selector": "#wiz-docker-section-delete",
                                        "content": "Remove generated Docker configuration files (Dockerfile, compose file) from your project.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ—‘ Delete Docker Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes Docker configuration files that were generated by the control plane.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile</span><span>your container build recipe</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker-compose.yml</span><span>your service orchestration config</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will NOT delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">.dockerignore</span><span>kept for safety</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Any running containers or images (use â¹ Stop and ğŸ§¹ Prune for those)</span><span style=\"grid-column:1/-1;color:var(--text-secondary)\">âœ“ Any manually created Docker files outside the project root</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">After deletion:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Operations buttons will disappear (no compose file)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Status pills will show â—‹ for Dockerfile and compose</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ You can regenerate at any time with Basic Config or Full Setup</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when you want to start fresh with a different Docker configuration.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "docker-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-int-docker",
                                        "content": "Generate the Docker configuration files with the settings from the Basic Config form above.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply Docker Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates Docker configuration files based on the form values above:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Dockerfile</span><span>created in your project root with the specified base image, install command, port, and entry command</span><span style=\"font-weight:600;color:var(--text-secondary)\">docker-compose.yml</span><span>created if the checkbox is checked, with your service mapped to the specified port</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If 'Overwrite existing Dockerfile' is unchecked and a Dockerfile already exists, the generation will skip it.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">After applying:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Status pills will update to show âœ“ for Dockerfile (and compose if generated)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Operations section will appear (if compose was generated and daemon is running)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ You can immediately use â–¶ Start to run your containers</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generated files are standard Docker files â€” you can edit them manually at any time.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "docker-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-int-docker",
                                        "content": "Close the Docker setup panel without generating any files. No changes are made.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the Docker setup panel without generating any files or modifying any existing configuration.\n\nReopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and stack detection.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "k8s-card",
                        "title": "Kubernetes",
                        "icon": "â˜¸ï¸",
                        "selector": "#wiz-int-wrap-k8s",
                        "content": "Kubernetes orchestration â€” deploy, scale, and manage containerized workloads across clusters.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ“ cluster"
                                },
                                "content": "kubectl connected to a live cluster â€” {{k8sResources}} resource(s) across {{k8sManifests}} manifest file(s). Your K8s pipeline is operational.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· cluster connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Kubernetes environment is fully operational:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">kubectl</span><span>connected and authenticated</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manifests</span><span>{{k8sManifests}} file(s), {{k8sResources}} resource(s)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cluster</span><span>reachable â€” live operations available (Pods, Services, Deployments, Validate)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With a connected cluster, you can apply manifests directly, inspect running workloads, and validate configurations before deployment.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Kubernetes turns your containers (built via Docker) into production workloads with scaling, self-healing, service discovery, and rolling updates.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "â—‹ no cluster"
                                },
                                "content": "kubectl is available but no cluster is connected. Manifest generation and analysis work â€” live cluster operations are blocked.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· no cluster</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">kubectl is installed but can't reach a cluster. Without a cluster:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot apply manifests</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot inspect running pods/services/deployments</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot validate live cluster state</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still generate and analyze manifest files</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still set up Helm charts and Kustomize overlays</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To connect a cluster:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Local</span><span>minikube start, kind create cluster, or Docker Desktop K8s</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cloud</span><span>aws eks update-kubeconfig, gcloud container clusters get-credentials, az aks get-credentials</span><span style=\"font-weight:600;color:var(--text-secondary)\">Custom</span><span>set KUBECONFIG or merge into ~/.kube/config</span></div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âœ— no kubectl"
                                },
                                "content": "kubectl is not installed. Install it to enable Kubernetes manifest management and cluster operations.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· kubectl missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">kubectl is not detected on this system. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot communicate with Kubernetes clusters</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot apply, inspect, or validate manifests on a cluster</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still generate manifest YAML files</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane can generate manifests without kubectl â€” they'll be ready when kubectl is installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Snap</span><span>sudo snap install kubectl --classic</span><span style=\"font-weight:600;color:var(--text-secondary)\">Homebrew</span><span>brew install kubectl</span><span style=\"font-weight:600;color:var(--text-secondary)\">Binary</span><span>https://kubernetes.io/docs/tasks/tools/</span></div></div></div>"
                            }
                        ],
                        "expanded": "",
                        "children": [
                            {
                                "id": "k8s-setup",
                                "title": "K8s Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-k8s",
                                "content": "Kubernetes integration setup â€” manifest analysis, cluster connectivity, and deployment tooling.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel manages your project's Kubernetes configuration. It covers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Manifests</span><span>YAML files defining Deployments, Services, ConfigMaps, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Helm</span><span>package manager for K8s â€” charts bundle related manifests with configurable values</span><span style=\"font-weight:600;color:var(--text-secondary)\">Kustomize</span><span>overlay system â€” one base + per-environment patches (dev/staging/prod)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live Cluster</span><span>real-time pod/service/deployment inspection and validation</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Unlike Docker (which builds images), Kubernetes deploys those images as workloads â€” scheduling them across nodes, managing networking, and handling scaling and self-healing.</div></div></div>",
                                "children": [
                                    {
                                        "id": "k8s-section-status",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-k8s-section-status",
                                        "content": "Seven status pills showing kubectl, resource count, Helm charts, Kustomize, deployment strategy, readiness, and cluster connectivity.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š K8s Status Strip</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">kubectl</span><span>whether the CLI is available and its version</span><span style=\"font-weight:600;color:var(--text-secondary)\">resources</span><span>total K8s resources found across all manifest files</span><span style=\"font-weight:600;color:var(--text-secondary)\">Helm</span><span>number of Helm charts detected in the project</span><span style=\"font-weight:600;color:var(--text-secondary)\">Kustomize</span><span>whether kustomization.yaml exists and overlay count</span><span style=\"font-weight:600;color:var(--text-secondary)\">strategy</span><span>deployment strategy: raw manifests, Helm, Kustomize, or mixed</span><span style=\"font-weight:600;color:var(--text-secondary)\">readiness</span><span>overall deployment readiness: ready, needs_config, needs_tools</span><span style=\"font-weight:600;color:var(--text-secondary)\">cluster</span><span>whether kubectl can reach a live cluster</span></div></div></div>",
                                        "children": [
                                            {
                                                "id": "k8s-pill-kubectl",
                                                "title": "kubectl",
                                                "icon": "â˜¸ï¸",
                                                "selector": "#wiz-k8s-pill-kubectl",
                                                "content": "Kubernetes CLI â€” the primary tool for managing clusters, applying manifests, and inspecting workloads.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ kubectl</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">kubectl is the command-line interface for Kubernetes. It communicates with the cluster's API server to manage all resources.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Apply</span><span>kubectl apply -f manifest.yaml</span><span style=\"font-weight:600;color:var(--text-secondary)\">Get</span><span>kubectl get pods, deployments, services</span><span style=\"font-weight:600;color:var(--text-secondary)\">Logs</span><span>kubectl logs pod-name -f</span><span style=\"font-weight:600;color:var(--text-secondary)\">Exec</span><span>kubectl exec -it pod-name -- /bin/sh</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-resources",
                                                "title": "Resources",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-k8s-pill-resources",
                                                "content": "Total K8s resource definitions found across all manifest files â€” Deployments, Services, ConfigMaps, etc.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resource Count</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each resource is a declared K8s object â€” the cluster creates and manages it. Multiple resources can be defined in a single YAML file using --- separators.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">A minimal deployment needs at least 1 Deployment + 1 Service = 2 resources. Production setups typically have 5-15+ resources per microservice (ConfigMaps, Secrets, HPA, PDB, Ingress, etc.).</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-helm",
                                                "title": "Helm",
                                                "icon": "âˆ",
                                                "selector": "#wiz-k8s-pill-helm",
                                                "content": "Helm chart detection â€” charts package K8s manifests into version-controlled, configurable bundles.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âˆ Helm Charts</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Helm is the package manager for Kubernetes. A chart bundles templates, default values, and dependencies into a release.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">When present, Helm provides:<br>â€¢ Templated manifests with configurable values<br>â€¢ Release versioning and rollback capabilities<br>â€¢ Dependency management (e.g. PostgreSQL as a subchart)<br>â€¢ Per-environment values files (values-dev.yaml, values-prod.yaml)</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-kustomize",
                                                "title": "Kustomize",
                                                "icon": "ğŸ—‚",
                                                "selector": "#wiz-k8s-pill-kustomize",
                                                "content": "Kustomize detection â€” overlay system that patches base manifests per environment without templating.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—‚ Kustomize</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Kustomize is built into kubectl â€” no extra installation needed. It works by patching plain YAML manifests:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ Base manifests define the common resources<br>â€¢ Overlays apply strategic merge patches per environment<br>â€¢ No template language â€” just YAML manipulation<br>â€¢ Apply with: kubectl apply -k overlays/prod/</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-strategy",
                                                "title": "Strategy",
                                                "icon": "âš¡",
                                                "selector": "#wiz-k8s-pill-strategy",
                                                "content": "Deployment strategy â€” raw manifests, Helm charts, Kustomize overlays, or a mix of approaches.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Deployment Strategy</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">raw_kubectl</span><span>plain YAML manifests applied directly with kubectl apply -f</span><span style=\"font-weight:600;color:var(--text-secondary)\">helm</span><span>charts with values â€” uses helm install/upgrade</span><span style=\"font-weight:600;color:var(--text-secondary)\">kustomize</span><span>base + overlays â€” uses kubectl apply -k</span><span style=\"font-weight:600;color:var(--text-secondary)\">mixed</span><span>multiple strategies detected â€” some manifests are raw, others use Helm or Kustomize</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-readiness",
                                                "title": "Readiness",
                                                "icon": "âœ…",
                                                "selector": "#wiz-k8s-pill-readiness",
                                                "content": "Overall K8s deployment readiness â€” whether all tools are installed and manifests are properly configured.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ… Deployment Readiness</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--success)\">âœ“ ready</span><span>all tools installed, manifests valid, can deploy immediately</span><span style=\"font-weight:600;color:var(--warning)\">âš  needs config</span><span>tools available but manifests need configuration â€” use the form below</span><span style=\"font-weight:600;color:var(--warning)\">âš  needs tools</span><span>missing required tools â€” install them from the System Tools section</span><span style=\"font-weight:600;color:var(--text-muted)\">â—‹ not configured</span><span>no K8s manifests detected â€” generate them with the config form or Full Setup</span></div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-pill-cluster",
                                                "title": "Cluster",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-k8s-pill-cluster",
                                                "content": "Live cluster connectivity â€” whether kubectl can reach a Kubernetes API server.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Cluster Connectivity</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A connected cluster enables live operations â€” applying manifests, inspecting pods, reading logs. Without a cluster, the control plane can still generate and analyze manifest files.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Local</span><span>minikube, kind, Docker Desktop K8s, k3s</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cloud</span><span>EKS (AWS), GKE (Google), AKS (Azure)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Config</span><span>~/.kube/config or KUBECONFIG env var</span></div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "k8s-section-manifests",
                                        "title": "Manifests",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-k8s-section-manifests",
                                        "content": "Manifest analysis â€” {{k8sManifests}} file(s) containing {{k8sResources}} K8s resource(s). Each manifest is parsed for resource kinds, counts, and structure.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“„ Manifest Analysis Â· {{k8sManifests}} file(s)</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each manifest below for per-file breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ§© Resource Kinds</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(210,60%,50%,0.1);color:hsla(210,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸš€ Deployment</span><span>manages replicated pods â€” rolling updates, rollbacks, scaling</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(140,60%,40%,0.1);color:hsla(140,60%,55%,1);font-size:0.68rem;font-weight:600\">ğŸŒ Service</span><span>stable network endpoint â€” ClusterIP, NodePort, or LoadBalancer</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(40,80%,50%,0.1);color:hsla(40,80%,55%,1);font-size:0.68rem;font-weight:600\">ğŸ”§ ConfigMap</span><span>key-value config injected as env vars or mounted files</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(0,70%,55%,0.1);color:hsla(0,70%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ”’ Secret</span><span>base64-encoded sensitive data â€” passwords, tokens, certs</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(280,60%,55%,0.1);color:hsla(280,60%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ“€ PVC</span><span>PersistentVolumeClaim â€” requests durable storage for pods</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(170,60%,45%,0.1);color:hsla(170,60%,50%,1);font-size:0.68rem;font-weight:600\">ğŸŒ Ingress</span><span>HTTP routing â€” hostname + path rules that expose services externally</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(30,70%,55%,0.1);color:hsla(30,70%,60%,1);font-size:0.68rem;font-weight:600\">â° CronJob</span><span>scheduled pod execution â€” backups, cleanups, reports</span><span style=\"padding:0.1rem 0.3rem;border-radius:4px;background:hsla(320,50%,55%,0.1);color:hsla(320,50%,60%,1);font-size:0.68rem;font-weight:600\">ğŸ“ˆ HPA</span><span>HorizontalPodAutoscaler â€” scales replicas based on CPU/memory/custom metrics</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“ Manifest Structure</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\">K8s manifests are YAML files with <code style=\"font-size:0.68rem\">apiVersion</code>, <code style=\"font-size:0.68rem\">kind</code>, <code style=\"font-size:0.68rem\">metadata</code>, and <code style=\"font-size:0.68rem\">spec</code>. Multiple resources can live in one file separated by <code style=\"font-size:0.68rem\">---</code>.</div><div style=\"margin-top:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Group related resources (Deployment + Service) in one file for clarity</div><div style=\"margin-top:0.15rem\"><span style=\"color:hsla(140,60%,55%,1);font-weight:600\">âœ“</span> Use namespaces to isolate environments</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“„ {{name}}",
                                            "content": "Manifest file {{name}} â€” hover for resource kind breakdown and structure analysis.",
                                            "selector": "#wiz-k8s-section-manifests [style*=\"border-bottom\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-helm",
                                        "title": "Helm Charts",
                                        "icon": "âˆ",
                                        "selector": "#wiz-k8s-section-helm",
                                        "content": "Helm chart analysis â€” charts package K8s resources into reusable, configurable bundles with values overrides per environment.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">âˆ Helm Chart Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Hover each chart below for per-chart breakdown. General guidance:</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“¦ Chart Structure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Chart.yaml</span><span>chart metadata â€” name, version, dependencies, type (application vs library)</span><span style=\"font-weight:600;color:var(--text-secondary)\">values.yaml</span><span>default configuration â€” image tags, replica counts, resource limits, feature flags</span><span style=\"font-weight:600;color:var(--text-secondary)\">templates/</span><span>Go-templated K8s manifests â€” rendered with values to produce final YAML</span><span style=\"font-weight:600;color:var(--text-secondary)\">charts/</span><span>subcharts â€” bundled dependencies (e.g. PostgreSQL, Redis as subcharts)</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸŒ± Environment Values</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\">Per-environment values files (values-dev.yaml, values-prod.yaml) override defaults for each target. Install with:</div><div style=\"margin-top:0.15rem;font-family:monospace;font-size:0.7rem;padding:0.2rem 0.4rem;border-radius:3px;background:var(--bg-primary)\">helm install myapp ./chart -f values-prod.yaml</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "âˆ {{name}}",
                                            "content": "Helm chart {{name}} â€” hover for chart metadata, values files, templates, and subchart analysis.",
                                            "selector": "#wiz-k8s-section-helm [style*=\"border-bottom\"]",
                                            "nameSelector": "strong"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-kustomize",
                                        "title": "Kustomize",
                                        "icon": "ğŸ—‚",
                                        "selector": "#wiz-k8s-section-kustomize",
                                        "content": "Kustomize overlay analysis â€” a base set of manifests with per-environment patches. No templating â€” pure YAML patching.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ—‚ Kustomize Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Kustomize lets you maintain one set of base manifests and apply patches per environment â€” no template engine, just strategic merge patches on plain YAML.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“ Structure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">base/</span><span>common manifests shared across all environments</span><span style=\"font-weight:600;color:var(--text-secondary)\">overlays/</span><span>per-environment customizations (dev, staging, prod)</span><span style=\"font-weight:600;color:var(--text-secondary)\">patches</span><span>strategic merge patches that modify specific fields</span><span style=\"font-weight:600;color:var(--text-secondary)\">configMapGenerator</span><span>generates ConfigMaps from files or literals</span><span style=\"font-weight:600;color:var(--text-secondary)\">images</span><span>image tag overrides without editing manifests</span></div></div></div><div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ”§ Usage</div><div class=\"state-detail\" style=\"white-space:normal;font-size:0.73rem\"><div style=\"margin-top:0.2rem\">Apply with: <code style=\"font-size:0.68rem\">kubectl apply -k overlays/prod/</code></div><div style=\"margin-top:0.15rem\">Preview output: <code style=\"font-size:0.68rem\">kubectl kustomize overlays/prod/</code></div><div style=\"margin-top:0.15rem\">Kustomize is built into kubectl â€” no extra tools needed.</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“ {{name}}",
                                            "content": "Kustomize overlay {{name}} â€” environment-specific patches applied on top of the base manifests.",
                                            "selector": "#wiz-k8s-section-kustomize [style*=\"padding:0.1rem\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-envs",
                                        "title": "Environments",
                                        "icon": "ğŸŒ±",
                                        "selector": "#wiz-k8s-section-envs",
                                        "content": "Detected environments from Kustomize overlays and Helm values files â€” each targets a different deployment stage.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ± Detected Environments</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pill represents a detected environment target. Sources:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Kustomize overlay</span><span>a directory under overlays/ with its own kustomization.yaml</span><span style=\"font-weight:600;color:var(--text-secondary)\">Helm values file</span><span>values-&lt;env&gt;.yaml with environment-specific overrides</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Environments let you deploy the same application with different configuration â€” smaller replicas in dev, more resources and strict policies in prod.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-infra",
                                        "title": "Infra Dependencies",
                                        "icon": "ğŸ—",
                                        "selector": "#wiz-k8s-section-infra",
                                        "content": "Infrastructure services detected in your K8s manifests â€” databases, caches, and other backing services your application depends on.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ— Infrastructure Dependencies</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">These are backing services detected in your manifests â€” each appears as a Deployment, StatefulSet, or Service with a recognizable image.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">In production K8s, consider:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Managed services (RDS, Cloud SQL) instead of in-cluster databases</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Operators for stateful workloads (PostgreSQL Operator, Redis Operator)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ PersistentVolumeClaims for any data that must survive pod restarts</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-live",
                                        "title": "Live Cluster",
                                        "icon": "ğŸ–¥",
                                        "selector": "#wiz-k8s-section-live",
                                        "content": "Live cluster inspection â€” query running pods, services, deployments, and validate manifest readiness against the connected cluster.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ–¥ Live Cluster Panel</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel queries your connected K8s cluster in real time. Click a button to fetch current state:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“¦ Pods</span><span>running containers â€” status, restarts, age, node placement</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸŒ Services</span><span>network endpoints â€” type, cluster IP, external IP, ports</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸš€ Deployments</span><span>desired vs ready replicas, rollout status, revision history</span><span style=\"font-weight:600;color:var(--text-secondary)\">âœ… Validate</span><span>dry-run apply of your manifests â€” catches errors before real deployment</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ–¥ Cluster</span><span>node count, Kubernetes version, resource capacity</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Data is fetched fresh each time â€” reflects actual cluster state, not cached detection.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-section-genconfig",
                                        "title": "Generate Manifests",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-k8s-section-genconfig",
                                        "content": "Basic manifest generation â€” creates a Deployment + Service YAML from the fields below. For complex setups, use Full K8s Setup.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Basic Manifest Generation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This form generates a minimal Deployment + Service pair. Fill in the fields and hit Apply.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">App Name</span><span>used for metadata.name, labels, and selectors across both resources</span><span style=\"font-weight:600;color:var(--text-secondary)\">Container Image</span><span>the Docker image to deploy â€” must be pullable from the cluster</span><span style=\"font-weight:600;color:var(--text-secondary)\">Container Port</span><span>the port your app listens on inside the container</span><span style=\"font-weight:600;color:var(--text-secondary)\">Replicas</span><span>number of pod instances â€” more replicas = higher availability</span><span style=\"font-weight:600;color:var(--text-secondary)\">Namespace</span><span>K8s namespace to deploy into â€” 'default' if unset</span><span style=\"font-weight:600;color:var(--text-secondary)\">Service Type</span><span>ClusterIP (internal), NodePort (node access), LoadBalancer (external)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">If your project uses Helm charts, Kustomize overlays, or has multiple modules, use ğŸš€ Full K8s Setup below for comprehensive per-service configuration.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "k8s-field-name",
                                                "title": "App Name",
                                                "icon": "ğŸ·ï¸",
                                                "selector": "#wiz-k8s-name",
                                                "content": "The application name â€” used in metadata.name for the Deployment, Service, and all label selectors. Keep it lowercase with hyphens.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ App Name</div><div class=\"state-detail\">This value becomes metadata.name in your K8s resources and is used in label selectors (app: your-name) that tie Deployments to Services.<br><br>Conventions: lowercase, hyphens not underscores, max 63 characters. Example: my-api, payment-service, frontend.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-image",
                                                "title": "Container Image",
                                                "icon": "ğŸ³",
                                                "selector": "#wiz-k8s-image",
                                                "content": "The Docker image to deploy. Must be pullable from the cluster â€” either a public registry or one your cluster has credentials for.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Container Image</div><div class=\"state-detail\">The image reference goes into spec.containers[].image. Format: registry/name:tag<br><br>Examples:<br>â€¢ myapp:latest (local/default registry)<br>â€¢ ghcr.io/org/myapp:v1.2.3 (GitHub Container Registry)<br>â€¢ 123456789.dkr.ecr.us-east-1.amazonaws.com/myapp:latest (AWS ECR)<br><br>Use a specific tag (not 'latest') in production for reproducible deployments.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-port",
                                                "title": "Container Port",
                                                "icon": "ğŸ”Œ",
                                                "selector": "#wiz-k8s-port",
                                                "content": "The port your application listens on inside the container. Must match the EXPOSE directive in your Dockerfile.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”Œ Container Port</div><div class=\"state-detail\">This port is used in both the Deployment's containerPort and the Service's targetPort.<br><br>Common ports by stack:<br>â€¢ 5000/8000 â€” Python (Flask/FastAPI/Django)<br>â€¢ 3000 â€” Node.js (Express/Next.js)<br>â€¢ 8080 â€” Go / Java / generic<br>â€¢ 4000 â€” Elixir Phoenix<br><br>The Service routes traffic from its port to this containerPort.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-replicas",
                                                "title": "Replicas",
                                                "icon": "ğŸ“Š",
                                                "selector": "#wiz-k8s-replicas",
                                                "content": "How many pod instances to run. More replicas = higher availability but more resource consumption.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Replica Count</div><div class=\"state-detail\">spec.replicas in the Deployment. Kubernetes maintains exactly this many pods running at all times.<br><br>Guidelines:<br>â€¢ 1 â€” development/testing<br>â€¢ 2-3 â€” staging and small production workloads<br>â€¢ 3+ â€” production with high availability requirements<br><br>For auto-scaling, use HPA (HorizontalPodAutoscaler) instead of a fixed count â€” it adjusts replicas based on CPU/memory metrics.</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-namespace",
                                                "title": "Namespace",
                                                "icon": "ğŸ“‚",
                                                "selector": "#wiz-k8s-namespace",
                                                "content": "The K8s namespace to deploy into. Namespaces isolate resources â€” use different ones for dev, staging, and production.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ Namespace</div><div class=\"state-detail\">metadata.namespace in all generated resources. Namespaces are virtual clusters within a physical cluster.<br><br>Conventions:<br>â€¢ 'default' â€” fine for learning and single-app clusters<br>â€¢ project-name â€” isolate by project<br>â€¢ dev / staging / prod â€” isolate by environment<br><br>Resources in different namespaces are isolated â€” a Service in namespace A can't reach pods in namespace B without the full DNS name (svc.namespace.svc.cluster.local).</div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-field-service-type",
                                                "title": "Service Type",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-k8s-service-type",
                                                "content": "How the Service is exposed. ClusterIP (internal only), NodePort (via node IP), or LoadBalancer (external IP from cloud provider).",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Service Type</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ClusterIP</span><span>internal only â€” reachable from inside the cluster. Use with Ingress for external HTTP traffic. <strong>Default and recommended.</strong></span><span style=\"font-weight:600;color:var(--text-secondary)\">NodePort</span><span>exposes on every node at a static port (30000-32767). Useful for development and on-prem clusters without a load balancer.</span><span style=\"font-weight:600;color:var(--text-secondary)\">LoadBalancer</span><span>provisions a cloud load balancer (AWS ALB/NLB, GCP LB, Azure LB). Each costs money. Use sparingly â€” prefer Ingress to multiplex many services behind one LB.</span></div></div></div>",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "k8s-section-fullsetup",
                                        "title": "Full K8s Setup",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-k8s-section-fullsetup",
                                        "content": "Full multi-step K8s wizard â€” per-service Deployments, Helm chart generation, Skaffold configuration, HPA autoscaling, and live preview.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full K8s Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The full setup wizard provides comprehensive K8s configuration beyond the basic Deployment + Service pair. It covers:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Per-module Deployments with resource limits and health probes</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Environment variables from vault (secrets integration)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Helm chart scaffolding with values templates</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Skaffold configuration for local dev/deploy workflows</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Volume and PVC management</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ HPA autoscaling configuration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Live preview and editing of generated YAML</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when your project has multiple services, needs Helm charts, or requires production-grade configurations with probes and resource limits.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "k8s-fullsetup-pill-resources",
                                                "title": "Resources Detected",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-k8s-fullsetup-pill-resources",
                                                "content": "Existing K8s resources detected in the project â€” the full setup will extend or replace these.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-kubectl",
                                                "title": "kubectl",
                                                "icon": "â˜¸ï¸",
                                                "selector": "#wiz-k8s-fullsetup-pill-kubectl",
                                                "content": "kubectl availability â€” required for applying generated manifests to a cluster.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-helm",
                                                "title": "Helm Charts",
                                                "icon": "âˆ",
                                                "selector": "#wiz-k8s-fullsetup-pill-helm",
                                                "content": "Existing Helm charts â€” the full setup can generate new charts or extend existing ones.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-kustomize",
                                                "title": "Kustomize",
                                                "icon": "ğŸ—‚",
                                                "selector": "#wiz-k8s-fullsetup-pill-kustomize",
                                                "content": "Kustomize detection â€” the full setup can generate base manifests with overlay structure.",
                                                "children": []
                                            },
                                            {
                                                "id": "k8s-fullsetup-pill-docker",
                                                "title": "Docker Ready",
                                                "icon": "ğŸ³",
                                                "selector": "#wiz-k8s-fullsetup-pill-docker",
                                                "content": "Docker availability â€” needed to build container images that K8s will deploy.",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "k8s-section-delete",
                                        "title": "Delete Manifests",
                                        "icon": "ğŸ—‘",
                                        "selector": "#wiz-k8s-section-delete",
                                        "content": "Remove generated K8s manifest files from your project. Does not affect running cluster resources.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ—‘ Delete K8s Manifests</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes K8s manifest files that were generated by the control plane.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">k8s/ directory</span><span>all generated YAML manifests</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will NOT:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Delete any resources running on your cluster</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Touch Helm charts or Kustomize overlays you created manually</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After deletion, you can regenerate manifests at any time with the config form or Full Setup.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-k8s",
                                        "content": "Generate K8s manifest files with the settings from the config form above.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply K8s Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates Kubernetes manifest files based on the form values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">deployment.yaml</span><span>Deployment with the specified image, port, replicas, and namespace</span><span style=\"font-weight:600;color:var(--text-secondary)\">service.yaml</span><span>Service with the specified type routing to the container port</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Files are created in the k8s/ directory. The generated YAML is standard Kubernetes â€” you can edit it manually at any time.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "k8s-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-k8s",
                                        "content": "Close the K8s setup panel without generating any files. No changes are made.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the K8s setup panel without generating any files or modifying any existing configuration.<br><br>Reopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and stack detection.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "terraform-card",
                        "title": "Terraform",
                        "icon": "ğŸ—ï¸",
                        "selector": "#wiz-int-wrap-terraform",
                        "content": "Infrastructure as Code â€” provision and manage cloud resources from declarative HCL configurations.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "âœ“ initialized"
                                },
                                "content": "Terraform is initialized with {{tfResources}} resource(s) across {{tfProviders}} provider(s). State is tracked and infrastructure operations are available.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· initialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Terraform environment is fully operational:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">CLI</span><span>terraform available and working</span><span style=\"font-weight:600;color:var(--text-secondary)\">State</span><span>initialized â€” terraform plan/apply ready</span><span style=\"font-weight:600;color:var(--text-secondary)\">Resources</span><span>{{tfResources}} declared resource(s)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Providers</span><span>{{tfProviders}} configured provider(s)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">With an initialized state, you can run terraform plan to preview changes and terraform apply to provision infrastructure. The Live panel buttons above run these operations directly.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "â—‹ no resources"
                                },
                                "content": "Terraform CLI is available but no resources are declared. Use the config form or Full Setup to scaffold your infrastructure.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· no resources</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is installed but no infrastructure resources are defined yet. Without resources:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Nothing to plan or apply</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— No state to track</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can scaffold new configurations</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can import existing infrastructure</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use <strong>ğŸ“ Generate Config</strong> for a quick starter, or <strong>ğŸš€ Full Setup</strong> for comprehensive multi-provider IaC scaffolding.</div></div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "âœ— no terraform"
                                },
                                "content": "Terraform CLI is not installed. Install it to enable infrastructure-as-code management.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· CLI missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is not detected on this system. Without it:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot plan or apply infrastructure changes</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ— Cannot inspect state or workspaces</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Can still generate HCL configuration files</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The control plane can generate .tf files without the CLI â€” they'll be ready when Terraform is installed.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">To install:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Snap</span><span>sudo snap install terraform --classic</span><span style=\"font-weight:600;color:var(--text-secondary)\">Homebrew</span><span>brew install hashicorp/tap/terraform</span><span style=\"font-weight:600;color:var(--text-secondary)\">Binary</span><span>https://developer.hashicorp.com/terraform/install</span></div></div></div>"
                            }
                        ],
                        "expanded": "",
                        "children": [
                            {
                                "id": "tf-setup",
                                "title": "Terraform Setup Panel",
                                "icon": "âš™ï¸",
                                "selector": "#wiz-int-setup-terraform",
                                "content": "Terraform integration setup â€” provider configuration, state backend, resource analysis, and live infrastructure operations.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Terraform Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel manages your project's Terraform configuration. It covers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Files</span><span>.tf files â€” main.tf, variables.tf, outputs.tf, providers.tf, backend.tf</span><span style=\"font-weight:600;color:var(--text-secondary)\">Providers</span><span>cloud platforms â€” AWS, GCP, Azure, DigitalOcean, and 3000+ others</span><span style=\"font-weight:600;color:var(--text-secondary)\">Modules</span><span>reusable infrastructure blocks â€” from the Terraform Registry or local paths</span><span style=\"font-weight:600;color:var(--text-secondary)\">State</span><span>tracks what's deployed â€” local file or remote backend (S3, GCS, Azure Blob)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live Ops</span><span>state inspection, workspace management, validation, and output viewing</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Unlike K8s (which schedules containers), Terraform provisions the underlying infrastructure â€” VPCs, load balancers, databases, DNS records, and the clusters themselves.</div></div></div>",
                                "children": [
                                    {
                                        "id": "tf-section-status",
                                        "title": "Status Strip",
                                        "icon": "ğŸ“Š",
                                        "selector": "#wiz-tf-section-status",
                                        "content": "Seven status pills showing Terraform CLI, resource count, providers, modules, backend, initialization state, and config detection.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“Š Terraform Status Strip</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">terraform</span><span>whether the Terraform CLI is available and its version</span><span style=\"font-weight:600;color:var(--text-secondary)\">resources</span><span>total declared resources across all .tf files</span><span style=\"font-weight:600;color:var(--text-secondary)\">providers</span><span>configured cloud providers (aws, google, azurerm, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">modules</span><span>reusable infrastructure modules (registry or local)</span><span style=\"font-weight:600;color:var(--text-secondary)\">backend</span><span>where terraform state is stored (local, s3, gcs, azurerm)</span><span style=\"font-weight:600;color:var(--text-secondary)\">initialized</span><span>whether terraform init has been run successfully</span><span style=\"font-weight:600;color:var(--text-secondary)\">config</span><span>whether any .tf configuration files exist in the project</span></div></div></div>",
                                        "children": [
                                            {
                                                "id": "tf-pill-cli",
                                                "title": "Terraform CLI",
                                                "icon": "ğŸ—ï¸",
                                                "selector": "#wiz-tf-pill-cli",
                                                "content": "Terraform CLI â€” the core tool for planning and applying infrastructure changes.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ terraform"
                                                        },
                                                        "content": "Terraform CLI is installed and available. All commands (init, plan, apply, destroy) are operational.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ Terraform CLI Â· installed</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is ready. You can run all lifecycle commands:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--success)\">init</span><span>download providers and configure backend</span><span style=\"font-weight:600;color:var(--success)\">plan</span><span>preview infrastructure changes</span><span style=\"font-weight:600;color:var(--success)\">apply</span><span>create/update/delete real infrastructure</span><span style=\"font-weight:600;color:var(--success)\">destroy</span><span>tear down all managed resources</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "âœ— no terraform"
                                                        },
                                                        "content": "Terraform CLI is not installed. Install it to manage infrastructure as code.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—ï¸ Terraform CLI Â· missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform is not found on this system. Without it, you cannot init, plan, or apply infrastructure.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\"><strong>Install:</strong></div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">macOS</span><span>brew install terraform</span><span style=\"font-weight:600;color:var(--text-secondary)\">Linux</span><span>apt install terraform (or download from releases.hashicorp.com)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Manual</span><span>releases.hashicorp.com/terraform â€” single binary, add to PATH</span></div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-resources",
                                                "title": "Resources",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-tf-pill-resources",
                                                "content": "Total declared Terraform resources â€” each maps to a real cloud object.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Resources detected in your .tf files â€” each one maps to a real cloud infrastructure object managed by Terraform.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Resources Â· detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Terraform config declares resources. Each <code>resource</code> block maps 1:1 to a real infrastructure object (VM, bucket, database, etc.).</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Run <code>terraform plan</code> to preview what will be created, modified, or destroyed. Run <code>terraform apply</code> to execute.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no resources"
                                                        },
                                                        "content": "No resources declared yet. Add resource blocks to your .tf files to define infrastructure.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resources Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No resource blocks found in your .tf files. Resources are how you declare infrastructure:</div><div style=\"margin:0.3rem 0;font-size:0.73rem\"><code>resource \"aws_instance\" \"web\" {<br>&nbsp;&nbsp;ami = \"ami-0c55b159\"<br>&nbsp;&nbsp;instance_type = \"t2.micro\"<br>}</code></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use the config generator below or the Full Setup wizard to scaffold resources for your chosen provider.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-providers",
                                                "title": "Providers",
                                                "icon": "â˜",
                                                "selector": "#wiz-tf-pill-providers",
                                                "content": "Configured cloud providers â€” each provider plugin enables Terraform to manage resources on that platform.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Cloud providers are configured â€” Terraform can connect to these platforms and manage their resources.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜ Providers Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Provider plugins are declared in your .tf files. After <code>terraform init</code>, they're downloaded to <code>.terraform/providers/</code>.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Expand the â˜ Providers section below to see which platforms are configured and hover each for details.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no providers"
                                                        },
                                                        "content": "No providers configured. Add a provider block to connect Terraform to a cloud platform.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜ Providers Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No provider blocks found. A provider tells Terraform which cloud to manage:</div><div style=\"margin:0.3rem 0;font-size:0.73rem\"><code>provider \"aws\" {<br>&nbsp;&nbsp;region = \"us-east-1\"<br>}</code></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use the config generator below to scaffold a provider for AWS, GCP, Azure, or DigitalOcean.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-modules",
                                                "title": "Modules",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-tf-pill-modules",
                                                "content": "Terraform modules â€” reusable infrastructure blocks.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Modules detected â€” your config uses reusable infrastructure packages. Expand the ğŸ“¦ Modules section for per-module analysis.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Modules Â· in use</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your Terraform config references modules. These are reusable packages that encapsulate resources with configurable inputs.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Expand the ğŸ“¦ Modules section below and hover each module for source type analysis (registry, git, or local).</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no modules"
                                                        },
                                                        "content": "No modules in use. Modules are optional but recommended for organizing complex infrastructure.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Modules Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No module blocks found. Modules are optional â€” simple projects work fine without them.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Consider modules when:<br>â€¢ You repeat similar resource patterns<br>â€¢ You need the same infra in multiple environments<br>â€¢ You want to use community-maintained best practices from registry.terraform.io</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-backend",
                                                "title": "Backend",
                                                "icon": "ğŸ’¾",
                                                "selector": "#wiz-tf-pill-backend",
                                                "content": "State backend â€” where Terraform state is stored.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "A state backend is configured â€” Terraform knows where to store and lock its state file.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ’¾ Backend Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A backend is configured for state storage. Terraform state tracks the mapping between your .tf declarations and real infrastructure.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Remote backends (s3, gcs, azurerm) enable team collaboration with state locking â€” preventing concurrent applies that could corrupt state.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no backend"
                                                        },
                                                        "content": "No backend configured â€” state defaults to a local terraform.tfstate file.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Backend Â· default (local)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No explicit backend is configured. Terraform defaults to storing state in a local <code>terraform.tfstate</code> file.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">This is fine for solo development. For teams, configure a remote backend:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">s3</span><span>AWS S3 + DynamoDB locking</span><span style=\"font-weight:600;color:var(--text-secondary)\">gcs</span><span>Google Cloud Storage</span><span style=\"font-weight:600;color:var(--text-secondary)\">azurerm</span><span>Azure Blob Storage</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Never commit terraform.tfstate to Git â€” it may contain secrets.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-initialized",
                                                "title": "Initialized",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-tf-pill-initialized",
                                                "content": "Initialization state â€” whether terraform init has been run.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ initialized"
                                                        },
                                                        "content": "Project is initialized â€” providers are downloaded, backend is configured, and you can run plan/apply.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”„ Initialized Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has completed successfully. The .terraform/ directory contains:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ Provider plugins (downloaded binaries)<br>â€¢ Module sources (if any)<br>â€¢ Backend configuration</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">You can now run <code>terraform plan</code> and <code>terraform apply</code>. Re-run init when adding providers, modules, or changing backends.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ not initialized"
                                                        },
                                                        "content": "Project is not initialized â€” run terraform init before plan or apply.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”„ Not Initialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has not been run yet. This is required before any other command.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init will:<br>â€¢ Download provider plugins to .terraform/<br>â€¢ Configure the state backend<br>â€¢ Download referenced modules<br>â€¢ Create .terraform.lock.hcl</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Run: <code>cd terraform/ && terraform init</code></div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-pill-config",
                                                "title": "Config",
                                                "icon": "ğŸ“„",
                                                "selector": "#wiz-tf-pill-config",
                                                "content": "Config detection â€” whether .tf files exist.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ config found"
                                                        },
                                                        "content": "Terraform configuration files detected in your project. Expand the ğŸ“„ Files section for per-file analysis.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Config Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">.tf files are present in your project. Terraform will process all .tf files in the working directory.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Expand the ğŸ“„ Files section to see each file categorized by type (resource, variable, output, provider, etc.) with hover-level analysis.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no config"
                                                        },
                                                        "content": "No .tf files found. Use the config generator below to scaffold a starter Terraform project.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Config Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No .tf files found in the project. You need at least one .tf file to use Terraform.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use the ğŸ“ Generate Config form below to create a starter project, or the ğŸš€ Full Setup for comprehensive scaffolding.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">main.tf</span><span>primary resource definitions</span><span style=\"font-weight:600;color:var(--text-secondary)\">variables.tf</span><span>input variable declarations</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs.tf</span><span>values exported after apply</span></div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "tf-section-files",
                                        "title": "Files",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-tf-section-files",
                                        "content": ".tf file analysis â€” each file is categorized by type (resource, variable, output, provider, data, module, backend).",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“„ Terraform Files</div><div class=\"state-detail\" style=\"white-space:normal\">Each .tf file is parsed and categorized. Hover individual files for per-file analysis.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“‚ File Types</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">resource</span><span>declares infrastructure objects (aws_instance, google_compute_network, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">variable</span><span>input parameters â€” make configs reusable across environments</span><span style=\"font-weight:600;color:var(--text-secondary)\">output</span><span>exports values after apply â€” IP addresses, URLs, ARNs</span><span style=\"font-weight:600;color:var(--text-secondary)\">provider</span><span>configures cloud API connections â€” credentials, region, features</span><span style=\"font-weight:600;color:var(--text-secondary)\">data</span><span>reads existing infrastructure â€” lookup AMIs, VPCs, DNS zones</span><span style=\"font-weight:600;color:var(--text-secondary)\">module</span><span>imports reusable infrastructure packages</span><span style=\"font-weight:600;color:var(--text-secondary)\">backend</span><span>configures where state is stored</span></div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“„ {{name}}",
                                            "content": "Terraform file {{name}} â€” hover for file type and contents analysis.",
                                            "selector": "#wiz-tf-section-files [style*=\"border-bottom\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-providers",
                                        "title": "Providers",
                                        "icon": "â˜",
                                        "selector": "#wiz-tf-section-providers",
                                        "content": "Configured cloud providers â€” each plugin enables Terraform to manage resources on that platform.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">â˜ Provider Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Each provider connects Terraform to a cloud API. Hover individual providers for platform-specific guidance.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ”‘ Authentication</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">AWS</span><span>AWS_ACCESS_KEY_ID + AWS_SECRET_ACCESS_KEY or IAM role</span><span style=\"font-weight:600;color:var(--text-secondary)\">GCP</span><span>GOOGLE_APPLICATION_CREDENTIALS or gcloud auth application-default login</span><span style=\"font-weight:600;color:var(--text-secondary)\">Azure</span><span>az login or service principal (ARM_CLIENT_ID, ARM_CLIENT_SECRET)</span></div><div style=\"margin-top:0.3rem;font-size:0.73rem\">Never hardcode credentials in .tf files â€” use environment variables or provider-specific auth chains.</div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "â˜ {{name}}",
                                            "content": "Terraform provider {{name}} â€” hover for provider capabilities and resource types.",
                                            "selector": "#wiz-tf-section-providers [style*=\"border-bottom\"]",
                                            "nameSelector": "code"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-modules",
                                        "title": "Modules",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-tf-section-modules",
                                        "content": "Terraform modules â€” reusable infrastructure packages with configurable inputs.",
                                        "expanded": "<div class=\"assistant-state-card state-info\" style=\"margin-bottom:0.5rem\"><div class=\"state-label\">ğŸ“¦ Module Analysis</div><div class=\"state-detail\" style=\"white-space:normal\">Modules package related resources into reusable units. Hover individual modules for source and structure analysis.</div></div><div class=\"assistant-state-card state-info\" style=\"margin-top:0.6rem;margin-bottom:0.4rem\"><div class=\"state-label\">ğŸ“ Module Structure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">source</span><span>where the module code lives (registry, git, local path)</span><span style=\"font-weight:600;color:var(--text-secondary)\">version</span><span>pinned version constraint (e.g. \"~&gt; 3.0\")</span><span style=\"font-weight:600;color:var(--text-secondary)\">inputs</span><span>variables passed into the module</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs</span><span>values exported by the module for use elsewhere</span></div></div></div>",
                                        "dynamic": true,
                                        "childTemplate": {
                                            "title": "ğŸ“¦ {{name}}",
                                            "content": "Module {{name}} â€” hover for source analysis and input/output details.",
                                            "selector": "#wiz-tf-section-modules [style*=\"border-bottom\"]",
                                            "nameSelector": "strong"
                                        },
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-resources",
                                        "title": "Resources",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-tf-section-resources",
                                        "content": "Declared resources grouped by type â€” each maps to a real cloud infrastructure object.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resource Summary</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Resources are grouped by their Terraform type (e.g. aws_instance, google_compute_network). Each chip shows the type and count.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The type name follows the pattern: <code style=\"font-size:0.68rem\">provider_service_object</code>. For example:<br>â€¢ <strong>aws_s3_bucket</strong> = AWS â†’ S3 â†’ Bucket<br>â€¢ <strong>google_compute_instance</strong> = GCP â†’ Compute â†’ Instance<br>â€¢ <strong>azurerm_virtual_network</strong> = Azure â†’ Virtual Network</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Review the distribution to understand your infrastructure footprint â€” heavy concentration in one type may indicate refactoring opportunities via modules.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-backend",
                                        "title": "State Backend",
                                        "icon": "ğŸ’¾",
                                        "selector": "#wiz-tf-section-backend",
                                        "content": "Where Terraform state is stored â€” tracks the mapping between your .tf declarations and real infrastructure.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ State Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform state is critical â€” it's the source of truth for what infrastructure exists. Without state, Terraform can't know what to update or destroy.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.4rem;margin-top:0.3rem;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">local</span><span>terraform.tfstate on disk â€” simple but not collaborative</span><span style=\"font-weight:600;color:var(--text-secondary)\">s3</span><span>S3 bucket + DynamoDB for locking â€” team-safe on AWS</span><span style=\"font-weight:600;color:var(--text-secondary)\">gcs</span><span>Google Cloud Storage â€” team-safe on GCP</span><span style=\"font-weight:600;color:var(--text-secondary)\">azurerm</span><span>Azure Blob Storage â€” team-safe on Azure</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Never commit terraform.tfstate to Git â€” it may contain secrets. Use a remote backend for teams.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-live",
                                        "title": "Live Operations",
                                        "icon": "ğŸ”§",
                                        "selector": "#wiz-tf-section-live",
                                        "content": "Live Terraform operations â€” state inspection, workspace management, config validation, and output viewing.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Live Operations</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“‹ State</span><span>terraform state list â€” shows all managed resources and their addresses</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ—ƒï¸ Workspaces</span><span>terraform workspace list â€” isolated state environments (dev/staging/prod)</span><span style=\"font-weight:600;color:var(--text-secondary)\">âœ… Validate</span><span>terraform validate â€” checks HCL syntax and configuration consistency</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ“§ Outputs</span><span>terraform output â€” shows exported values (IPs, URLs, connection strings)</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">These buttons run the corresponding Terraform commands against your project and display results in the panel below. Requires both terraform CLI and an initialized project.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-section-genconfig",
                                        "title": "Generate Config",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-tf-section-genconfig",
                                        "content": "Quick config scaffolding â€” generates starter main.tf, variables.tf, and outputs.tf with your chosen provider and backend.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Config Generation</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This form generates a minimal but complete Terraform starter:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">main.tf</span><span>provider block + starter resource for the chosen platform</span><span style=\"font-weight:600;color:var(--text-secondary)\">variables.tf</span><span>input variables for region, project name, and common settings</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs.tf</span><span>placeholder output values</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">For projects with modules, multiple providers, or complex environments, use <strong>ğŸš€ Full Terraform Setup</strong> instead â€” it handles multi-environment configs, module scaffolding, and environment-specific variable files.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "tf-field-provider",
                                                "title": "Provider",
                                                "icon": "â˜",
                                                "selector": "#wiz-tf-provider",
                                                "content": "Select a cloud provider for the generated config.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "aws"
                                                        },
                                                        "content": "AWS selected â€” generates provider block for Amazon Web Services.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŸ§ Amazon Web Services</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">1000+ resource types. The most widely used Terraform provider.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>AWS_ACCESS_KEY_ID + AWS_SECRET_ACCESS_KEY or IAM role</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>us-east-1, eu-west-1, ap-southeast-1, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>aws_instance, aws_s3_bucket, aws_lambda_function, aws_ecs_service</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "google"
                                                        },
                                                        "content": "GCP selected â€” generates provider block for Google Cloud Platform.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”µ Google Cloud Platform</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Strong in data, AI/ML, and managed Kubernetes (GKE).</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>GOOGLE_APPLICATION_CREDENTIALS or gcloud auth application-default login</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>us-central1, europe-west1, asia-east1, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>google_compute_instance, google_container_cluster, google_sql_database_instance</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "azurerm"
                                                        },
                                                        "content": "Azure selected â€” generates provider block for Microsoft Azure.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”· Microsoft Azure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Enterprise-focused with strong Active Directory integration.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>az login or service principal (ARM_CLIENT_ID, ARM_CLIENT_SECRET)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>eastus, westeurope, southeastasia, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>azurerm_resource_group, azurerm_virtual_machine, azurerm_kubernetes_cluster</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfProviderValue",
                                                            "equals": "digitalocean"
                                                        },
                                                        "content": "DigitalOcean selected â€” generates provider block for DigitalOcean.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”µ DigitalOcean</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Developer-friendly cloud with simpler API and pricing.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>DIGITALOCEAN_TOKEN â€” API token from cloud.digitalocean.com</span><span style=\"font-weight:600;color:var(--text-secondary)\">Regions</span><span>nyc1, sfo3, lon1, ams3, sgp1, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">Key resources</span><span>digitalocean_droplet, digitalocean_kubernetes_cluster, digitalocean_database_cluster</span></div></div></div>"
                                                    }
                                                ],
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜ Provider Selection</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Select the cloud platform for your generated Terraform config. Each provider determines the available resource types and authentication method.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-region",
                                                "title": "Region",
                                                "icon": "ğŸŒ",
                                                "selector": "#wiz-tf-region",
                                                "content": "The cloud region â€” where infrastructure will be physically located.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Region</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The region sets the physical datacenter location for your resources. Choose based on:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ <strong>Latency</strong> â€” closest to your users<br>â€¢ <strong>Compliance</strong> â€” data residency requirements (GDPR, etc.)<br>â€¢ <strong>Cost</strong> â€” some regions are cheaper<br>â€¢ <strong>Services</strong> â€” not all services available in all regions</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Common: us-east-1 (AWS Virginia), us-central1 (GCP Iowa), eastus (Azure).</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-project",
                                                "title": "Project Name",
                                                "icon": "ğŸ·ï¸",
                                                "selector": "#wiz-tf-project",
                                                "content": "The project name â€” used in resource naming, tagging, and state file identification.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ Project Name</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Used as a prefix or tag for generated resources. Helps identify which project owns which infrastructure in shared accounts.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Conventions: lowercase, hyphens, max 20 characters. Example: my-api, payment-svc, infra-core.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-backend",
                                                "title": "State Backend",
                                                "icon": "ğŸ’¾",
                                                "selector": "#wiz-tf-backend",
                                                "content": "Where Terraform state will be stored.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "local"
                                                        },
                                                        "content": "Local backend selected â€” state stored in terraform.tfstate on disk.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Local Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State is stored in a local terraform.tfstate file. Simple and zero-setup.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Not suitable for teams â€” no locking, no remote access, risk of state loss.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Never commit terraform.tfstate to Git â€” it may contain secrets.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "s3"
                                                        },
                                                        "content": "S3 backend selected â€” state stored in AWS S3 with DynamoDB locking.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ S3 Backend (AWS)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State stored in an S3 bucket with optional DynamoDB table for state locking.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Bucket</span><span>S3 bucket with versioning enabled</span><span style=\"font-weight:600;color:var(--text-secondary)\">Locking</span><span>DynamoDB table for state locking (prevents concurrent applies)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Encryption</span><span>Enable server-side encryption (SSE-S3 or SSE-KMS)</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "gcs"
                                                        },
                                                        "content": "GCS backend selected â€” state stored in Google Cloud Storage.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ GCS Backend (GCP)</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State stored in a Google Cloud Storage bucket with built-in locking.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Bucket</span><span>GCS bucket with versioning enabled</span><span style=\"font-weight:600;color:var(--text-secondary)\">Locking</span><span>Built-in â€” GCS provides native state locking</span><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>GOOGLE_APPLICATION_CREDENTIALS or gcloud auth</span></div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "resolver": "tfBackendValue",
                                                            "equals": "azurerm"
                                                        },
                                                        "content": "Azure backend selected â€” state stored in Azure Blob Storage.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Azure Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">State stored in Azure Blob Storage with built-in locking via blob lease.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Account</span><span>Azure Storage Account</span><span style=\"font-weight:600;color:var(--text-secondary)\">Container</span><span>Blob container for state files</span><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>ARM_ACCESS_KEY or az login</span></div></div></div>"
                                                    }
                                                ],
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ State Backend</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Select where Terraform state will be stored. Each backend type determines how state is persisted and shared.</div></div></div>",
                                                "children": []
                                            },
                                            {
                                                "id": "tf-field-overwrite",
                                                "title": "Overwrite",
                                                "icon": "âš ",
                                                "selector": "#wiz-tf-overwrite",
                                                "content": "Whether to overwrite existing .tf files â€” only shown when config already exists.",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "tf-section-fullsetup",
                                        "title": "Full Terraform Setup",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-tf-section-fullsetup",
                                        "content": "Full multi-step Terraform wizard â€” provider selection, backend configuration, resource definitions, environment management, and HCL editing.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full Terraform Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The full setup wizard provides comprehensive IaC configuration beyond the basic starter. It covers:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Multi-provider configuration with version constraints</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Remote backend setup with locking</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Resource scaffolding with best-practice defaults</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Module integration from the Terraform Registry</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Environment-specific variable files (dev.tfvars, prod.tfvars)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Workspace configuration for state isolation</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Live HCL preview and editing</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this when your project has multiple providers, needs environment separation, or requires production-grade configurations with modules and remote state.</div></div></div>",
                                        "children": [
                                            {
                                                "id": "tf-fullsetup-pill-cli",
                                                "title": "Terraform CLI",
                                                "icon": "ğŸ—ï¸",
                                                "selector": "#wiz-tf-fullsetup-pill-cli",
                                                "content": "Terraform CLI availability.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ terraform"
                                                        },
                                                        "content": "Terraform is installed â€” the full setup wizard can use all CLI features.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ CLI Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform CLI is available. The full setup can run init, validate, and preview generated configs.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no terraform"
                                                        },
                                                        "content": "Terraform CLI is missing â€” the full setup will generate files but can't validate or init them.",
                                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—ï¸ CLI Â· missing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform CLI is not installed. The full setup can still generate .tf files, but you'll need to install terraform before you can init, plan, or apply.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-resources",
                                                "title": "Resources",
                                                "icon": "ğŸ“¦",
                                                "selector": "#wiz-tf-fullsetup-pill-resources",
                                                "content": "Existing resources.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Resources already exist â€” the full setup will extend or restructure your existing infrastructure declarations.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Resources Â· existing</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project already has resource declarations. The full setup will work alongside them â€” adding new resources, reorganizing into modules, or extending with environment-specific configs.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ will create"
                                                        },
                                                        "content": "No resources yet â€” the full setup will scaffold resource definitions from scratch.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Resources Â· will create</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No resources exist yet. The full setup wizard will generate resource scaffolding based on your chosen provider, including best-practice defaults for common infrastructure patterns.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-providers",
                                                "title": "Providers",
                                                "icon": "â˜",
                                                "selector": "#wiz-tf-fullsetup-pill-providers",
                                                "content": "Provider configuration.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Providers already configured â€” the full setup can add new ones or reconfigure existing providers.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜ Providers Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project has provider blocks. The full setup can add additional providers (multi-cloud) or update version constraints on existing ones.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no providers"
                                                        },
                                                        "content": "No providers configured yet â€” the full setup will create provider blocks for your chosen platform.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜ Providers Â· will configure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No provider blocks exist. The full setup will generate provider configuration with version constraints and authentication setup for your chosen cloud platform.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-initialized",
                                                "title": "Initialized",
                                                "icon": "ğŸ”„",
                                                "selector": "#wiz-tf-fullsetup-pill-initialized",
                                                "content": "Initialization state.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“ initialized"
                                                        },
                                                        "content": "Already initialized â€” providers and backend are configured. The full setup may require re-running init after changes.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”„ Initialized Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has been run. After the full setup generates new configs, you may need to re-run <code>terraform init</code> to download any new providers or modules.</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ not initialized"
                                                        },
                                                        "content": "Not initialized â€” after the full setup generates configs, you'll need to run terraform init.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Not Initialized</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">terraform init has not been run. After the full setup wizard generates your configs, run <code>terraform init</code> to download providers and configure the backend.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            },
                                            {
                                                "id": "tf-fullsetup-pill-backend",
                                                "title": "Backend",
                                                "icon": "ğŸ’¾",
                                                "selector": "#wiz-tf-fullsetup-pill-backend",
                                                "content": "State backend.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "textContains": "âœ“"
                                                        },
                                                        "content": "Backend is configured â€” state storage and locking are set up.",
                                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ’¾ Backend Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A state backend is already configured. The full setup can migrate to a different backend type if needed (terraform init -migrate-state).</div></div></div>"
                                                    },
                                                    {
                                                        "when": {
                                                            "textContains": "â—‹ no backend"
                                                        },
                                                        "content": "No backend configured â€” the full setup will help you choose between local and remote state storage.",
                                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Backend Â· will configure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No backend configured. The full setup wizard will help you choose a state backend (local, S3, GCS, or Azure Blob) and generate the backend configuration block.</div></div></div>"
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "tf-section-delete",
                                        "title": "Delete Config",
                                        "icon": "ğŸ—‘",
                                        "selector": "#wiz-tf-section-delete",
                                        "content": "Remove generated Terraform configuration files from your project. Does not affect deployed infrastructure.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ—‘ Delete Terraform Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes .tf files that were generated by the control plane.</div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will delete:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">terraform/ or *.tf</span><span>generated HCL configuration files</span></div><div style=\"margin-bottom:0.3rem;font-size:0.75rem\">This will NOT:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Destroy any deployed infrastructure</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Delete terraform.tfstate (state file)</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Touch .terraform/ directory (provider cache)</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">After deletion, you can regenerate configs at any time. Deployed infrastructure continues running until explicitly destroyed with terraform destroy.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-apply",
                                        "title": "Apply",
                                        "icon": "âœ…",
                                        "selector": "#wiz-apply-terraform",
                                        "content": "Generate Terraform configuration files with the settings from the config form above.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply Terraform Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates Terraform configuration files based on the form values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">main.tf</span><span>provider configuration + starter resource for the chosen platform</span><span style=\"font-weight:600;color:var(--text-secondary)\">variables.tf</span><span>input variables for region, project name, and common settings</span><span style=\"font-weight:600;color:var(--text-secondary)\">outputs.tf</span><span>placeholder output values ready to be populated</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Files are created in the terraform/ directory. After generation, run terraform init to download providers, then terraform plan to preview.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "tf-cancel",
                                        "title": "Cancel",
                                        "icon": "âœ–",
                                        "selector": "#wiz-cancel-terraform",
                                        "content": "Close the Terraform setup panel without generating any files. No changes are made.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the Terraform setup panel without generating any files or modifying any existing configuration.<br><br>Reopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and detection.</div></div>",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "dns-cdn-card",
                        "title": "DNS & CDN",
                        "icon": "ğŸŒ",
                        "selector": "#wiz-int-wrap-dns",
                        "content": "Domain name system and content delivery network configuration â€” domains, DNS records, CDN providers, and SSL certificates.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ DNS & CDN Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel manages your project's DNS and CDN configuration. It covers:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">DNS</span><span>zone files, A/AAAA/CNAME/MX/TXT records for your domains</span><span style=\"font-weight:600;color:var(--text-secondary)\">CDN</span><span>content delivery providers â€” Cloudflare, AWS CloudFront, Fastly, etc.</span><span style=\"font-weight:600;color:var(--text-secondary)\">SSL</span><span>TLS certificates â€” auto-detected from project files</span><span style=\"font-weight:600;color:var(--text-secondary)\">Mail</span><span>SPF, DKIM, DMARC records for email deliverability</span><span style=\"font-weight:600;color:var(--text-secondary)\">Live Tools</span><span>DNS lookup and SSL check directly from the panel</span></div></div></div>",
                        "children": [
                            {
                                "id": "dns-section-status",
                                "title": "Status",
                                "icon": "ğŸ“Š",
                                "selector": "#wiz-dns-section-status",
                                "content": "DNS & CDN status overview â€” quick summary of your current configuration state.",
                                "children": [
                                    {
                                        "id": "dns-pill-dns",
                                        "title": "DNS Status",
                                        "icon": "ğŸŒ",
                                        "selector": "#wiz-dns-pill-dns",
                                        "content": "DNS configuration status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ DNS configured"
                                                },
                                                "content": "DNS configuration is present â€” zone files and records are defined.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŒ DNS Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">DNS configuration detected. Your project has zone files with record definitions. Use the DNS Lookup tool below to verify records resolve correctly.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">To modify records, regenerate the config or edit the zone files directly in your dns/ directory.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no DNS"
                                                },
                                                "content": "No DNS configuration found â€” generate one with the form below.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ DNS Â· not configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No DNS configuration detected. Use the Generate DNS Config form below to create zone files and record definitions for your domain.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The generator creates A, CNAME, MX, TXT (SPF/DMARC) records based on your domain and mail provider selection.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-pill-cdn",
                                        "title": "CDN Status",
                                        "icon": "âš¡",
                                        "selector": "#wiz-dns-pill-cdn",
                                        "content": "CDN provider detection status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ CDN"
                                                },
                                                "content": "CDN provider detected â€” content delivery is configured for your project.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš¡ CDN Â· detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A CDN provider configuration was found. CDN accelerates content delivery by caching static assets at edge locations worldwide.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Full Setup wizard can configure advanced CDN settings including cache rules, origin configuration, and WAF integration.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no CDN"
                                                },
                                                "content": "No CDN detected â€” optional, configure via Full Setup for edge caching.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ CDN Â· not detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No CDN configuration found. A CDN is optional but recommended for production sites.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Benefits: faster page loads, DDoS protection, SSL termination, global edge caching. Use the Full Setup wizard to configure one.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-pill-domains",
                                        "title": "Domains",
                                        "icon": "ğŸ”—",
                                        "selector": "#wiz-dns-pill-domains",
                                        "content": "Domain detection status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“"
                                                },
                                                "content": "Domain(s) detected in your project configuration.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”— Domains Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">One or more domains are referenced in your project. These are used for DNS record generation, SSL certificate configuration, and CDN origin setup.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no domains"
                                                },
                                                "content": "No domains detected â€” enter your domain in the config form below.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Domains Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No domains detected in project files. Enter your primary domain (e.g., example.com) in the Generate Config form to create DNS records.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-pill-files",
                                        "title": "DNS Files",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-dns-pill-files",
                                        "content": "DNS file detection status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“"
                                                },
                                                "content": "DNS configuration files found in your project.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Files Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">DNS configuration files detected. These contain zone definitions and record entries. Expand the DNS Files section below to see individual files.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no files"
                                                },
                                                "content": "No DNS files found â€” generate them with the config form.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Files Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No DNS configuration files found. Use Generate DNS Config to create zone files with A, CNAME, MX, and TXT records for your domain.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-pill-certs",
                                        "title": "SSL Certificates",
                                        "icon": "ğŸ”’",
                                        "selector": "#wiz-dns-pill-certs",
                                        "content": "SSL certificate detection status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“"
                                                },
                                                "content": "SSL certificates detected in your project.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”’ SSL Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">SSL/TLS certificates detected. These are used for HTTPS encryption. Use the SSL Check tool below to verify certificate validity and expiration.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  Never commit private keys to git. Ensure .gitignore covers *.key and *.pem files.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no certs"
                                                },
                                                "content": "No SSL certificates found â€” most modern setups use auto-provisioned certs (Let's Encrypt, ACM).",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ SSL Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No SSL certificates found in the project. This is normal â€” most production setups use auto-provisioned certificates:</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">â€¢ <strong>Let's Encrypt</strong> â€” free, auto-renewed via certbot or ACME clients<br>â€¢ <strong>AWS ACM</strong> â€” free certs for CloudFront and ALB<br>â€¢ <strong>Cloudflare</strong> â€” automatic SSL for proxied domains</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-pill-config",
                                        "title": "Config Status",
                                        "icon": "âš™",
                                        "selector": "#wiz-dns-pill-config",
                                        "content": "Overall DNS config detection.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ config found"
                                                },
                                                "content": "DNS configuration exists â€” you can regenerate or modify it.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš™ Config Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A generated DNS configuration exists. You can regenerate it with different settings (enable Overwrite) or edit the files directly.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no config"
                                                },
                                                "content": "No generated config â€” use the form below to create one.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ Config Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No generated DNS configuration found. Fill in the form below with your domain and mail provider, then click Apply to generate DNS record files.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "dns-section-live",
                                "title": "Live Tools",
                                "icon": "ğŸ”§",
                                "selector": "#wiz-dns-section-live",
                                "content": "Live DNS and SSL diagnostic tools â€” query DNS records and check certificate status in real-time.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Live DNS Tools</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Interactive diagnostic tools that query live infrastructure. Results appear in the panel below the buttons.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">These tools require <strong>dig</strong> (DNS lookup) and <strong>openssl</strong> (SSL check) to be installed on the server. If they're missing, the Missing Tools banner above will indicate which ones.</div></div></div>",
                                "children": [
                                    {
                                        "id": "dns-btn-lookup",
                                        "title": "DNS Lookup",
                                        "icon": "ğŸ”",
                                        "selector": "#wiz-dns-btn-lookup",
                                        "content": "Query live DNS records for your domain â€” A, AAAA, CNAME, MX, TXT, NS records.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” DNS Lookup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs <code>dig</code> against public DNS servers to resolve records for your domain. Shows:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">A / AAAA</span><span>IPv4 and IPv6 addresses the domain points to</span><span style=\"font-weight:600;color:var(--text-secondary)\">CNAME</span><span>alias records (e.g., www â†’ apex)</span><span style=\"font-weight:600;color:var(--text-secondary)\">MX</span><span>mail server routing with priorities</span><span style=\"font-weight:600;color:var(--text-secondary)\">TXT</span><span>SPF, DMARC, domain verification entries</span><span style=\"font-weight:600;color:var(--text-secondary)\">NS</span><span>authoritative nameservers for the zone</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Use this to verify your DNS configuration is live and propagated after making changes at your registrar.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dns-btn-ssl",
                                        "title": "SSL Check",
                                        "icon": "ğŸ”’",
                                        "selector": "#wiz-dns-btn-ssl",
                                        "content": "Check SSL/TLS certificate validity, expiration, and chain for your domain.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ SSL Certificate Check</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Connects to your domain via <code>openssl s_client</code> and inspects the TLS certificate. Reports:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Issuer</span><span>who issued the cert (Let's Encrypt, DigiCert, Cloudflare, etc.)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Validity</span><span>not-before and not-after dates</span><span style=\"font-weight:600;color:var(--text-secondary)\">Subject</span><span>domain(s) the cert covers (CN + SANs)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Chain</span><span>intermediate and root CA verification</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Useful for verifying HTTPS is working, checking expiration dates, and confirming the correct certificate is served.</div></div></div>",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "dns-section-config",
                                "title": "Generate DNS Config",
                                "icon": "ğŸ“",
                                "content": "Generate DNS zone files and record definitions for your domain.",
                                "children": [
                                    {
                                        "id": "dns-field-domain",
                                        "title": "Domain",
                                        "icon": "ğŸŒ",
                                        "selector": "#wiz-dns-domain",
                                        "content": "Your primary domain name for DNS record generation.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Domain</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The root domain for all generated DNS records. Enter the apex domain (e.g., example.com), not a subdomain.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generated records will include:<br>â€¢ <strong>A record</strong> â€” points domain to your server IP<br>â€¢ <strong>CNAME</strong> â€” www subdomain alias<br>â€¢ <strong>MX</strong> â€” mail routing (if mail provider selected)<br>â€¢ <strong>TXT</strong> â€” SPF, DMARC verification records</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dns-field-mail",
                                        "title": "Mail Provider",
                                        "icon": "ğŸ“§",
                                        "selector": "#wiz-dns-mail",
                                        "content": "Mail provider for MX record generation.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "resolver": "dnsMailValue",
                                                    "equals": "none"
                                                },
                                                "content": "No mail provider â€” MX records will not be generated.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“§ No Mail Provider</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No mail provider selected. No MX records will be generated. Select a provider if you need email on this domain.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "dnsMailValue",
                                                    "equals": "google"
                                                },
                                                "content": "Google Workspace selected â€” generates MX records for Gmail.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“§ Google Workspace</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates MX records pointing to Google's mail servers (ASPMX.L.GOOGLE.COM and alternates).</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 1</span><span>ASPMX.L.GOOGLE.COM</span><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 5</span><span>ALT1.ASPMX.L.GOOGLE.COM, ALT2.ASPMX.L.GOOGLE.COM</span></div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "dnsMailValue",
                                                    "equals": "protonmail"
                                                },
                                                "content": "ProtonMail selected â€” generates MX records for Proton Mail.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“§ ProtonMail</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates MX records pointing to Proton Mail servers. ProtonMail provides end-to-end encrypted email.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 10</span><span>mail.protonmail.ch</span><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 20</span><span>mailsec.protonmail.ch</span></div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "dnsMailValue",
                                                    "equals": "fastmail"
                                                },
                                                "content": "Fastmail selected â€” generates MX records for Fastmail.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“§ Fastmail</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates MX records pointing to Fastmail servers. Known for privacy, standards compliance, and calendar/contacts support.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 10</span><span>in1-smtp.messagingengine.com</span><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 20</span><span>in2-smtp.messagingengine.com</span></div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "dnsMailValue",
                                                    "equals": "zoho"
                                                },
                                                "content": "Zoho Mail selected â€” generates MX records for Zoho.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“§ Zoho Mail</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates MX records pointing to Zoho's mail servers. Zoho offers a free tier for up to 5 users.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 10</span><span>mx.zoho.com</span><span style=\"font-weight:600;color:var(--text-secondary)\">Priority 20</span><span>mx2.zoho.com</span></div></div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“§ Mail Provider</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Select the email provider for this domain to generate the correct MX records. Choose 'none' if you don't need email on this domain.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dns-field-spf",
                                        "title": "SPF Record",
                                        "icon": "ğŸ›¡",
                                        "selector": "#wiz-dns-spf",
                                        "content": "Include an SPF TXT record â€” prevents email spoofing by declaring authorized senders.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ›¡ SPF Record</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Sender Policy Framework â€” a DNS TXT record that lists which mail servers are authorized to send email for your domain.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Without SPF, your domain is vulnerable to email spoofing. Most mail providers require SPF for deliverability.</div><div style=\"margin:0.3rem 0;font-size:0.73rem\">Example: <code>v=spf1 include:_spf.google.com ~all</code></div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dns-field-dmarc",
                                        "title": "DMARC Record",
                                        "icon": "ğŸ›¡",
                                        "selector": "#wiz-dns-dmarc",
                                        "content": "Include a DMARC TXT record â€” tells receivers how to handle unauthenticated email.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ›¡ DMARC Record</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Domain-based Message Authentication â€” builds on SPF and DKIM to tell receiving servers what to do with emails that fail authentication checks.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Policies: <strong>none</strong> (monitor only), <strong>quarantine</strong> (flag as spam), <strong>reject</strong> (block entirely).</div><div style=\"margin:0.3rem 0;font-size:0.73rem\">Example: <code>v=DMARC1; p=quarantine; rua=mailto:dmarc@example.com</code></div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dns-field-overwrite",
                                        "title": "Overwrite",
                                        "icon": "âš ",
                                        "selector": "#wiz-dns-overwrite",
                                        "content": "Whether to overwrite existing DNS config files â€” only shown when config already exists.",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "dns-section-fullsetup",
                                "title": "Full DNS & CDN Setup",
                                "icon": "ğŸš€",
                                "selector": "#wiz-dns-section-fullsetup",
                                "content": "Full multi-step DNS & CDN wizard â€” domain management, CDN provider selection, SSL certificates, traffic routing, and Terraform DNS resources.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Full DNS & CDN Setup</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The full setup wizard provides comprehensive DNS and CDN configuration beyond basic record generation:</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Multi-domain management</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ CDN provider selection and configuration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ SSL certificate management</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Traffic routing and proxy configuration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ K8s ingress integration</div><div style=\"margin:0.15rem 0;font-size:0.75rem;color:var(--text-secondary)\">âœ“ Terraform DNS resource generation</div></div></div>",
                                "children": [
                                    {
                                        "id": "dns-fullsetup-pill-dns",
                                        "title": "DNS",
                                        "icon": "ğŸŒ",
                                        "selector": "#wiz-dns-fullsetup-pill-dns",
                                        "content": "DNS configuration readiness for full setup.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ DNS configured"
                                                },
                                                "content": "DNS is already configured â€” the full setup can extend or modify existing records.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŒ DNS Â· ready</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">DNS configuration exists. The full setup wizard will build on top of your existing records, adding CDN, SSL, and advanced routing configuration.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ will create"
                                                },
                                                "content": "No DNS config yet â€” the full setup will create one from scratch.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ DNS Â· will create</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No existing DNS configuration. The full setup wizard will create a complete DNS setup including zones, records, and optional CDN/SSL integration.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-fullsetup-pill-cdn",
                                        "title": "CDN",
                                        "icon": "âš¡",
                                        "selector": "#wiz-dns-fullsetup-pill-cdn",
                                        "content": "CDN provider readiness for full setup.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ CDN"
                                                },
                                                "content": "CDN provider detected â€” the full setup can configure advanced CDN settings.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš¡ CDN Â· detected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">CDN provider found. The full setup wizard can configure cache policies, origin settings, SSL termination, and WAF rules for your provider.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no CDN"
                                                },
                                                "content": "No CDN detected â€” the full setup can help you choose and configure one.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ CDN Â· will configure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No CDN provider detected. The full setup wizard will help you choose a CDN provider (Cloudflare, CloudFront, Fastly, etc.) and generate the configuration.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-fullsetup-pill-domains",
                                        "title": "Domains",
                                        "icon": "ğŸ”—",
                                        "selector": "#wiz-dns-fullsetup-pill-domains",
                                        "content": "Domain readiness for full setup.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“"
                                                },
                                                "content": "Domains detected â€” the full setup will use these as starting points.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”— Domains Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Domains are already known. The full setup wizard will pre-populate domain fields and allow you to add more domains for multi-domain configurations.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no domains"
                                                },
                                                "content": "No domains detected â€” you'll enter domains during full setup.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Domains Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No domains detected. The full setup wizard will prompt you to enter your domains and configure records for each one.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "dns-fullsetup-pill-certs",
                                        "title": "SSL Certs",
                                        "icon": "ğŸ”’",
                                        "selector": "#wiz-dns-fullsetup-pill-certs",
                                        "content": "SSL certificate readiness for full setup.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ SSL certs"
                                                },
                                                "content": "SSL certificates found â€” the full setup can integrate them with CDN and ingress.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”’ SSL Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">SSL certificates detected. The full setup wizard can configure these for CDN SSL termination, K8s ingress TLS, and reverse proxy HTTPS.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no certs"
                                                },
                                                "content": "No SSL certs â€” the full setup can configure auto-provisioning (Let's Encrypt, ACM).",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ SSL Â· will configure</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No SSL certificates found. The full setup wizard can configure automatic certificate provisioning via Let's Encrypt, AWS ACM, or your CDN provider's built-in SSL.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "dns-apply",
                                "title": "Apply",
                                "icon": "âœ…",
                                "selector": "#wiz-apply-dns",
                                "content": "Generate DNS configuration files with the settings from the config form above.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply DNS Config</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Clicking Apply generates DNS zone files and record definitions based on the form values:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Zone file</span><span>BIND-format zone with SOA, NS, A, CNAME records</span><span style=\"font-weight:600;color:var(--text-secondary)\">MX records</span><span>Mail routing for your selected provider</span><span style=\"font-weight:600;color:var(--text-secondary)\">TXT records</span><span>SPF and DMARC entries for email authentication</span></div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Files are created in the dns/ directory. After generation, configure these records with your domain registrar or DNS provider.</div></div></div>",
                                "children": []
                            },
                            {
                                "id": "dns-cancel",
                                "title": "Cancel",
                                "icon": "âœ–",
                                "selector": "#wiz-cancel-dns",
                                "content": "Close the DNS setup panel without generating any files. No changes are made.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the DNS setup panel without generating any files or modifying any existing configuration.<br><br>Reopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state and detection.</div></div>",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "cicd-card",
                        "title": "CI/CD",
                        "icon": "ğŸ”„",
                        "selector": "#wiz-int-wrap-ci",
                        "content": "Continuous integration and delivery â€” GitHub Actions workflow generation, pipeline composition, and cross-integration orchestration.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ CI/CD Pipeline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This panel manages CI/CD workflow generation for your project. It detects your stack, integrations, and environment configuration to produce GitHub Actions workflows.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Basic</span><span>single workflow â€” test + lint for your detected stack</span><span style=\"font-weight:600;color:var(--text-secondary)\">Compose</span><span>full pipeline â€” Docker build, K8s deploy, Terraform, multi-env</span><span style=\"font-weight:600;color:var(--text-secondary)\">Connections</span><span>integration surface â€” what your CI pipeline can orchestrate</span></div></div></div>",
                        "children": [
                            {
                                "id": "ci-section-status",
                                "title": "Status Strip",
                                "icon": "ğŸ“Š",
                                "selector": "#wiz-ci-section-status",
                                "content": "CI/CD status overview â€” workflows, GitHub authentication, and repository info.",
                                "children": [
                                    {
                                        "id": "ci-pill-workflows",
                                        "title": "Workflows",
                                        "icon": "ğŸ“‹",
                                        "selector": "#wiz-ci-pill-workflows",
                                        "content": "CI workflow detection status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“"
                                                },
                                                "content": "CI workflows detected â€” your project has GitHub Actions workflow files.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‹ Workflows Â· found</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Existing CI/CD workflow files detected in <code>.github/workflows/</code>. Use Regenerate Basic Workflow (with Overwrite) to replace them, or Compose Full Pipeline to generate a more comprehensive setup.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no workflows"
                                                },
                                                "content": "No CI workflows found â€” generate one with the form below.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Workflows Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No CI/CD workflows found. Use Generate Basic Workflow for a simple test + lint pipeline, or Compose Full Pipeline to build a complete CI/CD setup from your detected integrations.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-pill-ghauth",
                                        "title": "GitHub Auth",
                                        "icon": "ğŸ™",
                                        "selector": "#wiz-ci-pill-ghauth",
                                        "content": "GitHub CLI authentication status.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ gh auth"
                                                },
                                                "content": "GitHub CLI is authenticated â€” secrets, environments, and repo operations are available.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ™ GitHub Â· authenticated</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">GitHub CLI (<code>gh</code>) is authenticated. This enables:<br>â€¢ Repository secret management<br>â€¢ Environment creation and configuration<br>â€¢ Workflow dispatch and status checks<br>â€¢ Pull request and issue automation</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "âš  gh not auth"
                                                },
                                                "content": "GitHub CLI not authenticated â€” run 'gh auth login' to enable repository operations.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ™ GitHub Â· not authenticated</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">GitHub CLI is not authenticated. Some features require authentication:<br>â€¢ Secret management requires <code>gh auth login</code><br>â€¢ Environment creation needs repo access<br><br>Workflow file generation still works without auth â€” files are created locally.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-pill-repo",
                                        "title": "Repository",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-ci-pill-repo",
                                        "content": "GitHub repository slug â€” identifies your repo for workflow configuration.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Repository</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The GitHub repository slug (org/repo) detected from your git remote. This is used for container registry paths (ghcr.io/org/repo), workflow badge URLs, and environment references.</div></div></div>",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "ci-section-connections",
                                "title": "Pipeline Connections",
                                "icon": "ğŸ”Œ",
                                "content": "Integration surface dashboard â€” shows which integrations your CI pipeline can orchestrate.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”Œ Pipeline Connections</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each row shows an integration that can be wired into your CI/CD pipeline. Green pills mean the integration is detected and can generate pipeline steps. Grey pills mean the integration is not present â€” those steps will be skipped.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">The Compose Full Pipeline wizard reads all connections to build a coordinated multi-job workflow.</div></div></div>",
                                "children": [
                                    {
                                        "id": "ci-conn-git",
                                        "title": "Git",
                                        "icon": "ğŸ”€",
                                        "selector": "#wiz-ci-conn-git",
                                        "content": "Git repository connection â€” provides trigger events and branch filtering for CI workflows.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ repo"
                                                },
                                                "content": "Git repo detected â€” workflows will trigger on push/PR to configured branches.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”€ Git Â· connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Git repository detected. Workflows trigger on:<br>â€¢ <strong>push</strong> to configured branches (main, master, etc.)<br>â€¢ <strong>pull_request</strong> targeting those branches<br>â€¢ Branch filter is configurable in the Basic Workflow form.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no git"
                                                },
                                                "content": "No Git repo â€” workflows can still be generated but won't have trigger context.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”€ Git Â· not connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Git repository detected. Workflow files can still be generated, but they won't have automatic push/PR trigger context until the project is initialized as a Git repo.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-github",
                                        "title": "GitHub",
                                        "icon": "ğŸ™",
                                        "selector": "#wiz-ci-conn-github",
                                        "content": "GitHub platform connection â€” Actions runner, secrets, environments, and repo visibility.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ auth"
                                                },
                                                "content": "GitHub authenticated â€” full access to Actions, secrets, and environment management.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ™ GitHub Â· connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">GitHub CLI authenticated. Your pipeline can leverage:<br>â€¢ <strong>GitHub Actions</strong> â€” cloud CI runners<br>â€¢ <strong>Secrets</strong> â€” secure variable injection<br>â€¢ <strong>Environments</strong> â€” deployment targets with protection rules<br>â€¢ <strong>GHCR</strong> â€” GitHub Container Registry for Docker images</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ no auth"
                                                },
                                                "content": "GitHub not authenticated â€” workflow files generated locally, but secret/env management unavailable.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ™ GitHub Â· not connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">GitHub CLI not authenticated. Workflow files will still be generated locally, but you won't be able to manage secrets or environments through the wizard. Run <code>gh auth login</code> to connect.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-stacks",
                                        "title": "Stacks",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-ci-conn-stacks",
                                        "content": "Detected language stacks â€” determines test, lint, and build commands for the pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "â—‹ none"
                                                },
                                                "content": "No language stacks detected â€” test/lint commands will need manual configuration.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Stacks Â· none</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No language stacks detected. The Basic Workflow form fields will be empty â€” you'll need to manually specify the language version, install command, and test command.</div></div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Detected Stacks</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Your project's language stacks were auto-detected. Each stack provides default commands for:<br>â€¢ <strong>Install</strong> â€” dependency installation (pip install, npm install, etc.)<br>â€¢ <strong>Test</strong> â€” test suite runner (pytest, npm test, etc.)<br>â€¢ <strong>Lint</strong> â€” code quality checks (flake8, eslint, etc.)<br>These defaults pre-populate the workflow form fields.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-docker",
                                        "title": "Docker",
                                        "icon": "ğŸ³",
                                        "selector": "#wiz-ci-conn-docker",
                                        "content": "Docker integration â€” enables container image build and registry push steps in the pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ detected"
                                                },
                                                "content": "Docker detected â€” pipeline can include image build + registry push steps.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ³ Docker Â· connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker configuration detected. The Compose Full Pipeline can include:<br>â€¢ <strong>Build</strong> â€” docker build from your Dockerfile<br>â€¢ <strong>Push</strong> â€” push to configured registry (GHCR, DockerHub, etc.)<br>â€¢ <strong>Scan</strong> â€” optional vulnerability scanning<br>â€¢ Image tags auto-generated from branch/tag/SHA.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ not found"
                                                },
                                                "content": "No Docker config â€” Docker build/push steps will be omitted from composed pipelines.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Docker Â· not connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Dockerfile or Docker configuration detected. Docker build and push steps will not be included in composed pipelines. Set up Docker integration first if you need containerized deployments.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-k8s",
                                        "title": "Kubernetes",
                                        "icon": "â˜¸ï¸",
                                        "selector": "#wiz-ci-conn-k8s",
                                        "content": "Kubernetes integration â€” enables deployment steps in the pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ detected"
                                                },
                                                "content": "Kubernetes detected â€” pipeline can include deploy steps via kubectl, helm, or skaffold.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Kubernetes manifests detected. The Compose Full Pipeline can include:<br>â€¢ <strong>kubectl apply</strong> â€” direct manifest deployment<br>â€¢ <strong>helm upgrade</strong> â€” Helm chart release<br>â€¢ <strong>skaffold</strong> â€” dev-loop and deployment<br>Deploy method is selectable in the compose form.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ not found"
                                                },
                                                "content": "No Kubernetes manifests â€” K8s deploy steps will be omitted from composed pipelines.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Kubernetes Â· not connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Kubernetes manifests or configuration detected. K8s deployment steps will not be included in composed pipelines. Set up the K8s integration first if you need cluster deployments.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-terraform",
                                        "title": "Terraform",
                                        "icon": "ğŸ—ï¸",
                                        "selector": "#wiz-ci-conn-terraform",
                                        "content": "Terraform integration â€” enables infrastructure provisioning steps in the pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ detected"
                                                },
                                                "content": "Terraform detected â€” pipeline can include plan + apply infrastructure steps.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform configuration detected. The Compose Full Pipeline can include:<br>â€¢ <strong>terraform plan</strong> â€” preview infrastructure changes<br>â€¢ <strong>terraform apply</strong> â€” provision infrastructure<br>â€¢ Runs before deployment steps to ensure infra is ready.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ not found"
                                                },
                                                "content": "No Terraform config â€” infrastructure provisioning steps will be omitted.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· not connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Terraform configuration detected. Infrastructure provisioning steps will not be included in composed pipelines. Set up Terraform integration first if you need IaC in your CI/CD.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-envs",
                                        "title": "Environments",
                                        "icon": "âš™ï¸",
                                        "selector": "#wiz-ci-conn-envs",
                                        "content": "Environment configuration â€” multi-environment deployments with approval gates and secrets.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“"
                                                },
                                                "content": "Multiple environments detected â€” pipeline can generate per-environment deployment jobs.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš™ï¸ Environments Â· configured</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Multiple environments detected. The Compose Full Pipeline can generate:<br>â€¢ Per-environment deployment jobs with matrix strategy<br>â€¢ GitHub environment protection rules<br>â€¢ Environment-scoped secrets (e.g., staging vs production credentials)<br>â€¢ Sequential deployment with approval gates</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ single"
                                                },
                                                "content": "Single environment â€” pipeline deploys to one target without environment matrix.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ Environments Â· single</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No multi-environment configuration detected. Pipeline will deploy to a single target. To enable staged deployments (dev â†’ staging â†’ production), configure environments in the wizard.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-conn-pages",
                                        "title": "Pages",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-ci-conn-pages",
                                        "content": "Pages integration â€” site build and deploy steps for documentation or static sites.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ detected"
                                                },
                                                "content": "Pages detected â€” pipeline can include site build + deploy steps.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Pages Â· connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pages/documentation site detected. The Compose Full Pipeline can include a site build and deployment step (e.g., GitHub Pages deploy action).</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ not found"
                                                },
                                                "content": "No Pages site â€” site build/deploy steps will be omitted.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Pages Â· not connected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No documentation or static site configuration detected. Pages deploy steps will not be included in composed pipelines.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "ci-section-basic",
                                "title": "Generate Basic Workflow",
                                "icon": "ğŸ“",
                                "content": "Generate a single GitHub Actions workflow with test + lint jobs for your detected stack.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Basic Workflow</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates a single <code>.github/workflows/ci.yml</code> file with test and optional lint jobs. Stack-aware defaults auto-populate the form based on your detected language.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">âš  If your project has Docker, K8s, or other integrations, use <strong>Compose Full Pipeline</strong> instead â€” the basic workflow only covers test + lint.</div></div></div>",
                                "children": [
                                    {
                                        "id": "ci-field-branches",
                                        "title": "Trigger Branches",
                                        "icon": "ğŸ”€",
                                        "selector": "#wiz-ci-branches",
                                        "content": "Comma-separated list of branches that trigger the CI workflow on push and pull_request.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”€ Trigger Branches</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Defines which branches trigger the workflow. Common patterns:<br>â€¢ <strong>main, master</strong> â€” production branches only<br>â€¢ <strong>main, develop</strong> â€” production + integration branch<br>â€¢ <strong>main, release/*</strong> â€” with glob patterns for release branches<br><br>Both <code>push</code> and <code>pull_request</code> events use this filter.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-langver",
                                        "title": "Language Version",
                                        "icon": "ğŸ“¦",
                                        "selector": "#wiz-ci-langver",
                                        "content": "Language/runtime version for the CI matrix â€” auto-filled from stack detection.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Language Version</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The version string used in the CI matrix for <code>setup-*</code> actions (e.g., setup-python, setup-node). Auto-detected from your project files (pyproject.toml, package.json, etc.).<br><br>You can specify multiple versions for matrix testing: <code>3.11, 3.12</code></div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-install",
                                        "title": "Install Command",
                                        "icon": "ğŸ“¥",
                                        "selector": "#wiz-ci-install",
                                        "content": "Command to install project dependencies â€” runs before test and lint steps.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¥ Install Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs in the CI environment before test/lint steps. Examples:<br>â€¢ <code>pip install -e .[dev]</code> â€” Python editable install with dev deps<br>â€¢ <code>npm ci</code> â€” Node.js clean install from lockfile<br>â€¢ <code>go mod download</code> â€” Go module fetch</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-test",
                                        "title": "Test Command",
                                        "icon": "ğŸ§ª",
                                        "selector": "#wiz-ci-test",
                                        "content": "Command to run the test suite â€” the primary CI verification step.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ§ª Test Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The main test runner. This runs after install and determines the CI pass/fail status. Examples:<br>â€¢ <code>pytest</code> â€” Python test runner<br>â€¢ <code>npm test</code> â€” Node.js test script<br>â€¢ <code>go test ./...</code> â€” Go recursive test</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-lint",
                                        "title": "Also Run Linting",
                                        "icon": "âœ¨",
                                        "selector": "#wiz-ci-lint",
                                        "content": "Enable a separate lint step in the workflow â€” runs code quality checks.",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-lint-cmd",
                                        "title": "Lint Command",
                                        "icon": "âœ¨",
                                        "selector": "#wiz-ci-lint-cmd",
                                        "content": "Command for code linting â€” only used if linting is enabled.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ¨ Lint Command</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Runs as a separate job or step for code quality. Examples:<br>â€¢ <code>flake8 .</code> â€” Python PEP8 linting<br>â€¢ <code>npm run lint</code> â€” Node.js ESLint<br>â€¢ <code>golangci-lint run</code> â€” Go multi-linter</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-overwrite",
                                        "title": "Overwrite",
                                        "icon": "âš ",
                                        "selector": "#wiz-ci-overwrite",
                                        "content": "Overwrite existing workflow files â€” only shown when workflows already exist.",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "ci-section-compose",
                                "title": "Compose Full Pipeline",
                                "icon": "ğŸš€",
                                "content": "Generate a complete CI/CD pipeline from all detected integrations â€” Docker, K8s, Terraform, environments, Pages.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Compose Full Pipeline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Builds a coordinated GitHub Actions workflow that combines <strong>all</strong> your detected integrations into a single (or split) pipeline:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.73rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Test + Lint</span><span>from detected stack (always included)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Docker Build</span><span>if Dockerfile detected â€” build + push to registry</span><span style=\"font-weight:600;color:var(--text-secondary)\">K8s Deploy</span><span>if manifests detected â€” kubectl/helm/skaffold</span><span style=\"font-weight:600;color:var(--text-secondary)\">Terraform</span><span>if .tf files detected â€” plan + apply</span><span style=\"font-weight:600;color:var(--text-secondary)\">Multi-env</span><span>if environments configured â€” staged rollout</span><span style=\"font-weight:600;color:var(--text-secondary)\">Pages</span><span>if site detected â€” build + deploy docs</span></div></div></div>",
                                "children": [
                                    {
                                        "id": "ci-job-test",
                                        "title": "Test Job",
                                        "icon": "ğŸ§ª",
                                        "selector": "#wiz-ci-job-test",
                                        "content": "Test step in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ Test"
                                                },
                                                "content": "Test job included â€” runs your detected stack's test command.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ§ª Test Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Test job will be generated using your stack's detected test command. This is the first step in the pipeline â€” all other steps depend on tests passing.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ Test"
                                                },
                                                "content": "No test command detected â€” test job will be empty or skipped.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ§ª Test Â· no stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No language stack detected, so no test command is available. Configure your stack or use the Basic Workflow form to manually specify test commands.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-job-lint",
                                        "title": "Lint Job",
                                        "icon": "âœ¨",
                                        "selector": "#wiz-ci-job-lint",
                                        "content": "Lint step in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ Lint"
                                                },
                                                "content": "Lint job included â€” runs code quality checks for your detected stack.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ¨ Lint Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Lint job will run your stack's detected linter. Runs in parallel with the test job to minimize pipeline duration.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ Lint"
                                                },
                                                "content": "No lint command detected â€” lint job will be skipped.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ¨ Lint Â· no stack</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No language stack detected for linting. Configure your stack or manually specify a lint command in the Basic Workflow form.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-job-docker",
                                        "title": "Docker Build",
                                        "icon": "ğŸ³",
                                        "selector": "#wiz-ci-job-docker",
                                        "content": "Docker image build + push step in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ Docker Build"
                                                },
                                                "content": "Docker build included â€” builds container image and pushes to configured registry.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ³ Docker Build Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Docker build + push step will be generated. Runs after test/lint pass. Uses buildx for multi-platform support. Image tagged with branch, tag, and commit SHA.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ Docker Build"
                                                },
                                                "content": "No Docker config â€” build step will be omitted.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Docker Build Â· skipped</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Dockerfile detected. Docker build and push steps will not be included. Set up the Docker integration first if you need containerized deployments.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-job-k8s",
                                        "title": "K8s Deploy",
                                        "icon": "â˜¸ï¸",
                                        "selector": "#wiz-ci-job-k8s",
                                        "content": "Kubernetes deployment step in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ K8s Deploy"
                                                },
                                                "content": "K8s deploy included â€” deploys to cluster after build steps complete.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">â˜¸ï¸ K8s Deploy Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Kubernetes deployment step will be generated. Deploy method (kubectl, helm, skaffold) is configurable below. Runs after Docker build when Docker is also connected.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ K8s Deploy"
                                                },
                                                "content": "No K8s manifests â€” deploy step will be omitted.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ K8s Deploy Â· skipped</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Kubernetes manifests detected. K8s deployment steps will not be included. Set up the K8s integration first.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-job-terraform",
                                        "title": "Terraform",
                                        "icon": "ğŸ—ï¸",
                                        "selector": "#wiz-ci-job-terraform",
                                        "content": "Terraform infrastructure provisioning step in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ Terraform"
                                                },
                                                "content": "Terraform included â€” runs plan + apply before deployment steps.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Terraform plan and apply steps will be generated. Infrastructure provisioning runs before deployment to ensure resources exist.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ Terraform"
                                                },
                                                "content": "No Terraform config â€” infra provisioning step will be omitted.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Terraform Â· skipped</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No Terraform configuration detected. Infrastructure provisioning steps will not be included.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-job-envs",
                                        "title": "Multi-env",
                                        "icon": "âš™ï¸",
                                        "selector": "#wiz-ci-job-envs",
                                        "content": "Multi-environment deployment in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ Multi-env"
                                                },
                                                "content": "Multi-env included â€” generates per-environment deployment jobs with staging â†’ production flow.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âš™ï¸ Multi-env Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Multiple environments detected. Pipeline will generate per-environment deployment jobs with GitHub environment protection rules and sequential deployment gates.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ Single env"
                                                },
                                                "content": "Single environment â€” deploys to one target without environment matrix.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ Single env</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Only one environment detected. Pipeline deploys directly without environment matrix or staged rollout. Configure environments in the wizard for multi-stage deployments.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-job-pages",
                                        "title": "Pages Deploy",
                                        "icon": "ğŸ“„",
                                        "selector": "#wiz-ci-job-pages",
                                        "content": "Pages/documentation site deploy step in the composed pipeline.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "textContains": "âœ“ Pages Deploy"
                                                },
                                                "content": "Pages deploy included â€” builds and deploys documentation site.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Pages Â· included</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pages/documentation site detected. A build + deploy step will be added to the pipeline for GitHub Pages deployment.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "â—‹ Pages"
                                                },
                                                "content": "No Pages site â€” site deploy step will be omitted.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Pages Â· skipped</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">No documentation or static site configuration detected. Pages deploy steps will not be included.</div></div></div>"
                                            }
                                        ],
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-strategy",
                                        "title": "Workflow Strategy",
                                        "icon": "ğŸ“",
                                        "selector": "#wiz-ci-compose-strategy",
                                        "content": "How the pipeline is organized â€” single file or split across multiple workflow files.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "resolver": "ciStrategyValue",
                                                    "equals": "unified"
                                                },
                                                "content": "Unified strategy â€” all jobs in a single ci-cd.yml file.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Unified Strategy</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">All pipeline jobs (test, build, deploy) are defined in a single <code>ci-cd.yml</code> file. Jobs use <code>needs:</code> to define dependencies.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\"><strong>Pros:</strong> simpler to manage, single trigger, jobs share context<br><strong>Cons:</strong> a single file can become complex for large pipelines</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "ciStrategyValue",
                                                    "equals": "split"
                                                },
                                                "content": "Split strategy â€” separate workflow files linked with workflow_run triggers.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Split Strategy</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pipeline is split across multiple files (e.g., <code>ci.yml</code>, <code>build.yml</code>, <code>deploy.yml</code>). Files are linked using <code>workflow_run</code> triggers.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\"><strong>Pros:</strong> modular, easier to maintain individually, reusable across repos<br><strong>Cons:</strong> more files, slightly harder to debug dependencies</div></div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Workflow Strategy</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Choose how the pipeline is organized:<br>â€¢ <strong>Unified</strong> â€” single ci-cd.yml with all jobs<br>â€¢ <strong>Split</strong> â€” separate files linked by workflow_run</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-deploy",
                                        "title": "Deploy Method",
                                        "icon": "â˜¸ï¸",
                                        "selector": "#wiz-ci-compose-deploy",
                                        "content": "How to deploy to Kubernetes â€” only shown when K8s manifests are detected.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "resolver": "ciDeployValue",
                                                    "equals": "kubectl"
                                                },
                                                "content": "kubectl apply â€” direct manifest deployment using kubectl.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ kubectl</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Uses <code>kubectl apply -f</code> to deploy manifests directly. Simple and transparent â€” what you see in the YAML is what gets deployed.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: simple deployments, small teams, when you want full control over manifests.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "ciDeployValue",
                                                    "equals": "helm"
                                                },
                                                "content": "Helm upgrade â€” deploy via Helm chart releases with templated values.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Helm</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Uses <code>helm upgrade --install</code> to manage releases. Helm provides templating, versioning, and rollback capabilities for Kubernetes deployments.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: complex deployments, multiple environments with different values, rollback needs.</div></div></div>"
                                            },
                                            {
                                                "when": {
                                                    "resolver": "ciDeployValue",
                                                    "equals": "skaffold"
                                                },
                                                "content": "Skaffold â€” build + deploy with Skaffold's pipeline orchestration.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Skaffold</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Uses <code>skaffold run</code> to handle the full build â†’ tag â†’ deploy lifecycle. Skaffold manages Docker builds and K8s deployment together with profiles for different environments.</div><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: dev-loop parity, teams that want CI to mirror their local workflow.</div></div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â˜¸ï¸ Deploy Method</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Select the Kubernetes deployment strategy:<br>â€¢ <strong>kubectl</strong> â€” direct manifest apply<br>â€¢ <strong>helm</strong> â€” chart-based releases<br>â€¢ <strong>skaffold</strong> â€” full build + deploy pipeline</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-field-registry",
                                        "title": "Docker Registry",
                                        "icon": "ğŸ³",
                                        "selector": "#wiz-ci-compose-registry",
                                        "content": "Docker registry for pushing built images â€” only shown when Docker is detected.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Docker Registry</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The container registry where built images are pushed. Common options:<br>â€¢ <strong>ghcr.io</strong> â€” GitHub Container Registry (free for public repos)<br>â€¢ <strong>docker.io</strong> â€” Docker Hub<br>â€¢ <strong>*.dkr.ecr.*.amazonaws.com</strong> â€” AWS ECR<br>â€¢ <strong>gcr.io</strong> â€” Google Container Registry<br><br>Format: <code>registry/org</code> â€” the image name and tag are appended automatically.</div></div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "ci-btn-compose",
                                        "title": "Generate Pipeline",
                                        "icon": "ğŸš€",
                                        "selector": "#wiz-ci-btn-compose",
                                        "content": "Generate the complete CI/CD pipeline based on all detected connections and compose settings.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš€ Generate Pipeline</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates workflow file(s) combining all connected integrations. The output preview will appear below, showing the generated YAML before it's written to <code>.github/workflows/</code>.</div></div></div>",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "ci-apply",
                                "title": "Apply",
                                "icon": "âœ…",
                                "selector": "#wiz-apply-int-ci",
                                "content": "Generate the basic CI workflow file with the settings from the form above.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Apply Basic Workflow</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Generates a single <code>.github/workflows/ci.yml</code> file with test + lint jobs based on the form values. The file is created in your project directory.</div></div></div>",
                                "children": []
                            },
                            {
                                "id": "ci-cancel",
                                "title": "Cancel",
                                "icon": "âœ–",
                                "selector": "#wiz-cancel-int-ci",
                                "content": "Close the CI/CD setup panel without generating any files. No changes are made.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœ– Discard</div><div class=\"state-detail\">Cancel collapses the CI/CD setup panel without generating any files or modifying existing workflows.<br><br>Reopen anytime with âš™ï¸ Setup â€” all form fields repopulate from the current project state.</div></div>",
                                "children": []
                            },
                            {
                                "id": "ci-btn-delete",
                                "title": "Delete Workflow",
                                "icon": "ğŸ—‘",
                                "selector": "#wiz-ci-btn-delete",
                                "content": "Delete the generated CI workflow files â€” removes .github/workflows files created by the wizard.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ—‘ Delete Workflow</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Removes CI workflow files generated by the wizard. This only deletes wizard-generated files â€” manually created workflows are preserved.<br><br>âš  This action cannot be undone. The files are deleted from disk immediately.</div></div></div>",
                                "children": []
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "context": "setup/git",
        "title": "Git Setup",
        "icon": "ğŸ”€",
        "content": "Git is the foundation of the control plane â€” remotes, .gitignore, hooks, and CI/CD all build on top of it.\n\n{{gitStepIntro}}",
        "children": [
            {
                "id": "detect-banner",
                "title": "Read-only Scan",
                "icon": "ğŸ”",
                "selector": "#git-detect-banner",
                "content": "This step only reads â€” no files are created, no settings are changed. It shows what's already configured so you can decide what to do in Configure.",
                "children": []
            },
            {
                "id": "detect-section",
                "title": "Git Repository",
                "icon": "ğŸ“",
                "selector": "#git-detect-section",
                "separator": true,
                "content": "The scan results for your project's Git configuration. Each row below is a check â€” green means ready, yellow means partial, red means missing.",
                "children": [
                    {
                        "id": "detect-grid",
                        "title": "Detection Results",
                        "icon": "ğŸ“Š",
                        "selector": "#git-detect-grid",
                        "content": "All Git checks at a glance. The status rows below tell you what's installed, what's configured, and what's missing.",
                        "children": [
                            {
                                "id": "detect-cli",
                                "title": "Git CLI",
                                "icon": "âš™ï¸",
                                "selector": "#git-detect-cli",
                                "content": "Git is the foundation â€” every check below depends on it being present.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Installed"
                                        },
                                        "content": "Git is installed and available.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Installed</div><div class=\"state-detail\">Git is the foundation â€” remotes, .gitignore, hooks, and the entire CI/CD pipeline all depend on it. Version doesn't matter much as long as it's reasonably recent.\n\nEverything below this row assumes git is installed. If this check fails, nothing else in the wizard can work.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Not found"
                                        },
                                        "content": "Git is not installed â€” nothing else in this wizard can work without it.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Not Found</div><div class=\"state-detail\">Without Git, no repository can be initialized, no remotes can be added, and no .gitignore can be managed. Every integration downstream â€” GitHub, CI/CD, Docker â€” assumes a git repository exists.\n\nInstall git first, then re-open this wizard.\n\nğŸ“¦ sudo apt-get install git</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-repo",
                                "title": "Repository",
                                "icon": "ğŸ“",
                                "selector": "#git-detect-repo",
                                "content": "Whether a .git directory exists and your current branch.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Initialized"
                                        },
                                        "content": "Your repository is live and tracking changes.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Initialized</div><div class=\"state-detail\">Your repository is live. The branch shown here is what you'll push from â€” you can rename it in the Configure step if needed.\n\nThe control plane reads your commit history, branch state, and remote configuration from the .git directory.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Not initialized"
                                        },
                                        "content": "No repository yet â€” the Configure step will create one.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">ğŸ“­ Not Initialized</div><div class=\"state-detail\">No .git directory found. The Configure step will run git init for you and set your default branch.\n\nUntil a repository is initialized, remotes can't be added and commits can't be made. This is the first thing the wizard will fix.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-remotes",
                                "title": "Remotes",
                                "icon": "ğŸŒ",
                                "content": "Remote connections link your local repository to GitHub, GitLab, or other hosts â€” they're where git push sends your code.",
                                "dynamic": true,
                                "childTemplate": {
                                    "title": "{{name}}",
                                    "nameSelector": ".wiz-status-label",
                                    "content": "A configured git remote.",
                                    "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŒ Connected</div><div class=\"state-detail\">This is where git push sends your code. If the URL needs to change (e.g., SSH â†” HTTPS, or a repo move), update it in the Configure step.\n\nThe GitHub Setup wizard (next) uses your remote URL to connect environments, secrets, and CI/CD to this repository.</div></div>",
                                    "selector": "[id^='git-detect-remote-']:not(#git-detect-remote-none)"
                                },
                                "children": [
                                    {
                                        "id": "detect-remote-none",
                                        "title": "No Remote",
                                        "icon": "âš ï¸",
                                        "selector": "#git-detect-remote-none",
                                        "content": "No remotes configured â€” your work stays local.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ No Remote</div><div class=\"state-detail\">Without a remote, you can't push, pull, or sync your code. Your commits stay on this machine only.\n\nAdd a remote in the Configure step â€” if the GitHub CLI is authenticated, the URL can be pre-filled automatically.</div></div>",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "detect-gitignore",
                                "title": ".gitignore",
                                "icon": "ğŸ“„",
                                "selector": "#git-detect-gitignore",
                                "content": "Controls which files git tracks â€” protects your repo from committing secrets, build artifacts, and OS clutter.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "100%"
                                        },
                                        "content": "Your .gitignore covers all recommended patterns.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Complete Coverage</div><div class=\"state-detail\">Your .gitignore covers all recommended patterns for your detected stacks. No action needed â€” the Configure step will skip this section.\n\nThe control plane checks coverage against your project's detected stacks (Python, Node, Docker, etc.) and common sensitive patterns (.env, credentials, IDE files).</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Present"
                                        },
                                        "content": "Your .gitignore exists but has coverage gaps.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Partial Coverage</div><div class=\"state-detail\">Some recommended patterns are missing â€” these gaps could leak build artifacts or sensitive files into your repository.\n\nThe Configure step shows exactly which patterns are missing and can replace your .gitignore with a complete, stack-aware version. You'll see a preview before anything changes.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Missing"
                                        },
                                        "content": "No .gitignore â€” everything gets committed.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Missing</div><div class=\"state-detail\">Without a .gitignore, everything in your project directory gets committed â€” secrets, build output, OS metadata, IDE files, node_modules, __pycache__, all of it.\n\nThe Configure step will generate one tuned to your detected stacks. It analyzes your project's languages and frameworks to produce the right patterns.\n\nâš ï¸ If you've already pushed without a .gitignore, those files are in your git history. Adding one now prevents future leaks but doesn't clean the past.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-hooks",
                                "title": "Hooks",
                                "icon": "ğŸª",
                                "selector": "#git-detect-hooks",
                                "content": "Git hooks run scripts automatically at specific points â€” before commits, before pushes, after merges.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "active"
                                        },
                                        "content": "You've got quality gates that run before code leaves your machine.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸª Active</div><div class=\"state-detail\">These hooks run automatically â€” they're your first line of defense against committing broken or non-compliant code.\n\nThe wizard will preserve existing hooks during setup. If you want to modify them, you can do that through the Configure step or directly in .git/hooks/.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "None"
                                        },
                                        "content": "No automated checks before commits.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â– None Configured</div><div class=\"state-detail\">No hooks means no automated checks before commits or pushes. Code goes straight to the repository without validation.\n\nIf lint tools are detected in your project (ruff, eslint, mypy, etc.), the Configure step can set up a pre-commit hook that runs them automatically before each commit.\n\nğŸ’¡ Pre-commit hooks are lightweight â€” they typically add 1â€“3 seconds to each commit.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-ghcli",
                                "title": "GitHub CLI",
                                "icon": "ğŸ™",
                                "selector": "#git-detect-ghcli",
                                "content": "The gh CLI enables deeper GitHub integration â€” not required for Git setup, but unlocks secrets sync and CI/CD management.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Authenticated"
                                        },
                                        "content": "GitHub CLI is linked â€” Configure can pre-fill your remote URL.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Authenticated</div><div class=\"state-detail\">The GitHub CLI is logged in and linked to a repository. This means:\n\nâ€¢ The Configure step can pre-fill your remote URL from the linked repo\nâ€¢ The GitHub Setup wizard (next after Git) will use this for environments, secrets sync, and CI/CD\nâ€¢ You can manage pull requests, dispatch workflows, and create deployment environments from the dashboard\n\nğŸ’¡ The gh CLI is how the control plane interacts with GitHub â€” no raw API tokens needed.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "not authenticated"
                                        },
                                        "content": "gh is installed but not logged in.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš ï¸ Not Authenticated</div><div class=\"state-detail\">The GitHub CLI is installed but not logged in. You can still complete Git setup without it â€” remotes, .gitignore, and hooks don't need GitHub authentication.\n\nTo unlock the full GitHub integration later, run:\n\ngh auth login\n\nThis enables secrets sync, environment management, and CI/CD dispatch from the dashboard.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Not installed"
                                        },
                                        "content": "gh CLI is not installed â€” not a problem for Git setup.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â– Not Installed</div><div class=\"state-detail\">The GitHub CLI is optional for Git setup â€” remotes, .gitignore, and hooks work without it.\n\nBut if you plan to use the GitHub Setup wizard next (for environments, secrets sync, and CI/CD), installing gh unlocks the full experience.\n\nğŸ“¦ sudo snap install gh</div></div>"
                                    }
                                ],
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "detect-hints",
                "title": "Recommendations",
                "icon": "ğŸ’¡",
                "selector": "#git-detect-hints",
                "separator": true,
                "content": "These are opportunities detected in your project â€” each one maps to a configuration section in the next step.",
                "expanded": "The hints below summarize what the Configure step can act on. They're generated from your scan results: detected stacks determine .gitignore patterns, missing patterns trigger replacement suggestions, and detected lint tools enable pre-commit hook setup.\n\nğŸ’¡ If no hints appear, your Git setup is already solid.",
                "children": []
            },
            {
                "id": "cfg-remotes",
                "title": "Remotes",
                "icon": "ğŸŒ",
                "selector": "#git-cfg-remotes",
                "separator": true,
                "content": "This is where you wire your local repo to a host. Changes in this section are immediate â€” edits and removals hit the API the moment you click, not at Review.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Live Actions</div><div class=\"state-detail\">Unlike branch, .gitignore, and hooks (which queue up for the Review step), remote operations execute immediately:\n\nâ€¢ <strong>âœï¸ URL</strong> â€” runs <code>git remote set-url</code> right now\nâ€¢ <strong>ğŸ—‘ Remove</strong> â€” runs <code>git remote remove</code> (asks \"Sure?\" first)\nâ€¢ <strong>ï¼‹ Add</strong> â€” runs <code>git remote add</code> immediately\n\nThe remote URL you configure here feeds directly into the GitHub Setup wizard â€” it uses it to connect environments, secrets, and CI/CD to this repository.</div></div>",
                "children": [
                    {
                        "id": "cfg-remotes-table",
                        "title": "Current Remotes",
                        "icon": "ğŸ“‹",
                        "selector": "#git-cfg-remotes-table",
                        "content": "Your existing remote connections. Each row has live action buttons â€” changes apply instantly.",
                        "dynamic": true,
                        "childTemplate": {
                            "title": "{{name}}",
                            "nameSelector": "code",
                            "content": "A configured git remote â€” click âœï¸ to change its URL or ğŸ—‘ to remove it.",
                            "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Remote Connection</div><div class=\"state-detail\">This remote is where <code>git push</code> sends your code and <code>git pull</code> fetches updates from.\n\n<strong>âœï¸ URL</strong> changes the fetch/push endpoint. Common reason: switching between HTTPS and SSH, or moving to a different repository.\n\n<strong>ğŸ—‘ Remove</strong> disconnects this remote. Your local branches and history are unaffected â€” only the link to the remote host is removed.</div></div>",
                            "selector": "[id^='remote-row-']",
                            "variants": [
                                {
                                    "when": {
                                        "textContains": "git@"
                                    },
                                    "content": "This remote uses SSH â€” requires an SSH key configured on the host.",
                                    "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” SSH Protocol</div><div class=\"state-detail\">SSH remotes authenticate with your SSH key, not a password or token. This is generally more secure and convenient for development â€” you won't be prompted for credentials on every push.\n\nIf pushes fail with \"Permission denied (publickey)\", your SSH key may not be added to the host. Check with <code>ssh -T git@github.com</code>.\n\nTo switch to HTTPS, click âœï¸ URL and use the <code>https://</code> version of the repository URL.</div></div>"
                                },
                                {
                                    "when": {
                                        "textContains": "https://"
                                    },
                                    "content": "This remote uses HTTPS â€” authenticates with tokens or credential helpers.",
                                    "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ HTTPS Protocol</div><div class=\"state-detail\">HTTPS remotes authenticate via Personal Access Tokens, credential managers, or the GitHub CLI's credential helper.\n\nIf you're using the GitHub CLI (<code>gh</code>), it automatically handles HTTPS credentials. Otherwise, you may be prompted for a username/token on push.\n\nTo switch to SSH (avoids token management), click âœï¸ URL and use the <code>git@host:user/repo.git</code> format.</div></div>"
                                }
                            ]
                        },
                        "children": []
                    },
                    {
                        "id": "cfg-no-remotes",
                        "title": "No Remotes",
                        "icon": "âš ï¸",
                        "selector": "#git-cfg-no-remotes",
                        "content": "Without a remote, your commits stay on this machine only â€” no push, no pull, no collaboration.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Local Only</div><div class=\"state-detail\">A remote is the link between your local repository and a host like GitHub, GitLab, or Bitbucket. Without one:\n\nâ€¢ <code>git push</code> has nowhere to send code\nâ€¢ CI/CD pipelines can't trigger\nâ€¢ No backup exists outside this machine\n\nUse the Add Remote form below. If the GitHub CLI is authenticated, the URL will be pre-filled for you.\n\nConvention: your first remote should be named <code>origin</code>.</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-add-remote",
                        "title": "Add Remote",
                        "icon": "ï¼‹",
                        "selector": "#git-cfg-add-remote",
                        "content": "Add a new remote connection. This executes immediately â€” the remote is added the moment you click ï¼‹ Add.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Fields</div><div class=\"state-detail\"><strong>Name</strong> â€” conventionally <code>origin</code> for your primary remote, <code>upstream</code> for the original repo in a fork workflow.\n\n<strong>URL</strong> â€” the repository endpoint. Two formats:\nâ€¢ SSH: <code>git@github.com:user/repo.git</code>\nâ€¢ HTTPS: <code>https://github.com/user/repo.git</code>\n\nIf the GitHub CLI is authenticated and you have no remotes, the URL is pre-filled from your linked repository.</div></div>",
                        "children": [
                            {
                                "id": "cfg-add-remote-name",
                                "title": "Remote Name",
                                "icon": "ğŸ·ï¸",
                                "selector": "#mf-add-remote-name",
                                "content": "The name identifies this remote locally. Convention: origin for your primary, upstream for the source repo in a fork workflow.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ Naming Conventions</div><div class=\"state-detail\"><strong><code>origin</code></strong> â€” your primary remote. This is where <code>git push</code> sends code by default. Use this if you own the repo or it's your fork.\n\n<strong><code>upstream</code></strong> â€” the original repository you forked from. Used in fork workflows to pull updates from the original while pushing to your fork.\n\nOther names are allowed but rare. CI/CD tools, deploy scripts, and documentation typically assume <code>origin</code> exists â€” deviating from this convention can cause subtle issues.\n\nIf you leave this blank, the placeholder value is used.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "hasSelector": "#git-cfg-remotes-table"
                                        },
                                        "content": "You already have remotes â€” this would typically be upstream (the original repo in a fork) or a secondary deployment target.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”€ Additional Remote</div><div class=\"state-detail\">Since you already have an <code>origin</code>, common names for a second remote:\n\nâ€¢ <strong><code>upstream</code></strong> â€” the repo you forked from. Pull updates with <code>git pull upstream main</code>.\nâ€¢ <strong><code>deploy</code></strong> â€” a deploy target (e.g., Heroku, a staging server).\nâ€¢ <strong><code>backup</code></strong> â€” a mirror on a different host.\n\nAvoid adding a second remote pointing to the same repository â€” there's rarely a reason, and it creates confusion about which to push to.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "cfg-add-remote-url",
                                "title": "Remote URL",
                                "icon": "ğŸ”—",
                                "selector": "#mf-add-remote-url",
                                "content": "The repository endpoint â€” where Git sends and fetches code. Supports SSH and HTTPS formats.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— URL Formats</div><div class=\"state-detail\">Two formats, same destination:\n\n<strong>SSH</strong>: <code>git@github.com:user/repo.git</code>\nâ€¢ Authenticates with your SSH key\nâ€¢ No password prompts after key setup\nâ€¢ Requires SSH key added to the host\n\n<strong>HTTPS</strong>: <code>https://github.com/user/repo.git</code>\nâ€¢ Works immediately, no SSH setup\nâ€¢ Authenticates via PAT, credential manager, or <code>gh</code> CLI\nâ€¢ Some orgs require HTTPS for audit/firewall reasons\n\nBoth support push and pull. Choose based on your auth setup â€” you can always switch later with âœï¸ URL.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "github.com"
                                        },
                                        "content": "Pre-filled from your GitHub CLI authentication â€” this points to your linked repository.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ™ GitHub CLI Pre-fill</div><div class=\"state-detail\">The URL was automatically populated from your <code>gh</code> CLI authentication. This is the repository linked to your current GitHub session.\n\nYou can modify this URL before clicking ï¼‹ Add if needed â€” for example, to use the SSH format (<code>git@github.com:...</code>) instead of HTTPS.\n\nThis pre-fill only appears when the GitHub CLI is authenticated and you have no remotes yet.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "cfg-add-remote-btn",
                                "title": "Add Button",
                                "icon": "ï¼‹",
                                "selector": "#git-add-remote-btn",
                                "content": "Adds the remote immediately â€” runs git remote add right now, not at Review.",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "cfg-branch",
                "title": "Default Branch",
                "icon": "ğŸŒ¿",
                "selector": "#git-cfg-branch",
                "separator": true,
                "content": "The branch name set here becomes your repository's default. This is applied during the Review step, not immediately.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ Branch Naming</div><div class=\"state-detail\"><code>main</code> is the modern standard â€” GitHub, GitLab, and most tools default to it since 2020.\n\nIf you already have commits on a branch with a different name, changing this value will rename the branch using <code>git branch -M</code>. Your history is preserved â€” only the pointer name changes.\n\nâš ï¸ If a CI/CD pipeline or branch protection rule targets the old name, you'll need to update those references after renaming.</div></div>",
                "children": [
                    {
                        "id": "cfg-branch-input",
                        "title": "Branch Name",
                        "icon": "âœï¸",
                        "selector": "#mf-git-branch",
                        "content": "The name for your default branch. Most teams use main â€” the value here is applied at Review.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Current:"
                                },
                                "content": "You already have a branch â€” changing the name here will rename it, not create a new one.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Rename</div><div class=\"state-detail\">Since you already have a branch, changing this value runs <code>git branch -M &lt;new-name&gt;</code> during the Review step. This is a rename, not a new branch â€” all existing commits stay on the renamed branch.\n\nLeave this unchanged if you're happy with your current branch name.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Will be set on init"
                                },
                                "content": "No branch exists yet â€” this name will be used when the repository is initialized.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ†• New Repository</div><div class=\"state-detail\">Since the repository isn't initialized yet, no branch exists. The value here sets the name of the branch created by <code>git init</code>.\n\nStick with <code>main</code> unless your team uses a different convention. This can always be renamed later.</div></div>"
                            }
                        ],
                        "children": []
                    }
                ]
            },
            {
                "id": "cfg-gitignore",
                "title": ".gitignore",
                "icon": "ğŸ“„",
                "selector": "#git-cfg-gitignore",
                "separator": true,
                "content": "The .gitignore file controls which files Git tracks. Patterns here are generated from your detected stacks â€” Python, Node, Docker, etc.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Stack-Aware Generation</div><div class=\"state-detail\">The control plane scans your project for technology stacks and generates a .gitignore that covers:\n\nâ€¢ <strong>Build artifacts</strong> â€” dist/, build/, __pycache__/\nâ€¢ <strong>Dependencies</strong> â€” node_modules/, .venv/\nâ€¢ <strong>Secrets</strong> â€” .env, *.pem, credentials files\nâ€¢ <strong>IDE/OS clutter</strong> â€” .vscode/, .idea/, .DS_Store\n\nPatterns are stack-specific: a Python project gets <code>*.pyc</code>, a Node project gets <code>node_modules/</code>, and so on. Coverage percentage reflects how many recommended patterns are already present.</div></div>",
                "children": [
                    {
                        "id": "cfg-gitignore-ok",
                        "title": "Complete",
                        "icon": "âœ…",
                        "selector": "#git-cfg-gitignore-ok",
                        "content": "Your .gitignore already covers all recommended patterns â€” nothing to configure here.",
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Full Coverage</div><div class=\"state-detail\">Every pattern recommended for your detected stacks is already present. The wizard won't modify your .gitignore.\n\nIf you add new stacks later (e.g., add Docker to a Python project), re-running this wizard will detect the gap and offer to update.</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-gitignore-missing",
                        "title": "Missing Patterns",
                        "icon": "âš ï¸",
                        "selector": "#git-cfg-gitignore-missing",
                        "content": "These patterns are recommended for your stacks but aren't in your .gitignore yet. Each one is a potential leak.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Coverage Gaps</div><div class=\"state-detail\">Missing patterns mean files that <em>should</em> be ignored are being tracked (or could be committed accidentally).\n\nCommon consequences of missing patterns:\nâ€¢ <strong>Secrets committed</strong> â€” .env files with API keys end up in history\nâ€¢ <strong>Bloated diffs</strong> â€” build artifacts create noise in pull requests\nâ€¢ <strong>Platform conflicts</strong> â€” .DS_Store or Thumbs.db files from other OSes\n\nThe \"Replace\" checkbox below replaces your entire .gitignore with the generated version. If you've added custom patterns, review the preview to make sure they're preserved.</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-gitignore-replace",
                        "title": "Replace .gitignore",
                        "icon": "ğŸ”„",
                        "selector": "#mf-gitignore-replace",
                        "content": "Replaces your existing .gitignore entirely with the generated version. This is a full replacement, not a merge.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”„ Full Replacement</div><div class=\"state-detail\">This replaces the <em>entire</em> file content, not just the missing patterns. Your existing custom patterns will be lost unless they also appear in the generated version.\n\n<strong>Before checking this:</strong> review the preview below. If you have custom patterns you want to keep, click âœï¸ Edit and add them to the generated content.\n\nThe actual replacement happens at the Review step â€” nothing is written yet.</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-gitignore-create",
                        "title": "Create .gitignore",
                        "icon": "ğŸ“",
                        "selector": "#mf-gitignore-create",
                        "content": "Creates a new .gitignore file with all recommended patterns for your detected stacks.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ New File</div><div class=\"state-detail\">Your project currently has no .gitignore at all â€” every file in the directory is eligible for commits, including secrets, build artifacts, and IDE files.\n\nThe generated file covers all detected stacks. Review the preview below and click âœï¸ Edit if you want to add custom patterns.\n\nCreation happens at the Review step â€” nothing is written yet.</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-gitignore-preview",
                        "title": "Preview",
                        "icon": "ğŸ“‹",
                        "selector": "#git-cfg-gitignore-preview",
                        "content": "What will be written to .gitignore. Click âœï¸ Edit to modify before applying.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Preview â‰  Applied</div><div class=\"state-detail\">This is a read-only preview of the generated content. The file won't be written until the Review step.\n\nClick <strong>âœï¸ Edit</strong> to open an editable textarea â€” any changes you make there will be used instead of the generated version.\n\nPatterns use standard gitignore glob syntax:\nâ€¢ <code>*.pyc</code> â€” match files by extension\nâ€¢ <code>dist/</code> â€” match directories\nâ€¢ <code>!important.log</code> â€” negate (force-track a file)\nâ€¢ <code>#</code> â€” comments (ignored by Git)</div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "cfg-hooks",
                "title": "Pre-commit Hook",
                "icon": "ğŸª",
                "selector": "#git-cfg-hooks",
                "separator": true,
                "content": "Runs your detected lint tools automatically before each commit â€” catches issues before they reach the repository.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸª How It Works</div><div class=\"state-detail\">A pre-commit hook is a shell script at <code>.git/hooks/pre-commit</code> that Git runs before allowing a commit. If the script exits non-zero, the commit is aborted.\n\nThe wizard detected lint tools in your project and can wire them into this hook. Typical execution time is 1â€“3 seconds.\n\nThis is a local hook â€” it only runs on your machine. It doesn't affect collaborators unless they also set up pre-commit (or you use a tool like Husky to share hooks via the repo).</div></div>",
                "children": [
                    {
                        "id": "cfg-hooks-checkbox",
                        "title": "Setup Checkbox",
                        "icon": "â˜‘ï¸",
                        "selector": "#mf-setup-hooks",
                        "content": "Check this to create the hook script during Review. The tools listed below are the ones that will run.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ›¡ï¸ Safety Net</div><div class=\"state-detail\">When enabled, every <code>git commit</code> will first run your lint tools. If any tool finds issues, the commit is blocked until you fix them.\n\nYou can always skip the hook with <code>git commit --no-verify</code> for emergency commits, but use that sparingly.\n\nThe hook script is created at the Review step. If you later add more lint tools, re-run this wizard to update the hook.</div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "cfg-commit",
                "title": "Initial Commit",
                "icon": "ğŸ’¾",
                "selector": "#git-cfg-commit",
                "separator": true,
                "content": "Creates a first commit with your current project files. Only appears when the repository has no commits yet.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ First Commit</div><div class=\"state-detail\">An initial commit establishes the starting point of your repository's history. Without at least one commit:\n\nâ€¢ <code>git log</code> shows nothing\nâ€¢ Branches can't be created\nâ€¢ Remotes can't be pushed to\n\nThe commit will include all files in the working directory (respecting .gitignore). If you enabled .gitignore creation above, it will be written first so the initial commit already excludes the right files.</div></div>",
                "children": [
                    {
                        "id": "cfg-commit-checkbox",
                        "title": "Create Commit",
                        "icon": "â˜‘ï¸",
                        "selector": "#mf-initial-commit",
                        "content": "Check this to create the initial commit during Review. Includes all files respecting .gitignore.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ What Gets Committed</div><div class=\"state-detail\">The initial commit runs <code>git add .</code> followed by <code>git commit -m \"...\"</code>. This stages every file in the project directory except those excluded by .gitignore.\n\nIf you also enabled .gitignore creation or replacement above, the wizard applies that first â€” so your initial commit won't include build artifacts, secrets, or other ignored files.\n\nOrder of operations at Review: init â†’ branch â†’ .gitignore â†’ hooks â†’ commit.</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-commit-msg",
                        "title": "Commit Message",
                        "icon": "âœï¸",
                        "selector": "#mf-commit-msg",
                        "content": "The message for the first commit. Mostly symbolic â€” \"Initial commit\" is the universal convention.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¬ Convention</div><div class=\"state-detail\">\"Initial commit\" is used by virtually every project. It signals the starting snapshot.\n\nSome teams prefer descriptive first messages like \"Bootstrap project with Flask + Docker\" â€” that's fine too, but the message matters less here than in regular development commits.\n\nIf your project enforces conventional commit format (<code>feat:</code>, <code>chore:</code>), you might use <code>chore: initial project setup</code>.</div></div>",
                        "children": []
                    }
                ]
            }
        ]
    },
    {
        "context": "setup/github",
        "title": "GitHub Setup",
        "icon": "ğŸ™",
        "content": "GitHub connects your repository to platform features â€” environments, secrets, CODEOWNERS, and visibility.\n\n{{ghStepIntro}}",
        "children": [
            {
                "id": "detect-banner",
                "title": "Read-only Scan",
                "icon": "ğŸ”",
                "selector": "#gh-detect-banner",
                "content": "This step queries your gh CLI and GitHub's API to inventory the current state. Nothing is modified â€” all changes happen in Configure.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” What's Being Scanned</div><div class=\"state-detail\">The detect step checks five things:\n\nâ€¢ <strong>gh CLI</strong> â€” is it installed and authenticated?\nâ€¢ <strong>Repository</strong> â€” is a GitHub repo linked via git remote?\nâ€¢ <strong>Infrastructure</strong> â€” .github/ dir, CODEOWNERS, workflows\nâ€¢ <strong>Environments</strong> â€” do local envs match GitHub deployment environments?\nâ€¢ <strong>Secrets</strong> â€” what's currently stored on GitHub?\n\nAll of this feeds into the Configure step, where you can act on what's found.</div></div>",
                "children": []
            },
            {
                "id": "detect-cli-section",
                "title": "GitHub CLI",
                "icon": "ğŸ”§",
                "selector": "#gh-detect-cli",
                "separator": true,
                "content": "The gh CLI is how the control plane talks to GitHub's API. Authentication and account identity flow through it â€” everything below depends on this section being green.",
                "children": [
                    {
                        "id": "detect-cli-grid",
                        "title": "CLI Status",
                        "icon": "ğŸ“Š",
                        "selector": "#gh-detect-cli-grid",
                        "content": "Tool availability and authentication â€” the two prerequisites for any GitHub API operation.",
                        "children": [
                            {
                                "id": "detect-cli-row",
                                "title": "gh CLI",
                                "icon": "ğŸ”§",
                                "selector": "#gh-detect-cli-row",
                                "content": "The gh CLI is how the control plane talks to GitHub â€” secret pushes, environment creation, visibility changes, and repo queries all go through it.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”§ Foundation Tool</div><div class=\"state-detail\">This is the same <code>gh</code> that powers the remote URL pre-fill in Git Setup. Without it, the control plane has no way to reach GitHub's API.\n\nIt handles:\nâ€¢ Repository queries (visibility, branches, description)\nâ€¢ Environment management (create, list)\nâ€¢ Secret and variable sync (push from vault)\nâ€¢ Authentication (OAuth token management)\n\nInstalled via your system package manager. Requires <code>sudo</code> on most systems.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Not installed"
                                        },
                                        "content": "Without gh, the control plane can't reach GitHub. Environments, secrets, visibility controls, and CI/CD management are all unavailable until it's installed.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Blocker</div><div class=\"state-detail\">The gh CLI is not installed. This blocks <em>everything</em> in this wizard:\n\nâ€¢ Can't check if a repository is linked\nâ€¢ Can't query environments or secrets\nâ€¢ Can't manage visibility or CODEOWNERS\nâ€¢ Can't push vault secrets to GitHub\n\nUse the install button below, or install manually:\n<code>sudo apt install gh</code> (Debian/Ubuntu)\n<code>brew install gh</code> (macOS)\n\nAfter installing, click <strong>Re-scan</strong> to continue.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Installed"
                                        },
                                        "content": "The gh CLI is present â€” the control plane can reach GitHub's API for environments, secrets, and repository management.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Available</div><div class=\"state-detail\">The gh CLI is installed and ready. Version matters for some features â€” older versions may not support environment management or fine-grained tokens.\n\nThis is the same tool that powered remote URL pre-fill in Git Setup. If you authenticated there, you're already logged in here too.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-auth-row",
                                "title": "Authentication",
                                "icon": "ğŸ”‘",
                                "selector": "#gh-detect-auth-row",
                                "content": "Authentication determines whether the control plane can actually make API calls to GitHub on your behalf.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”‘ API Access</div><div class=\"state-detail\">The gh CLI stores an OAuth token that grants access to GitHub's API. The token's scope determines what operations are available â€” some tokens can read repos but not create environments.\n\nAuthentication is shared across all control plane features. If you logged in during Git Setup, you're already authenticated here.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Not logged"
                                        },
                                        "content": "Not authenticated â€” the control plane can't query repositories, environments, or secrets. Log in to continue.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Auth Required</div><div class=\"state-detail\">Without authentication, GitHub's API rejects all requests. Everything after this point in the wizard depends on a valid login.\n\nClick <strong>ğŸ”‘ Authenticate GitHub</strong> below â€” this opens an OAuth flow in your browser. The token is stored locally by the gh CLI.\n\nAfter authenticating, click <strong>Re-scan</strong> to refresh the detection.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Logged in"
                                        },
                                        "content": "Authenticated â€” API calls to GitHub will work. The account shown below is the identity all operations happen under.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Authenticated</div><div class=\"state-detail\">Your gh CLI has a valid token. All API operations â€” environment creation, secret pushes, visibility changes â€” will use this identity.\n\nToken scope determines limits. If an operation fails with a 403, the token may lack the required scope (e.g., <code>admin:org</code> for org-level secrets).</div></div>"
                                    }
                                ],
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "detect-missing-tools",
                        "title": "Install Tools",
                        "icon": "ğŸ“¦",
                        "selector": "#gh-wiz-missing-tools",
                        "content": "The gh CLI needs to be installed before anything else in this wizard can work. Use the install button or install manually via your system package manager.",
                        "children": []
                    },
                    {
                        "id": "detect-user-card",
                        "title": "GitHub Account",
                        "icon": "ğŸ‘¤",
                        "selector": "#gh-detect-user-card",
                        "content": "This is the GitHub identity the control plane acts as. Creating environments, pushing secrets, changing visibility â€” it all happens under this account.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¤ Identity Context</div><div class=\"state-detail\">All GitHub API operations use this account's permissions. If the repository is owned by an organization, your role in that org determines what you can do:\n\nâ€¢ <strong>Owner/Admin</strong> â€” full access: visibility, environments, secrets, branch protection\nâ€¢ <strong>Maintainer</strong> â€” environments and secrets, but not visibility or danger zone settings\nâ€¢ <strong>Member</strong> â€” limited: can push code but may not manage environments or secrets\n\nThe <strong>ğŸ”“ Logout</strong> button disconnects the gh CLI. You'll need to re-authenticate to continue using GitHub features.</div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "detect-repo-section",
                "title": "Repository",
                "icon": "ğŸ“¦",
                "selector": "#gh-detect-repo",
                "separator": true,
                "content": "Your GitHub repository is where platform features attach â€” environments, secrets, CODEOWNERS, and visibility are all repo-level settings.",
                "children": [
                    {
                        "id": "detect-repo-grid",
                        "title": "Repository Details",
                        "icon": "ğŸ“‹",
                        "selector": "#gh-detect-repo-grid",
                        "content": "Repository identity, access level, and infrastructure â€” the foundation for everything in Configure.",
                        "children": [
                            {
                                "id": "detect-repo-row",
                                "title": "Repository",
                                "icon": "ğŸ“¦",
                                "selector": "#gh-detect-repo-row",
                                "content": "Your code lives on GitHub at this repository. Environments, secrets, CODEOWNERS, and visibility all attach to it.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Repository Link</div><div class=\"state-detail\">The repository is detected from your git remote â€” the same remote you configured in Git Setup. It's the anchor for everything in this wizard:\n\nâ€¢ <strong>Environments</strong> scope secrets for deployment targets\nâ€¢ <strong>Secrets</strong> power CI/CD pipelines securely\nâ€¢ <strong>CODEOWNERS</strong> automates PR review assignments\nâ€¢ <strong>Visibility</strong> controls who can see your code\n\nIf this shows the wrong repo, go back to Git Setup and check your remote URL.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "No GitHub"
                                        },
                                        "content": "No repository linked â€” the control plane can't manage environments, secrets, or visibility without one. You can create a new repo or connect an existing one in Configure.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ No Repository</div><div class=\"state-detail\">Without a linked repository, this wizard can't do much. Two paths forward:\n\nâ€¢ <strong>Create New</strong> â€” the Configure step has a form to create a GitHub repo from this project\nâ€¢ <strong>Connect Existing</strong> â€” go to Git Setup and add a remote pointing to an existing GitHub repo\n\nA linked repository is required for environment alignment, secret sync, CODEOWNERS, and visibility management.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-visibility-row",
                                "title": "Visibility",
                                "icon": "ğŸ‘ï¸",
                                "selector": "#gh-detect-visibility-row",
                                "content": "Controls who can see your repository on GitHub.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘ï¸ Access Control</div><div class=\"state-detail\">Visibility is a repo-level setting that determines who can read your code, issues, wiki, and discussions.\n\nYou can toggle visibility in the Configure step â€” but be careful: making a private repo public exposes <em>all</em> commit history, including any secrets that were accidentally committed in the past.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "PUBLIC"
                                        },
                                        "content": "Your repo is world-readable â€” anyone on GitHub can see your code, clone it, fork it, and read your issues and wiki.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ Public Repository</div><div class=\"state-detail\">Public means anyone on the internet can:\n\nâ€¢ Read and clone your source code\nâ€¢ See all issues, PRs, and discussions\nâ€¢ Fork the repository\nâ€¢ View your commit history (including old mistakes)\n\nIf this project contains internal tooling, proprietary logic, or references to infrastructure, consider switching to private in Configure.\n\nPublic repos do get free GitHub Actions minutes and community visibility â€” it's intentional for open-source projects.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "PRIVATE"
                                        },
                                        "content": "Access restricted to collaborators and org members only. Code, issues, and wiki are hidden from the public.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”’ Private Repository</div><div class=\"state-detail\">Only invited collaborators and organization members with the right permissions can see this repository.\n\nPrivate repos have some trade-offs:\nâ€¢ GitHub Actions minutes are billed (not free like public repos)\nâ€¢ Community contributions are limited (no forks from outsiders)\nâ€¢ GitHub Pages has restrictions on free plans\n\nYou can toggle to public in Configure if this is an open-source project.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-branch-row",
                                "title": "Default Branch",
                                "icon": "ğŸŒ¿",
                                "selector": "#gh-detect-branch-row",
                                "content": "The branch GitHub considers default â€” it's the landing page of your repo and the base branch for pull requests. This should match what you set in Git Setup.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ¿ Branch Alignment</div><div class=\"state-detail\">GitHub's default branch is used for:\n\nâ€¢ The repository landing page (what visitors see first)\nâ€¢ The base branch for pull requests\nâ€¢ Branch protection rules (if configured)\nâ€¢ GitHub Pages source (often <code>main</code> or <code>gh-pages</code>)\n\nIf this doesn't match your local default branch from Git Setup, <code>git push</code> might target a different branch than GitHub expects. You can change it in Configure.</div></div>",
                                "children": []
                            },
                            {
                                "id": "detect-ghdir-row",
                                "title": ".github/ Directory",
                                "icon": "ğŸ“",
                                "selector": "#gh-detect-ghdir-row",
                                "content": "The .github/ directory houses your CI/CD infrastructure â€” workflows, issue templates, PR templates, and CODEOWNERS.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ GitHub Infrastructure</div><div class=\"state-detail\">The <code>.github/</code> directory is GitHub's convention for repository-level configuration:\n\nâ€¢ <code>.github/workflows/</code> â€” GitHub Actions CI/CD pipelines\nâ€¢ <code>.github/ISSUE_TEMPLATE/</code> â€” structured issue forms\nâ€¢ <code>.github/PULL_REQUEST_TEMPLATE.md</code> â€” PR description template\nâ€¢ <code>.github/CODEOWNERS</code> â€” auto-assign reviewers\nâ€¢ <code>.github/dependabot.yml</code> â€” automated dependency updates\n\nWorkflows are the most impactful â€” they define your CI/CD pipeline.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Exists"
                                        },
                                        "content": "Your .github/ directory exists â€” CI/CD workflows and repository configuration are in place.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Infrastructure Present</div><div class=\"state-detail\">The <code>.github/</code> directory is present with workflows. These define your CI/CD pipeline â€” automated testing, building, and deployment triggered by pushes, PRs, or schedules.\n\nThe workflow count tells you how many pipelines are configured. Zero workflows means the directory exists but isn't doing CI/CD yet.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Not found"
                                        },
                                        "content": "No .github/ directory â€” you don't have GitHub Actions workflows, issue templates, or PR templates yet. You can create the structure manually or through CI/CD setup.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Not Yet Created</div><div class=\"state-detail\">Without a <code>.github/</code> directory:\n\nâ€¢ No GitHub Actions â€” no automated CI/CD\nâ€¢ No issue templates â€” contributors use freeform issues\nâ€¢ No PR template â€” no standardized PR descriptions\nâ€¢ No Dependabot â€” no automated dependency updates\n\nThe CI/CD setup wizard (separate from this one) can generate workflow files. For now, this is informational.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-codeowners-row",
                                "title": "CODEOWNERS",
                                "icon": "ğŸ‘¥",
                                "selector": "#gh-detect-codeowners-row",
                                "content": "CODEOWNERS automates PR review assignments â€” file patterns map to owners who get automatically requested when those files change.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¥ Review Automation</div><div class=\"state-detail\">A CODEOWNERS file at <code>.github/CODEOWNERS</code> tells GitHub who must review changes to specific files or directories.\n\nPattern example:\n<code>* @your-username</code> â€” you review everything\n<code>/src/api/ @backend-team</code> â€” backend team reviews API changes\n<code>*.py @python-leads</code> â€” Python leads review all Python files\n\nWithout CODEOWNERS, PRs rely on manual reviewer selection â€” which means reviews can be missed or delayed.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Found"
                                        },
                                        "content": "CODEOWNERS is configured â€” PRs will auto-request reviews from the right people based on which files change.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Review Automation Active</div><div class=\"state-detail\">Your CODEOWNERS file is in place. GitHub will automatically request reviews from the listed owners when a PR touches files matching their patterns.\n\nYou can review and edit the file content in the Configure step. Common updates include adding team handles for new directories or adjusting patterns as the codebase grows.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Not configured"
                                        },
                                        "content": "No CODEOWNERS configured â€” PRs won't auto-assign reviewers. The Configure step can generate one based on your repository owner.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Available in Configure</div><div class=\"state-detail\">Without CODEOWNERS:\n\nâ€¢ PRs don't auto-request reviewers\nâ€¢ No enforced review assignments\nâ€¢ Reviews depend on manual selection\n\nThe Configure step can generate a starter file with <code>* @your-username</code> as a catch-all. You can refine it later with team-specific patterns.</div></div>"
                                    }
                                ],
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "detect-status-section",
                "title": "Integration Status",
                "icon": "ğŸ“Š",
                "selector": "#gh-detect-status",
                "separator": true,
                "content": "How your local project configuration aligns with GitHub's platform features â€” environments and secrets are the bridge between your code and your deployment pipeline.",
                "children": [
                    {
                        "id": "detect-status-grid",
                        "title": "Alignment",
                        "icon": "ğŸ“‹",
                        "selector": "#gh-detect-status-grid",
                        "content": "Environment and secret alignment between your local project config and what exists on GitHub.",
                        "children": [
                            {
                                "id": "detect-envs-row",
                                "title": "Environments",
                                "icon": "ğŸŒ",
                                "selector": "#gh-detect-envs-row",
                                "content": "Environments connect your local configuration to GitHub's deployment infrastructure â€” scoped secrets, protection rules, and deployment history.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Environment Alignment</div><div class=\"state-detail\">Your project defines environments in <code>project.yml</code> (Step 1 of the wizard). GitHub deployment environments are a separate concept on GitHub's platform.\n\n<strong>Aligned</strong> means a local environment has a matching GitHub deployment environment. <strong>Missing</strong> means it exists locally but not on GitHub â€” environment-scoped secrets can't target it.\n\nThe Configure step can create missing GitHub environments automatically.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "None defined"
                                        },
                                        "content": "No environments defined in your project config. Go to Step 1 (Project Configuration) to define environments like dev, staging, production before aligning them with GitHub.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â– No Local Environments</div><div class=\"state-detail\">Environments are defined in your <code>project.yml</code> via the Setup Wizard's first step (Project Configuration). Without them:\n\nâ€¢ Secrets can only be stored at repo scope (not per-environment)\nâ€¢ No deployment environment protection rules\nâ€¢ No environment-specific variable overrides\n\nDefine at least <code>development</code> and <code>production</code> to get environment-scoped secrets working.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "aligned"
                                        },
                                        "content": "Your local environments are checked against GitHub deployment environments. Aligned ones can receive environment-scoped secrets; missing ones need to be created in Configure.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Environment Check</div><div class=\"state-detail\">The control plane compared your local environments (from <code>project.yml</code>) with GitHub's deployment environments.\n\nAligned environments can:\nâ€¢ Receive environment-scoped secrets via vault sync\nâ€¢ Have protection rules (required reviewers, wait timers)\nâ€¢ Track deployment history in GitHub's UI\n\nIf any are missing, the Configure step offers one-click creation.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "detect-secrets-row",
                                "title": "GitHub Secrets",
                                "icon": "ğŸ”’",
                                "selector": "#gh-detect-secrets-row",
                                "content": "Secrets and variables currently stored on GitHub â€” these power your CI/CD pipelines. Your local vault secrets (Step 3) can be pushed here during Configure.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Secrets Inventory</div><div class=\"state-detail\">GitHub secrets are encrypted values available to GitHub Actions workflows. Variables are plaintext key-value pairs.\n\n<strong>Secrets</strong> â€” sensitive values like API keys, database passwords, deploy tokens. Never logged in Actions output.\n<strong>Variables</strong> â€” non-sensitive config like region names, feature flags, service URLs.\n\nIn multi-environment projects, secrets are scoped per-environment (dev secrets â‰  production secrets). In single-environment projects, they're repo-scoped.\n\nThe Configure step can push your local vault secrets to GitHub, keeping them in sync.</div></div>",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "detect-hints",
                "title": "Next Steps",
                "icon": "ğŸ’¡",
                "selector": "#gh-detect-hints",
                "content": "Actionable recommendations based on what's missing or misaligned. Most of these can be resolved in the Configure step â€” click Configure â†’ to proceed.",
                "children": []
            },
            {
                "id": "cfg-repo-section",
                "title": "Repository",
                "icon": "ğŸ“¦",
                "selector": "#gh-cfg-repo",
                "separator": true,
                "content": "Your repository identity and access level. Be aware â€” some changes here take effect immediately on GitHub when you confirm, while others are queued for Review.",
                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Immediate vs Deferred</div><div class=\"state-detail\">This Configure step mixes two types of actions:\n\n<strong>Immediate</strong> (happen on click):\nâ€¢ Visibility toggle â€” changes repo access right now\nâ€¢ Default branch â€” changes the base branch right now\nâ€¢ Create repository â€” creates a real GitHub repo right now\n\n<strong>Deferred</strong> (queued for Review):\nâ€¢ CODEOWNERS file â€” written when you click Finish\nâ€¢ Environment creation â€” created when you click Finish\nâ€¢ Secrets push â€” synced when you click Finish\n\nImmediate actions have confirmation dialogs to prevent accidents.</div></div>",
                "children": [
                    {
                        "id": "cfg-repo-card",
                        "title": "Linked Repository",
                        "icon": "ğŸ”—",
                        "selector": "#gh-cfg-repo-card",
                        "content": "Your project is connected to this GitHub repository. Everything in this wizard â€” environments, secrets, CODEOWNERS â€” attaches to it.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Repository Link</div><div class=\"state-detail\">This is the same repository detected from your git remote in the Detect step. The \"Open on GitHub\" link takes you there.\n\nThe visibility toggle below changes access <strong>immediately</strong> â€” there's a confirmation dialog, but once confirmed, the change is live on GitHub. No need to wait for Review.\n\nIf the wrong repo is shown, go back to Git Setup and update your remote URL.</div></div>",
                        "children": [
                            {
                                "id": "cfg-vis-toggle",
                                "title": "Visibility Toggle",
                                "icon": "ğŸ‘ï¸",
                                "selector": "#gh-vis-toggle",
                                "content": "Toggling visibility is immediate â€” it changes your repo's access level on GitHub the moment you confirm.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Immediate Action</div><div class=\"state-detail\">A confirmation dialog will ask you to verify â€” this is your safety net. Once confirmed, the change is live.\n\nImplications to consider:\nâ€¢ <strong>Private â†’ Public:</strong> Exposes your entire commit history, including any secrets that were committed and later removed. Git history is permanent.\nâ€¢ <strong>Public â†’ Private:</strong> Existing forks remain public. Scheduled GitHub Actions may stop on the free plan. External links to your code will break.</div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "Make public"
                                        },
                                        "content": "Going public exposes your entire commit history â€” including anything that was committed and later removed. Make sure no secrets were ever in the repo before toggling.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ Going Public</div><div class=\"state-detail\">Making a repository public is a significant decision:\n\nâ€¢ All code, issues, PRs, and wiki become readable by anyone\nâ€¢ Commit history is searchable â€” secrets committed in the past are exposed\nâ€¢ The repo becomes forkable by anyone on GitHub\nâ€¢ GitHub Actions minutes become free (a benefit)\n\nIf this is intentional for open-source, go ahead. If you're unsure, keep it private â€” you can always open-source later.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "Make private"
                                        },
                                        "content": "Going private restricts access immediately. Existing forks stay public, but new forks are blocked and external links to your code will stop working.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Going Private</div><div class=\"state-detail\">Switching to private:\n\nâ€¢ New visitors can't see or clone the repository\nâ€¢ Existing forks remain as independent public repos\nâ€¢ GitHub Actions minutes become billed (no longer free)\nâ€¢ GitHub Pages may be restricted on free plans\nâ€¢ External references to files, issues, or PRs will return 404\n\nCollaborators with explicit access will still see the repo.</div></div>"
                                    }
                                ],
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "cfg-create-repo",
                        "title": "Create Repository",
                        "icon": "ğŸš€",
                        "selector": "#gh-cfg-create-repo",
                        "content": "No repository linked yet. You can create one here â€” it's immediate. A real GitHub repo is created and added as your origin remote in one step.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ New Repository</div><div class=\"state-detail\">Creating a repository does two things at once:\n\n1. Creates a new repo on GitHub under your authenticated account\n2. Adds it as the <code>origin</code> remote in your local git config\n\nAfter creation, your next <code>git push</code> goes to this repo. The wizard will re-detect and unlock environments, secrets, and CODEOWNERS.\n\nAlternatively, you can set a remote manually via Git Setup if you already have a repo on GitHub.</div></div>",
                        "children": [
                            {
                                "id": "cfg-repo-name",
                                "title": "Repository Name",
                                "icon": "ğŸ“",
                                "selector": "#mf-gh-repo-name",
                                "content": "Convention: lowercase, hyphens, no spaces. This becomes part of your GitHub URL and shows up in clone commands, CI references, and deployment configs.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Naming</div><div class=\"state-detail\">The placeholder suggests your first module name â€” that's usually a good default.\n\nYour repo URL will be: <code>github.com/your-username/repo-name</code>\n\nGitHub URLs are case-insensitive, but lowercase with hyphens is the universal convention. Avoid underscores (they're valid but uncommon) and special characters.</div></div>",
                                "children": []
                            },
                            {
                                "id": "cfg-repo-vis-select",
                                "title": "Visibility",
                                "icon": "ğŸ”’",
                                "selector": "#mf-gh-repo-vis",
                                "content": "Private is the safe default â€” you can always make it public later. Going the other direction means your entire commit history becomes permanently visible.",
                                "children": []
                            },
                            {
                                "id": "cfg-repo-desc",
                                "title": "Description",
                                "icon": "ğŸ’¬",
                                "selector": "#mf-gh-repo-desc",
                                "content": "Shows on the GitHub repo page and in search results. Optional, but a good description helps discoverability â€” especially if you make the repo public later.",
                                "children": []
                            },
                            {
                                "id": "cfg-create-btn",
                                "title": "Create Button",
                                "icon": "ğŸš€",
                                "selector": "#gh-create-repo-btn",
                                "content": "This creates the repo on GitHub immediately and adds it as your origin remote. Once done, the wizard re-scans and unlocks the rest of the Configure sections.",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "cfg-branch-section",
                "title": "Default Branch",
                "icon": "ğŸŒ¿",
                "selector": "#gh-cfg-branch",
                "separator": true,
                "content": "The branch GitHub treats as default â€” it's the landing page, the PR base, and the anchor for branch protection rules. Changing it here takes effect immediately.",
                "children": [
                    {
                        "id": "cfg-branch-card",
                        "title": "Branch Setting",
                        "icon": "ğŸŒ¿",
                        "selector": "#gh-cfg-branch-card",
                        "content": "This should match the branch you set in Git Setup. If they diverge, git push targets one branch while GitHub's UI and PR system reference another.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš¡ Immediate Action</div><div class=\"state-detail\">Clicking <strong>âœï¸ Change</strong> prompts for a new branch name and changes it immediately on GitHub.\n\nWhat the change affects:\nâ€¢ Repository landing page shows the new branch\nâ€¢ New pull requests target the new branch by default\nâ€¢ Branch protection rules may need to be updated\nâ€¢ Existing PRs targeting the old branch <strong>won't</strong> auto-retarget\n\nMost projects use <code>main</code>. Legacy projects may use <code>master</code>. If your local Git Setup uses a different name, update one of them to match.</div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "cfg-codeowners-section",
                "title": "CODEOWNERS",
                "icon": "ğŸ‘¥",
                "selector": "#gh-cfg-codeowners",
                "separator": true,
                "content": "CODEOWNERS maps file patterns to reviewers. When a PR touches files matching a pattern, GitHub automatically requests a review from the listed owner â€” no manual assignment needed.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘¥ How It Works</div><div class=\"state-detail\">Each line in the CODEOWNERS file is a pattern followed by one or more owners:\n\n<code>*                @your-username</code>    â€” you review everything\n<code>/src/api/        @backend-team</code>  â€” team reviews API changes\n<code>*.py             @python-leads</code>   â€” leads review all Python files\n<code>/docs/           @docs-team</code>      â€” docs team owns documentation\n\n<strong>Last match wins</strong> â€” more specific patterns override broader ones. A file matching both <code>*</code> and <code>/src/api/</code> gets the <code>/src/api/</code> owner.\n\nChanges here are <strong>deferred</strong> â€” the file is written when you click Finish in Review.</div></div>",
                "children": [
                    {
                        "id": "cfg-co-preview",
                        "title": "Current CODEOWNERS",
                        "icon": "ğŸ“„",
                        "selector": "#gh-cfg-co-preview",
                        "content": "Your current CODEOWNERS file. Click Edit to modify â€” changes are queued for Review, not applied immediately.",
                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Existing File</div><div class=\"state-detail\">The file is shown read-only here. Use <strong>âœï¸ Edit</strong> to open the editor below.\n\nEditing replaces the entire file content â€” there's no merge. Make sure to keep any patterns you want to preserve.\n\nThe file lives at <code>.github/CODEOWNERS</code> â€” GitHub only recognizes it in this location (or the repo root, but .github is preferred).</div></div>",
                        "children": []
                    },
                    {
                        "id": "cfg-co-editor",
                        "title": "CODEOWNERS Editor",
                        "icon": "âœï¸",
                        "selector": "#co-editor-wrap",
                        "content": "Edit or create the CODEOWNERS file. The content below will be written to .github/CODEOWNERS when you click Finish in Review.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœï¸ Editing</div><div class=\"state-detail\">The checkbox controls whether the file gets written at all. Unchecking it skips the CODEOWNERS step entirely.\n\nSyntax reference:\nâ€¢ Lines starting with <code>#</code> are comments\nâ€¢ <code>*</code> matches all files (catch-all at the bottom)\nâ€¢ <code>/path/</code> matches a directory recursively\nâ€¢ <code>*.ext</code> matches files by extension\nâ€¢ Owners: <code>@username</code>, <code>@org/team-name</code>, or <code>email@example.com</code>\n\nOrder matters â€” last matching pattern wins. Put broad patterns first and specific overrides after.</div></div>",
                        "children": [
                            {
                                "id": "cfg-co-checkbox",
                                "title": "Write Toggle",
                                "icon": "â˜‘ï¸",
                                "selector": "#mf-write-codeowners",
                                "content": "Controls whether CODEOWNERS gets written when you finish. Unchecking this means no changes to the file, even if you've edited the content below.",
                                "children": []
                            },
                            {
                                "id": "cfg-co-textarea",
                                "title": "File Content",
                                "icon": "ğŸ“",
                                "selector": "#mf-codeowners-content",
                                "content": "Each line is a glob pattern followed by @owner handles. Put broad patterns first, specific overrides last â€” the last matching pattern wins.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Common Patterns</div><div class=\"state-detail\">Start simple and refine:\n\n<code>* @your-username</code>\nThis is the minimum â€” you review everything. It's the default if you're a solo developer.\n\nAs the team grows, add specifics:\n<code>/backend/  @backend-team</code>\n<code>/frontend/ @frontend-team</code>\n<code>*.tf       @infra-team</code>\n\nThe catch-all <code>*</code> should remain as a fallback â€” it catches new files that don't match any specific pattern.</div></div>",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "cfg-envs-section",
                "title": "Environment Alignment",
                "icon": "ğŸŒ",
                "selector": "#gh-cfg-envs",
                "separator": true,
                "content": "This maps your project environments (from Step 1) to GitHub deployment environments. Aligned environments can receive scoped secrets â€” missing ones block environment-level CI/CD until they're created.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ Why Alignment Matters</div><div class=\"state-detail\">GitHub deployment environments are separate from your local project config. They need to match for three things to work:\n\nâ€¢ <strong>Scoped secrets</strong> â€” each environment gets its own secrets (dev â‰  production)\nâ€¢ <strong>Protection rules</strong> â€” required reviewers, wait timers before deploy\nâ€¢ <strong>Deployment history</strong> â€” GitHub tracks which commit was deployed where\n\nEnvironments are defined in <code>project.yml</code> (Step 1). To add or remove environments, go back to Project Configuration â€” this section only creates the GitHub side.\n\nCreation is <strong>deferred</strong> â€” checked environments are created when you click Finish in Review.</div></div>",
                "children": [
                    {
                        "id": "cfg-envs-table",
                        "title": "Alignment Table",
                        "icon": "ğŸ“‹",
                        "selector": "#gh-cfg-envs-table",
                        "content": "Each row compares a local environment to GitHub. Hover a row to see its alignment state and what it means for your CI/CD pipeline.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Reading the Table</div><div class=\"state-detail\">Three columns tell the story:\n\nâ€¢ <strong>Local</strong> â€” your project.yml environment name (â­ marks the default)\nâ€¢ <strong>GitHub</strong> â€” whether a matching deployment environment exists on GitHub\nâ€¢ <strong>Action</strong> â€” \"aligned\" if it already exists, or a checkbox to create it\n\nDimmed rows at the bottom (if any) are <strong>GitHub-only</strong> environments â€” they exist on GitHub but aren't defined in your project config. They may be from a previous configuration, another tool, or manual creation.\n\nAll creation checkboxes default to checked â€” uncheck only if you intentionally don't want that environment on GitHub.</div></div>",
                        "children": [
                            {
                                "id": "cfg-env-row",
                                "title": "Environment Row",
                                "icon": "ğŸŒ",
                                "selector": "[id^=\"gh-cfg-env-\"]:not([id*=\"remote\"])",
                                "content": "This environment is defined in your project config. Its alignment state with GitHub determines whether environment-scoped secrets can target it.",
                                "variants": [
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "aligned": "true"
                                            }
                                        },
                                        "content": "âœ… Aligned â€” this environment exists on both sides. It can receive scoped secrets, protection rules, and deployment tracking. Nothing to do here.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Aligned</div><div class=\"state-detail\">This environment exists on GitHub and matches your local config. It can:\n\nâ€¢ Receive environment-scoped secrets via vault sync\nâ€¢ Have protection rules (required reviewers, wait timers)\nâ€¢ Track deployment history in GitHub's UI\n\nNo action needed â€” this row is purely informational.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "aligned": "false"
                                            }
                                        },
                                        "content": "â¬œ Missing on GitHub â€” the checkbox will create it when you click Finish. Unchecking means environment-scoped secrets targeting this environment will fail in CI/CD.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â¬œ Missing</div><div class=\"state-detail\">This environment is defined locally but doesn't exist on GitHub yet. If you leave the checkbox checked, it will be created during Review â†’ Finish.\n\n<strong>If you uncheck it:</strong>\nâ€¢ No GitHub environment is created\nâ€¢ Vault secrets scoped to this environment can't be pushed\nâ€¢ CI/CD workflows referencing this environment will fail\nâ€¢ Protection rules can't be applied\n\nUncheck only if you intentionally don't want this environment on GitHub.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "cfg-env-remote",
                                "title": "GitHub-Only Environment",
                                "icon": "â–",
                                "selector": "[id^=\"gh-cfg-env-remote-\"]",
                                "content": "This environment exists on GitHub but isn't defined in your project config. It may be from a previous configuration, another tool, or manual GitHub setup. It's harmless â€” this wizard doesn't manage it.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â– GitHub Only</div><div class=\"state-detail\">This environment has no matching entry in your <code>project.yml</code>. Possible sources:\n\nâ€¢ Created manually in GitHub Settings â†’ Environments\nâ€¢ Leftover from a previous project config\nâ€¢ Created by another CI/CD tool (Terraform, Pulumi)\n\nIt's not harmful, but this wizard can't manage it â€” no secrets will be pushed to it during sync. If you want to manage it, add a matching environment in Step 1 (Project Configuration).</div></div>",
                                "children": []
                            },
                            {
                                "id": "cfg-env-tip",
                                "title": "Environment Tip",
                                "icon": "ğŸ’¡",
                                "selector": "#gh-cfg-envs-tip",
                                "content": "Environments are defined in Step 1 (Project Configuration), not here. This section only creates the GitHub side to match what you already defined locally.",
                                "children": []
                            }
                        ]
                    },
                    {
                        "id": "cfg-co-notfound",
                        "title": "No CODEOWNERS",
                        "icon": "ğŸ“",
                        "selector": "#gh-cfg-co-notfound",
                        "content": "No CODEOWNERS file exists yet. The editor below lets you create one â€” it will be written to .github/CODEOWNERS when you click Finish in Review.",
                        "children": []
                    },
                    {
                        "id": "cfg-no-envs",
                        "title": "No Environments",
                        "icon": "â–",
                        "selector": "#gh-cfg-no-envs",
                        "content": "Without environments, secrets can only be stored at repo scope â€” every CI/CD workflow sees the same values regardless of which environment it targets.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â– Single-Scope Limitation</div><div class=\"state-detail\">Repo-scoped secrets are shared across all workflows. This means:\n\nâ€¢ Dev and production use the same database credentials\nâ€¢ No environment-specific overrides\nâ€¢ No protection rules (anyone can deploy anywhere)\n\nFor most real projects, you'll want at least <code>development</code> and <code>production</code>. Define them in the Setup Wizard â†’ Step 1 (Project Configuration), then come back here to align.</div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "cfg-secrets-section",
                "title": "Secrets Sync",
                "icon": "ğŸ”’",
                "selector": "#gh-cfg-secrets",
                "separator": true,
                "content": "What's currently on GitHub, and the option to push your vault secrets there. The green ğŸ”’ pills are secrets (encrypted, never logged). The blue ğŸ“‹ pills are variables (plaintext, visible in workflow logs).",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Secrets vs Variables</div><div class=\"state-detail\">GitHub has two types of stored values:\n\n<strong>Secrets</strong> (ğŸ”’ green pills) â€” encrypted at rest, masked in Actions logs. Use for API keys, database passwords, deploy tokens, anything sensitive.\n\n<strong>Variables</strong> (ğŸ“‹ blue pills) â€” plaintext, visible in logs. Use for region names, feature flags, service URLs, non-sensitive configuration.\n\nIn multi-environment projects, each environment has its own scope â€” dev secrets don't leak into production workflows.\n\nYour vault (Step 3) is the source of truth. Pushing syncs vault keys to GitHub â€” matching keys are overwritten, new keys are added, <strong>nothing is deleted</strong>. That's intentional: secrets set outside this tool are preserved.</div></div>",
                "children": [
                    {
                        "id": "cfg-secrets-stats",
                        "title": "Current Counts",
                        "icon": "ğŸ“Š",
                        "selector": "#gh-cfg-secrets-stats",
                        "content": "What GitHub already has. These counts reflect the current state â€” they'll update after a push. Zero doesn't mean something is wrong; it means nothing has been pushed yet.",
                        "children": []
                    },
                    {
                        "id": "cfg-secrets-env-block",
                        "title": "Environment",
                        "icon": "ğŸ·ï¸",
                        "selector": ".gh-secrets-env-block",
                        "content": "All secrets and variables scoped to this environment. Only workflows referencing this deployment environment can access them.",
                        "variants": [
                            {
                                "when": {
                                    "dataAttr": {
                                        "env": "production"
                                    }
                                },
                                "title": "Production",
                                "content": "ğŸ”´ Production scope â€” these are the real credentials your live application uses. Consider enabling required reviewers and wait timers on this environment for an extra safety layer.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”´ Production Environment</div><div class=\"state-detail\">This is your most sensitive environment. Values here:\n\nâ€¢ <strong>Real credentials</strong> â€” production database, API keys, deploy tokens\nâ€¢ <strong>Protected</strong> â€” enable required reviewers so deployments need approval\nâ€¢ <strong>Isolated</strong> â€” development workflows cannot see these values\n\nIf you push from vault, only vault keys tagged for production land here. Development keys stay in their own scope.\n\nConsider adding a <strong>wait timer</strong> (e.g., 5 minutes) to give time to cancel accidental production deployments.</div></div>"
                            },
                            {
                                "when": {
                                    "dataAttr": {
                                        "env": "development"
                                    }
                                },
                                "title": "Development",
                                "content": "ğŸŸ¢ Development scope â€” safe to use test credentials, sandbox API keys, or dummy values here. These are invisible to production workflows.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŸ¢ Development Environment</div><div class=\"state-detail\">Development is your safe sandbox:\n\nâ€¢ Use <strong>test credentials</strong> â€” sandbox databases, staging API keys\nâ€¢ <strong>Iterate freely</strong> â€” changes here don't affect production\nâ€¢ <strong>No protection needed</strong> â€” skip required reviewers for faster iteration\n\nIf you push from vault, only vault keys tagged for development land here. Production keys stay isolated.\n\nTip: keep development values close to your test environment's actual configuration to catch integration issues early.</div></div>"
                            },
                            {
                                "when": {
                                    "dataAttr": {
                                        "env": "staging"
                                    }
                                },
                                "title": "Staging",
                                "content": "ğŸŸ¡ Staging scope â€” mirrors production for pre-release validation. Use real-like credentials but against staging infrastructure, not live systems.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŸ¡ Staging Environment</div><div class=\"state-detail\">Staging should mirror production as closely as possible:\n\nâ€¢ Use <strong>real-like credentials</strong> against staging infrastructure\nâ€¢ Consider enabling <strong>required reviewers</strong> to practice the deployment approval flow\nâ€¢ Values here should be different from production â€” never share credentials between staging and production\n\nThis is your last validation step before production. Treat it with respect.</div></div>"
                            },
                            {
                                "when": {
                                    "dataAttr": {
                                        "env": "_repo"
                                    }
                                },
                                "title": "Repository Scope",
                                "content": "ğŸ“¦ Repo-scoped â€” visible to ALL workflows regardless of environment. Use only for values that genuinely need to be shared across all environments.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ Repository Scope</div><div class=\"state-detail\">Repo-scoped values are not tied to any environment:\n\nâ€¢ <strong>All workflows</strong> can access them (dev, staging, production)\nâ€¢ Useful for shared config like org name, package registry tokens\nâ€¢ <strong>Less secure for secrets</strong> â€” any workflow sees them\n\nPrefer environment-scoped values when possible. Repo scope is for truly cross-environment items.</div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "cfg-secrets-list",
                                "title": "Secrets",
                                "icon": "ğŸ”’",
                                "selector": ".gh-secrets-list",
                                "content": "Encrypted secrets â€” masked in Actions logs, not readable via API. Workflows access them via ${{ secrets.NAME }}.",
                                "variants": [
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "env": "production"
                                            }
                                        },
                                        "content": "ğŸ”’ Production secrets â€” live credentials. Encrypted at rest, masked in logs. Treat with extreme care â€” rotation should be planned, not reactive."
                                    },
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "env": "development"
                                            }
                                        },
                                        "content": "ğŸ”’ Development secrets â€” scoped to dev only. Production can't see these. Safe to use test credentials or sandbox keys."
                                    },
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "env": "_repo"
                                            }
                                        },
                                        "content": "ğŸ”’ Repo-scoped secrets â€” visible to ALL workflows. Use only for secrets that genuinely need to be shared (e.g., package registry tokens)."
                                    }
                                ],
                                "children": [
                                    {
                                        "id": "cfg-secret-pill",
                                        "title": "Secret",
                                        "icon": "ğŸ”’",
                                        "selector": ".gh-secret-pill",
                                        "content": "An encrypted secret on GitHub. Its value is masked in Actions logs and not readable via API or UI â€” only overwritable.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "dataAttr": {
                                                        "env": "production"
                                                    }
                                                },
                                                "content": "ğŸ”’ Production secret â€” this is a live credential. If you push from vault, a matching production-scoped vault key overwrites it.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ”’ Production Secret</div><div class=\"state-detail\">This secret is scoped to your production environment:\n\nâ€¢ <strong>Only production workflows</strong> can access it\nâ€¢ <strong>Encrypted at rest</strong> â€” GitHub stores it securely\nâ€¢ <strong>Masked in logs</strong> â€” GitHub Actions redacts the value\nâ€¢ <strong>Not readable</strong> â€” once set, you can only overwrite\n\nTreat production secrets with extreme care â€” rotation should be planned, not reactive.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "dataAttr": {
                                                        "env": "development"
                                                    }
                                                },
                                                "content": "ğŸ”’ Development secret â€” scoped to dev workflows only. Production can't see this value. Safe to use test credentials.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”’ Development Secret</div><div class=\"state-detail\">This secret is scoped to development:\n\nâ€¢ <strong>Only dev workflows</strong> can access it â€” production is isolated\nâ€¢ <strong>Safe to iterate</strong> â€” change values freely without production risk\nâ€¢ <strong>Test credentials welcome</strong> â€” use sandbox API keys, test databases\n\nDevelopment secrets should be easy to rotate and non-critical.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "dataAttr": {
                                                        "env": "_repo"
                                                    }
                                                },
                                                "content": "ğŸ”’ Repo-scoped secret â€” visible to ALL workflows. Use only for truly shared secrets (e.g., package registry tokens).",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”’ Repository Secret</div><div class=\"state-detail\">This secret is available to every workflow in the repo:\n\nâ€¢ <strong>All environments</strong> can access it\nâ€¢ <strong>Less secure</strong> than environment-scoped\nâ€¢ Useful for shared credentials like registry auth\n\nPrefer environment-scoped secrets when possible.</div></div>"
                                            }
                                        ],
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "cfg-vars-list",
                                "title": "Variables",
                                "icon": "ğŸ“‹",
                                "selector": ".gh-vars-list",
                                "content": "Plaintext variables â€” visible in workflow logs. Workflows access them via ${{ vars.NAME }}. Never put sensitive data here.",
                                "variants": [
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "env": "production"
                                            }
                                        },
                                        "content": "ğŸ“‹ Production variables â€” plaintext config for production. Visible in logs. Use for region, feature flags, or API URLs. Never put credentials here."
                                    },
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "env": "development"
                                            }
                                        },
                                        "content": "ğŸ“‹ Development variables â€” plaintext config for dev workflows. Safe to use test values, sandbox URLs, or debug flags."
                                    },
                                    {
                                        "when": {
                                            "dataAttr": {
                                                "env": "_repo"
                                            }
                                        },
                                        "content": "ğŸ“‹ Repo-scoped variables â€” visible to ALL workflows. Use for config that's the same across all environments (e.g., org name)."
                                    }
                                ],
                                "children": [
                                    {
                                        "id": "cfg-var-pill",
                                        "title": "Variable",
                                        "icon": "ğŸ“‹",
                                        "selector": ".gh-var-pill",
                                        "content": "A plaintext variable on GitHub â€” visible in workflow logs. Never put sensitive data in variables.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "dataAttr": {
                                                        "env": "production"
                                                    }
                                                },
                                                "content": "ğŸ“‹ Production variable â€” plaintext config visible in logs. Use for region, feature flags, or API URLs. Never put credentials here.",
                                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“‹ Production Variable</div><div class=\"state-detail\">This variable is scoped to production:\n\nâ€¢ <strong>Plaintext</strong> â€” readable in GitHub Settings, visible in Actions logs\nâ€¢ <strong>Production-only</strong> â€” dev workflows can't see it\nâ€¢ <strong>Not for secrets</strong> â€” if sensitive, use a secret instead\n\nCommon production variables: deployment region, CDN URL, feature flags, API base URL.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "dataAttr": {
                                                        "env": "development"
                                                    }
                                                },
                                                "content": "ğŸ“‹ Development variable â€” plaintext config for dev. Safe to use test values, sandbox URLs, or debug flags.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‹ Development Variable</div><div class=\"state-detail\">This variable is scoped to development:\n\nâ€¢ <strong>Plaintext</strong> â€” readable and visible in logs\nâ€¢ <strong>Dev-only</strong> â€” production can't see it\nâ€¢ <strong>Iterate freely</strong> â€” change without production risk\n\nCommon dev variables: debug flags, test API URLs, verbose logging toggles.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "dataAttr": {
                                                        "env": "_repo"
                                                    }
                                                },
                                                "content": "ğŸ“‹ Repo-scoped variable â€” visible to ALL workflows. Use for config shared across all environments.",
                                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Repository Variable</div><div class=\"state-detail\">This variable is available to every workflow:\n\nâ€¢ <strong>All environments</strong> see the same value\nâ€¢ Useful for org name, project identifiers, common build settings\nâ€¢ If environments need different values, use environment-scoped instead\n\nRepo-scoped variables are the simplest but least flexible option.</div></div>"
                                            }
                                        ],
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": "cfg-push-card",
                        "title": "Push Secrets",
                        "icon": "â¬†ï¸",
                        "selector": "#gh-cfg-push-card",
                        "content": "This is a bulk operation â€” every vault key goes to GitHub at once. Matching keys are overwritten, new keys are added, nothing is deleted. For granular per-key control, use the ğŸ” Secrets tab instead.",
                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â¬†ï¸ Bulk Push</div><div class=\"state-detail\">When checked, the push happens during Review â†’ Finish. Here's exactly what it does:\n\n1. Reads all vault keys (from Step 3)\n2. Classifies each as secret or variable based on its kind\n3. Skips <code>GITHUB_TOKEN</code> and <code>GITHUB_REPOSITORY</code> (auto-provided by GitHub)\n4. Skips keys marked as <code>local_only</code>\n5. Pushes everything else to the matching GitHub scope\n\nIn multi-environment projects, keys are pushed per-environment. In single-environment projects, they go to repo scope.\n\nIf your vault is locked, the push will fail â€” vault values can't be read without unlocking first.</div></div>",
                        "children": [
                            {
                                "id": "cfg-push-checkbox",
                                "title": "Push Toggle",
                                "icon": "â˜‘ï¸",
                                "selector": "#mf-push-secrets",
                                "content": "Check this to queue a vault-to-GitHub sync during Review. All vault keys (except auto-provided and local-only) will be pushed. If vault is locked, the push will fail at apply time.",
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "review-section",
                "title": "Review & Apply",
                "icon": "âœ…",
                "selector": ".wiz-section-header",
                "separator": true,
                "content": "The last stop before changes go live. Everything listed here happens when you click Finish. Immediate actions (visibility, branch, repo creation) already happened in Configure â€” this covers only the deferred ones.",
                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âœ… What Happens on Finish</div><div class=\"state-detail\">Clicking <strong>âœ… Apply Changes</strong> executes queued operations in order:\n\n1. <strong>Create environments</strong> â€” any checked environments from the alignment table\n2. <strong>Write CODEOWNERS</strong> â€” if the checkbox was checked in Configure\n3. <strong>Push secrets</strong> â€” bulk vault-to-GitHub sync if enabled\n\nIf nothing is queued, the button is informational â€” clicking it just closes the wizard.\n\nAfter apply, all caches are invalidated and the GitHub card on the dashboard refreshes automatically.\n\n<strong>Next integration:</strong> Docker Setup containerizes your application. The button at the bottom opens it directly.</div></div>",
                "children": []
            }
        ]
    },
    {
        "context": "setup/docker",
        "title": "Docker Setup",
        "icon": "ğŸ³",
        "content": "Three steps to containerize your project â€” detect what's here, configure each service, then preview and write the files.\n\nThis wizard generates production-ready Dockerfiles and Compose configuration based on your project's modules and stack.",
        "children": [
            {
                "id": "docker-detect-env-section",
                "title": "Docker Environment",
                "icon": "ğŸ³",
                "selector": "#docker-detect-env-section",
                "separator": true,
                "content": "A snapshot of your Docker tooling and existing config files. Everything here is read-only â€” the wizard uses this to decide what it can generate and what's already covered.",
                "children": [
                    {
                        "id": "docker-detect-grid",
                        "title": "Detection Grid",
                        "icon": "ğŸ“Š",
                        "selector": "#docker-detect-grid",
                        "content": "Five checks that determine what the wizard can do. Docker Engine is the foundation â€” without it, builds and runs are off the table. The file checks tell the wizard whether to generate fresh configs or work around existing ones.",
                        "children": [
                            {
                                "id": "docker-detect-engine",
                                "title": "Docker Engine",
                                "icon": "ğŸ³",
                                "selector": "#docker-detect-engine",
                                "content": "The Docker daemon â€” the foundation everything else depends on. Compose, image builds, container management, and local testing all require this.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "not found"
                                        },
                                        "content": "Docker isn't installed on this machine. You can still generate Dockerfiles and Compose configs â€” they'll be ready for when Docker is available.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Docker Not Found</div><div class=\"state-detail\">The wizard can generate all configuration files without Docker installed. You just won't be able to:\n\nâ€¢ <strong>Build images</strong> â€” `docker build` requires the daemon\nâ€¢ <strong>Run containers</strong> â€” `docker run` / `docker compose up`\nâ€¢ <strong>Test locally</strong> â€” no local container environment\n\nInstall Docker Desktop or Docker Engine, then re-scan to pick it up.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "."
                                        },
                                        "content": "Docker is installed and reachable. Builds, runs, and Compose orchestration are all available. The version shown is what the daemon reports.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Engine Ready</div><div class=\"state-detail\">The Docker daemon is running and responding. This means you can:\n\nâ€¢ <strong>Build images</strong> locally after generating Dockerfiles\nâ€¢ <strong>Run containers</strong> with `docker compose up`\nâ€¢ <strong>Test your stack</strong> before pushing to CI/CD\n\nThe version matters for multi-stage builds and BuildKit features â€” anything 20+ is modern enough.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "docker-detect-compose",
                                "title": "Docker Compose",
                                "icon": "âš™ï¸",
                                "selector": "#docker-detect-compose",
                                "content": "Compose orchestrates multi-container stacks â€” your app, database, cache, reverse proxy all wired together with one `docker compose up`.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Compose Available</div><div class=\"state-detail\">Docker Compose is installed. The wizard will generate a <code>docker-compose.yml</code> that wires your services together â€” application containers, infrastructure services (databases, caches), networking, and volume mounts.\n\nCompose v2 (the <code>docker compose</code> plugin) is the modern standard. If you see v2.x here, you're on the current path.</div></div>",
                                "children": []
                            },
                            {
                                "id": "docker-detect-dockerfile",
                                "title": "Dockerfile",
                                "icon": "ğŸ“„",
                                "selector": "#docker-detect-dockerfile",
                                "content": "Whether a Dockerfile already exists in the project root.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "present"
                                        },
                                        "content": "A Dockerfile already exists. The Configure step will let you regenerate it from your stack template or leave the existing one untouched.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“„ Existing Dockerfile</div><div class=\"state-detail\">The wizard detected an existing Dockerfile. In Configure, you'll have the choice to:\n\nâ€¢ <strong>Keep it</strong> â€” the wizard won't overwrite it\nâ€¢ <strong>Regenerate</strong> â€” replace with a stack-optimized template (multi-stage build, proper caching layers, security best practices)\n\nIf you have module-specific Dockerfiles in subdirectories, those are handled per-module in the Configure step.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "missing"
                                        },
                                        "content": "No Dockerfile found. The Configure step will generate one based on your module's stack â€” with multi-stage builds, layer caching, and security defaults baked in.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“„ No Dockerfile Yet</div><div class=\"state-detail\">The wizard will generate a production-ready Dockerfile in the Configure step. Stack-specific templates include:\n\nâ€¢ <strong>Multi-stage builds</strong> â€” separate build and runtime stages\nâ€¢ <strong>Layer caching</strong> â€” dependencies installed before code copy\nâ€¢ <strong>Security defaults</strong> â€” non-root user, minimal base image\nâ€¢ <strong>Port exposure</strong> â€” based on your stack's default port</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "docker-detect-composefile",
                                "title": "Compose File",
                                "icon": "ğŸ“‹",
                                "selector": "#docker-detect-composefile",
                                "content": "Whether a docker-compose.yml (or .yaml) exists in the project root.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "present"
                                        },
                                        "content": "A Compose file already exists. The wizard can regenerate it with your detected modules and infrastructure services, or you can keep the existing one.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Existing Compose File</div><div class=\"state-detail\">The wizard found a Compose file. In Configure, infrastructure services (databases, caches) will be offered as additions â€” the wizard understands what's already defined.\n\nIf your existing Compose file has custom networking, volumes, or service dependencies, regenerating will replace those. Consider keeping it and making manual adjustments instead.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "missing"
                                        },
                                        "content": "No Compose file yet. The wizard will generate one in Configure â€” wiring your application containers with any infrastructure services you select (databases, caches, proxies).",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ“‹ No Compose File Yet</div><div class=\"state-detail\">A Compose file ties your containers together. The wizard will generate one that includes:\n\nâ€¢ <strong>Application services</strong> â€” one per deployable module\nâ€¢ <strong>Infrastructure</strong> â€” databases, caches, proxies you select\nâ€¢ <strong>Networking</strong> â€” a shared network for inter-service communication\nâ€¢ <strong>Volume mounts</strong> â€” persistent data for databases, source code for dev mode\nâ€¢ <strong>Environment variables</strong> â€” wired from your vault secrets</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "docker-detect-ignore",
                                "title": ".dockerignore",
                                "icon": "ğŸš«",
                                "selector": "#docker-detect-ignore",
                                "content": "Controls what gets sent to the Docker daemon during builds. Without it, everything in your project directory â€” node_modules, .git, test data â€” gets copied into the build context.",
                                "variants": [
                                    {
                                        "when": {
                                            "textContains": "present"
                                        },
                                        "content": "A .dockerignore exists. It keeps your build context lean â€” excluding .git, node_modules, __pycache__, and other non-essential files from the image.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš« Build Context Filtered</div><div class=\"state-detail\">Your .dockerignore prevents unnecessary files from being sent to the Docker daemon during builds. This matters for:\n\nâ€¢ <strong>Build speed</strong> â€” smaller context = faster COPY operations\nâ€¢ <strong>Image size</strong> â€” no accidental inclusion of test data or dev dependencies\nâ€¢ <strong>Security</strong> â€” .env files, secrets, and .git history stay out of the image</div></div>"
                                    },
                                    {
                                        "when": {
                                            "textContains": "missing"
                                        },
                                        "content": "No .dockerignore found. Without one, your entire project directory â€” including .git, node_modules, and .env files â€” gets sent to the Docker daemon on every build. The wizard will generate one.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸš« No .dockerignore</div><div class=\"state-detail\">Without a .dockerignore, <code>docker build</code> copies <strong>everything</strong> in your project to the daemon. This means:\n\nâ€¢ <strong>Slow builds</strong> â€” hundreds of MB of node_modules / .git transferred\nâ€¢ <strong>Bloated images</strong> â€” test fixtures, docs, and dev files in production\nâ€¢ <strong>Security risk</strong> â€” .env files with credentials baked into the image\n\nThe wizard will generate a stack-appropriate .dockerignore in the Preview step.</div></div>"
                                    }
                                ],
                                "children": []
                            }
                        ]
                    }
                ]
            },
            {
                "id": "docker-detect-mod-section",
                "title": "Project Modules",
                "icon": "ğŸ“¦",
                "selector": "#docker-detect-mod-section",
                "separator": true,
                "content": "The modules detected from your project configuration. Each one is classified based on its domain and stack â€” the wizard uses this to decide which modules become containers and which don't.",
                "children": [
                    {
                        "id": "docker-detect-modules",
                        "title": "Module List",
                        "icon": "ğŸ“¦",
                        "selector": "#docker-detect-modules",
                        "content": "Your project's modules, classified for containerization. Deployable modules get Dockerfiles in the next step. Libraries, docs, and ops-tools are listed for context but don't become containers.",
                        "dynamic": true,
                        "childTemplate": {
                            "title": "{{name}}",
                            "content": "The {{name}} module â€” detected from your project configuration.",
                            "selector": "[id^=\"docker-detect-mod-\"]",
                            "nameSelector": "strong",
                            "variants": [
                                {
                                    "when": {
                                        "dataAttr": {
                                            "modclass": "deployable"
                                        }
                                    },
                                    "content": "{{name}} is deployable â€” it has a recognized stack that maps to a Dockerfile template. In Configure, you'll choose port, base image variant, and environment variables for this service.",
                                    "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŸ¢ Deployable Module</div><div class=\"state-detail\">This module has a stack the wizard knows how to containerize. In the Configure step, you'll set:\n\nâ€¢ <strong>Base image</strong> â€” the runtime for this service\nâ€¢ <strong>Exposed port</strong> â€” default based on the stack\nâ€¢ <strong>Build stages</strong> â€” multi-stage for smaller production images\nâ€¢ <strong>Environment variables</strong> â€” wired from your vault\n\nThe generated Dockerfile will follow best practices for this stack â€” layer caching, non-root user, minimal base.</div></div>"
                                },
                                {
                                    "when": {
                                        "dataAttr": {
                                            "modclass": "library"
                                        }
                                    },
                                    "content": "{{name}} is a library â€” shared code consumed by other modules. Libraries don't get their own container; they're included as dependencies in the modules that import them.",
                                    "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“š Library Module</div><div class=\"state-detail\">Libraries are shared code packages â€” they don't run independently, so they don't need their own Dockerfile.\n\nIf a deployable module depends on this library, the Dockerfile's build stage will include it via the package manager (pip install, npm install, etc.) or a workspace reference.</div></div>"
                                },
                                {
                                    "when": {
                                        "dataAttr": {
                                            "modclass": "docs"
                                        }
                                    },
                                    "content": "{{name}} is a documentation module â€” Markdown, Docusaurus, or similar. Docs modules typically get a separate build pipeline (Pages) rather than a container.",
                                    "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ Documentation Module</div><div class=\"state-detail\">Documentation doesn't need containerization â€” it's usually built and deployed as static files via GitHub Pages or a similar service.\n\nIf you do want to containerize docs (e.g., for a docs preview server), you can manually add a Dockerfile in the Configure step.</div></div>"
                                },
                                {
                                    "when": {
                                        "dataAttr": {
                                            "modclass": "ops-tool"
                                        }
                                    },
                                    "content": "{{name}} is an infrastructure/ops module â€” Kubernetes manifests, Helm charts, Terraform configs, or Compose definitions. These define how other containers run, not containers themselves.",
                                    "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ Ops Tool Module</div><div class=\"state-detail\">Infrastructure modules contain deployment configuration â€” they orchestrate containers rather than becoming one.\n\nKubernetes manifests, Helm charts, and Terraform configs are consumed by their respective tools at deploy time. The Docker wizard skips these during Dockerfile generation.</div></div>"
                                }
                            ]
                        },
                        "children": []
                    },
                    {
                        "id": "docker-detect-deployable-hint",
                        "title": "Deployable Summary",
                        "icon": "ğŸ’¡",
                        "selector": "#docker-detect-deployable-hint",
                        "content": "A count of modules the wizard can containerize. These are the modules that will appear in Configure with Dockerfile generation options.",
                        "children": []
                    }
                ]
            },
            {
                "id": "dk-cfg-compose-section",
                "title": "Compose Project",
                "icon": "ğŸ“¦",
                "selector": "#dk-cfg-compose-section",
                "separator": true,
                "content": "Global settings that apply to the entire docker-compose.yml â€” the project name and target platform. These are optional and usually fine as defaults.",
                "children": [
                    {
                        "id": "dk-cfg-project-name",
                        "title": "Project Name",
                        "icon": "âœï¸",
                        "selector": "#mf-dk-project-name",
                        "content": "The Compose project name â€” used as a prefix for container names, networks, and volumes. If left empty, Compose uses the directory name.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âœï¸ Project Naming</div><div class=\"state-detail\">The project name controls the prefix Compose applies to all resources:\n\nâ€¢ <strong>Containers</strong> â€” <code>{project}_{service}_1</code>\nâ€¢ <strong>Networks</strong> â€” <code>{project}_default</code>\nâ€¢ <strong>Volumes</strong> â€” <code>{project}_{volume}</code>\n\nLeaving this empty is fine for most cases â€” Compose defaults to the directory name. Set it explicitly if you run multiple Compose stacks in the same directory or want predictable names for scripting.</div></div>",
                        "children": []
                    },
                    {
                        "id": "dk-cfg-platform",
                        "title": "Platform",
                        "icon": "ğŸ–¥ï¸",
                        "selector": "#mf-dk-platform",
                        "content": "Overrides the platform for all containers. Usually 'auto' is correct â€” set this only for cross-platform builds (e.g., building ARM images on an Intel Mac).",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ–¥ï¸ Platform Override</div><div class=\"state-detail\">The <code>platform</code> field tells Docker what CPU architecture to target:\n\nâ€¢ <strong>linux/amd64</strong> â€” Intel/AMD 64-bit (most servers, CI runners)\nâ€¢ <strong>linux/arm64</strong> â€” ARM 64-bit (Apple Silicon, Graviton)\nâ€¢ <strong>auto</strong> â€” use the host's architecture (default)\n\nOnly set this if you're building for a different architecture than your local machine. Cross-platform builds use QEMU emulation, which is slower.</div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "dk-cfg-containers-section",
                "title": "Containers",
                "icon": "ğŸ³",
                "selector": "#dk-cfg-containers-section",
                "separator": true,
                "content": "Each selected module becomes a Docker service. Uncheck a module to exclude it. Expand Dockerfile and Compose sections for fine-grained control.",
                "children": [
                    {
                        "id": "dk-cfg-mod-card",
                        "title": "Module Container",
                        "icon": "ğŸ“¦",
                        "selector": "[id^='dk-mod-card-']",
                        "nameSelector": "strong",
                        "content": "Configuration for this module's Docker container â€” the image, build process, networking, and environment.",
                        "children": [
                            {
                                "id": "dk-cfg-base-image",
                                "title": "Base Image",
                                "icon": "ğŸ—ï¸",
                                "selector": "[id^='mf-dk-img-'], #mf-dk-manual-img",
                                "content": "The Docker base image for this service. The wizard pre-selects images based on the detected stack â€” pick an alpine variant for smaller images.",
                                "variants": [
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value*='python']"
                                        },
                                        "icon": "ğŸ",
                                        "content": "ğŸ Python runtime â€” slim variants give best balance for Python. Alpine can break C-extension packages (numpy, psycopg2). Pin the version to match your local Python.",
                                        "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-success\" style=\"margin-top:0.4rem\"><div class=\"state-label\">ğŸ Python Notes</div><div class=\"state-detail\">â€¢ <strong>slim</strong> (~150MB) â€” Debian-based, all pip packages work. Best default.\nâ€¢ <strong>alpine</strong> (~50MB) â€” uses musl libc. numpy, pandas, psycopg2 may fail without extra build deps.\nâ€¢ <strong>full</strong> (~400MB+) â€” includes dev headers. Use when slim builds fail.\n\nVirtual environments are optional inside containers â€” pip install directly is the convention.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value*='node']"
                                        },
                                        "icon": "ğŸŸ¢",
                                        "content": "ğŸŸ¢ Node.js runtime â€” alpine works well for most Node apps. Use slim if you hit native addon build failures.",
                                        "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-success\" style=\"margin-top:0.4rem\"><div class=\"state-label\">ğŸŸ¢ Node.js Notes</div><div class=\"state-detail\">â€¢ <strong>alpine</strong> (~50MB) â€” excellent for Node. Most npm packages work.\nâ€¢ <strong>slim</strong> (~150MB) â€” use if native modules fail on alpine (sharp, bcrypt).\n\nFor production: use <code>npm ci --only=production</code> for reproducible installs from lockfile.\n\nIncludes V8 engine, npm, npx. Yarn via corepack enable.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value*='golang']"
                                        },
                                        "icon": "ğŸ”µ",
                                        "content": "ğŸ”µ Go runtime â€” ideal for multi-stage builds. Compile in the Go image, copy the binary to scratch or alpine for a tiny final image.",
                                        "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-success\" style=\"margin-top:0.4rem\"><div class=\"state-label\">ğŸ”µ Go Notes</div><div class=\"state-detail\">Best practice is multi-stage:\n\n<strong>Stage 1:</strong> compile your binary (<code>CGO_ENABLED=0 go build</code>)\n<strong>Stage 2:</strong> copy into <code>scratch</code> or <code>alpine</code>\n\nResult: final image under 20MB. Go compiles to static binaries by default, so the final stage needs zero runtime dependencies.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value*='rust']"
                                        },
                                        "icon": "ğŸ¦€",
                                        "content": "ğŸ¦€ Rust runtime â€” like Go, best with multi-stage builds. Compile in rust image, deploy the binary to a minimal base.",
                                        "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-success\" style=\"margin-top:0.4rem\"><div class=\"state-label\">ğŸ¦€ Rust Notes</div><div class=\"state-detail\">Multi-stage approach:\n\n<strong>Stage 1:</strong> <code>cargo build --release</code>\n<strong>Stage 2:</strong> copy the binary to <code>debian:bookworm-slim</code> or <code>alpine</code>\n\nRust binaries are statically linked by default on musl targets, so alpine final stages work well.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value*='temurin']"
                                        },
                                        "icon": "â˜•",
                                        "content": "â˜• Java runtime (Eclipse Temurin) â€” for runtime-only deployments, consider JRE variant instead of JDK for smaller images.",
                                        "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-success\" style=\"margin-top:0.4rem\"><div class=\"state-label\">â˜• Java Notes</div><div class=\"state-detail\">â€¢ <strong>JDK</strong> â€” full development kit. Needed for builds.\nâ€¢ <strong>JRE</strong> â€” runtime only, smaller. Use for production.\nâ€¢ <strong>alpine</strong> â€” smallest variant, works for most Spring/Quarkus apps.\n\nFor Gradle/Maven projects, multi-stage works well â€” build in JDK, run in JRE.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value='__custom']"
                                        },
                                        "icon": "âœï¸",
                                        "content": "âœï¸ Custom image â€” enter any image from Docker Hub or a private registry. Make sure the tag is pinned for reproducible builds.",
                                        "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-label\">âœï¸ Custom Image Tips</div><div class=\"state-detail\">â€¢ <strong>Pin the tag</strong> â€” use <code>registry/image:1.2.3</code> not <code>:latest</code>\nâ€¢ <strong>Use official images</strong> when possible â€” they get security patches\nâ€¢ <strong>Private registry?</strong> â€” <code>docker login</code> first, or pass credentials as a build arg</div></div>"
                                    }
                                ],
                                "expanded": "{{dkSetupBaseBreakdown}}<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-label\">ğŸ—ï¸ Base Image</div><div class=\"state-detail\">The base image is the FROM line in your Dockerfile. It determines:\n\nâ€¢ <strong>Runtime</strong> â€” which language runtime and version\nâ€¢ <strong>Size</strong> â€” alpine variants are ~5-10Ã— smaller than full images\nâ€¢ <strong>Security</strong> â€” official images get regular CVE patches\nâ€¢ <strong>Compatibility</strong> â€” some packages don't compile on alpine (musl libc)</div></div>",
                                "children": []
                            },
                            {
                                "id": "dk-cfg-dockerfile-path",
                                "title": "Dockerfile Path",
                                "icon": "ğŸ“‚",
                                "selector": "[id^='mf-dk-dkpath-']",
                                "content": "Where to write the generated Dockerfile. Defaults to 'Dockerfile' at the project root, or '{module-path}/Dockerfile' for multi-module repos.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‚ Dockerfile Placement</div><div class=\"state-detail\">In a multi-module monorepo, each module gets its own Dockerfile:\n\nâ€¢ <strong>Single module</strong> â†’ <code>Dockerfile</code> at project root\nâ€¢ <strong>Multi-module</strong> â†’ <code>services/api/Dockerfile</code>, <code>services/worker/Dockerfile</code>, etc.\n\nThe build context for each is set in <code>docker-compose.yml</code> to match the module's path, so COPY instructions resolve correctly.</div></div>",
                                "children": []
                            },
                            {
                                "id": "dk-cfg-restart-policy",
                                "title": "Restart Policy",
                                "icon": "ğŸ”„",
                                "selector": "[id^='mf-dk-restart-'], #mf-dk-manual-restart",
                                "content": "How Docker handles container crashes. 'unless-stopped' is the safe default â€” the container restarts automatically unless you explicitly stop it.",
                                "variants": [
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value='unless-stopped']"
                                        },
                                        "icon": "âœ…",
                                        "content": "âœ… unless-stopped â€” recommended default. Restarts automatically on crash or reboot, but respects manual <code>docker compose stop</code>.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Restart Â· unless-stopped</div><div class=\"state-detail\">Best default for most services. The container will:\n\nâ€¢ âœ“ Restart after a crash (non-zero exit)\nâ€¢ âœ“ Restart after host reboot\nâ€¢ âœ— Stay stopped if you manually run <code>docker compose stop</code>\n\nThis gives you automatic recovery without being impossible to shut down.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value='no']"
                                        },
                                        "icon": "â¹ï¸",
                                        "content": "â¹ï¸ no â€” container stays stopped after exit. Good for one-shot tasks, cron jobs, or CI scripts that should run once.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â¹ï¸ Restart Â· no</div><div class=\"state-detail\">No automatic restart. Use this for:\n\nâ€¢ One-shot migration or seed scripts\nâ€¢ Batch jobs triggered externally\nâ€¢ Containers managed by an external orchestrator (K8s, Swarm)\n\nIf this is a long-running service, you probably want <code>unless-stopped</code> instead.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value='on-failure']"
                                        },
                                        "icon": "âš ï¸",
                                        "content": "âš ï¸ on-failure â€” restarts only on crash (non-zero exit). Clean exits (code 0) stay stopped. Good for workers and queue consumers.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš ï¸ Restart Â· on-failure</div><div class=\"state-detail\">Only restarts on non-zero exit codes. The container will:\n\nâ€¢ âœ“ Restart after a crash or unhandled exception\nâ€¢ âœ— Stay stopped after clean exit (code 0)\nâ€¢ âœ— Not restart after host reboot\n\nIdeal for background workers that should recover from errors but not loop endlessly on a successful completion.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "hasSelector": "option:checked[value='always']"
                                        },
                                        "icon": "ğŸ”",
                                        "content": "ğŸ” always â€” aggressively restarts even after manual stop. Use with caution â€” makes the container hard to shut down during debugging.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸ” Restart Â· always</div><div class=\"state-detail\">Aggressive: restarts under ALL circumstances.\n\nâ€¢ âœ“ Restarts after crash\nâ€¢ âœ“ Restarts after host reboot\nâ€¢ âš  Restarts even after <code>docker compose stop</code>\n\nThis can be annoying during development â€” the container keeps coming back when you're trying to debug. Consider <code>unless-stopped</code> for the same reliability without the stubbornness.</div></div>"
                                    }
                                ],
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”„ Restart Policies</div><div class=\"state-detail\">Docker restart policies control recovery behavior:\n\nâ€¢ <strong>no</strong> â€” never restart automatically (good for one-shot tasks)\nâ€¢ <strong>on-failure</strong> â€” restart only on non-zero exit code (good for workers)\nâ€¢ <strong>always</strong> â€” restart even after <code>docker compose stop</code> (aggressive)\nâ€¢ <strong>unless-stopped</strong> â€” restart unless manually stopped (best default)\n\nFor development, <code>unless-stopped</code> keeps services running across reboots without being annoying. In production with orchestration (K8s, Swarm), set <code>no</code> and let the orchestrator handle restarts.</div></div>",
                                "children": []
                            },
                            {
                                "id": "dk-cfg-dockerfile-details",
                                "title": "Dockerfile Settings",
                                "icon": "ğŸ“œ",
                                "selector": "[id^='dk-mod-dockerfile-']",
                                "content": "Fine-tune the Dockerfile build stages â€” working directory, install commands, build steps, and the runtime command.",
                                "children": [
                                    {
                                        "id": "dk-cfg-workdir",
                                        "title": "Working Directory",
                                        "icon": "ğŸ“",
                                        "selector": "[id^='mf-dk-workdir-'], #mf-dk-manual-workdir",
                                        "content": "The WORKDIR in the Dockerfile â€” where your app code lives inside the container. Defaults to /app, which is the convention for most stacks.",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-install",
                                        "title": "Install Command",
                                        "icon": "ğŸ“¥",
                                        "selector": "[id^='mf-dk-install-'], #mf-dk-manual-install",
                                        "content": "The dependency install step â€” runs before your code is copied to leverage Docker's layer cache. Changed dependencies invalidate this layer and everything below it.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¥ Install Layer Caching</div><div class=\"state-detail\">Docker builds in layers. The install command runs in its own layer:\n\n<strong>1.</strong> Copy dependency manifest (requirements.txt, package.json)\n<strong>2.</strong> Run install command â†’ <em>cached if manifest unchanged</em>\n<strong>3.</strong> Copy source code\n<strong>4.</strong> Run build\n\nThis ordering means code changes don't re-trigger dependency installation â€” only changing your dependency file does. This can save minutes on each build.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-build-cmd",
                                        "title": "Build Command",
                                        "icon": "ğŸ”¨",
                                        "selector": "[id^='mf-dk-build-'], #mf-dk-manual-build",
                                        "content": "A compile or transpile step that runs after install. For interpreted languages (Python, Ruby), leave this empty. For compiled/bundled stacks (TypeScript, Go, Rust), this is required.",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-entrypoint",
                                        "title": "Entrypoint",
                                        "icon": "ğŸšª",
                                        "selector": "[id^='mf-dk-entrypoint-'], #mf-dk-manual-entrypoint",
                                        "content": "The ENTRYPOINT instruction â€” the fixed base command. Arguments passed at runtime (or via CMD) are appended to it.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸšª Entrypoint vs CMD</div><div class=\"state-detail\">ENTRYPOINT and CMD work together:\n\nâ€¢ <strong>ENTRYPOINT</strong> â€” the executable that always runs (e.g., <code>gunicorn</code>, <code>node</code>)\nâ€¢ <strong>CMD</strong> â€” default arguments, overridable at runtime\n\nExample: <code>ENTRYPOINT [\"gunicorn\"]</code> + <code>CMD [\"app:app\", \"--bind\", \"0.0.0.0:8000\"]</code>\n\nLeave ENTRYPOINT empty if your CMD is the complete command. Use ENTRYPOINT when you want <code>docker run myimage --some-flag</code> to append flags to a fixed binary.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-cmd",
                                        "title": "CMD",
                                        "icon": "â–¶ï¸",
                                        "selector": "[id^='mf-dk-cmd-'], #mf-dk-manual-cmd",
                                        "content": "The default command to run when the container starts. If ENTRYPOINT is set, this becomes the arguments to it. If not, this is the full startup command.",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-expose",
                                        "title": "EXPOSE Port",
                                        "icon": "ğŸ”Œ",
                                        "selector": "[id^='mf-dk-expose-'], #mf-dk-manual-expose",
                                        "content": "The port declared in the Dockerfile's EXPOSE instruction. This is documentation â€” it tells other developers and tooling which port the app listens on. Actual binding happens in the port mappings below.",
                                        "expanded": "{{dkExposeHover}}",
                                        "children": []
                                    }
                                ]
                            },
                            {
                                "id": "dk-cfg-compose-details",
                                "title": "Compose Settings",
                                "icon": "ğŸ”§",
                                "selector": "[id^='dk-mod-compose-']",
                                "content": "Docker Compose-specific settings â€” container name, health checks, build args, networks, and the sub-sections for environment variables, ports, and volumes.",
                                "children": [
                                    {
                                        "id": "dk-cfg-container-name",
                                        "title": "Container Name",
                                        "icon": "ğŸ·ï¸",
                                        "selector": "[id^='mf-dk-cname-'], #mf-dk-manual-cname",
                                        "content": "An explicit container name. If left empty, Compose auto-generates one from the project and service names. Set this if you need a predictable name for scripts or health checks.",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-healthcheck",
                                        "title": "Health Check",
                                        "icon": "ğŸ’“",
                                        "selector": "[id^='mf-dk-health-'], #mf-dk-manual-health",
                                        "content": "A command Compose runs periodically to check if the container is healthy. Typically a curl or wget to a /health endpoint. Services depending on this one won't start until it's healthy.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’“ Health Check Patterns</div><div class=\"state-detail\">Common health check commands by stack:\n\nâ€¢ <strong>HTTP apps</strong> â€” <code>curl -f http://localhost:PORT/health</code>\nâ€¢ <strong>PostgreSQL</strong> â€” <code>pg_isready -U $POSTGRES_USER</code>\nâ€¢ <strong>Redis</strong> â€” <code>redis-cli ping</code>\nâ€¢ <strong>Custom</strong> â€” any command that exits 0 on success\n\nCompose retries the check every 30s (configurable). A service marked <code>condition: service_healthy</code> in <code>depends_on</code> waits for the healthcheck to pass before starting.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-build-args",
                                        "title": "Build Args",
                                        "icon": "ğŸ”‘",
                                        "selector": "[id^='mf-dk-buildargs-'], #mf-dk-manual-buildargs",
                                        "content": "Build-time variables passed to the Dockerfile as ARG values. These are available during build but NOT in the running container. Use for private registry tokens, build flags, or version stamps.",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-networks",
                                        "title": "Networks",
                                        "icon": "ğŸŒ",
                                        "selector": "[id^='mf-dk-networks-'], #mf-dk-manual-networks",
                                        "content": "Custom networks this service joins. By default, all services share one network. Add named networks to isolate groups of services â€” e.g., 'backend' for API + DB, 'frontend' for web + proxy.",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-env-section",
                                        "title": "Environment Variables",
                                        "icon": "ğŸ”",
                                        "selector": "[id^='dk-mod-env-']",
                                        "content": "Environment variables injected into the container at runtime. Each row defines a key and its value source â€” hardcoded, from a vault variable, or from a vault secret.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "hasSelector": ".dk-env-row"
                                                },
                                                "content": "Environment variables configured â€” each row maps a key to a value source. Secrets and variables reference your vault; hardcoded values go directly into the compose file.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ” Env Vars Â· configured</div><div class=\"state-detail\">You have environment variables defined for this service.\n\nInjection modes:\nâ€¢ <strong>ğŸ“‹ Hardcoded</strong> â€” value written directly in docker-compose.yml. Visible in source control.\nâ€¢ <strong>ğŸ”„ Variable</strong> â€” substituted at deploy time from your vault's <code>.env</code> export.\nâ€¢ <strong>ğŸ”’ Secret</strong> â€” like Variable, but sourced from the encrypted vault secrets.\n\nIf a referenced variable doesn't exist in your vault yet, check 'â˜ Create on execution' to auto-provision it. The ğŸ² Generate button creates a random value suitable for secrets.\n\nâš  Duplicate keys are flagged â€” only the last one takes effect in Docker.</div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Environment Variables</div><div class=\"state-detail\">No environment variables configured yet. Click '+ Add variable' to define one.\n\nCommon variables by stack:\nâ€¢ <strong>Python</strong> â€” PYTHONUNBUFFERED=1, FLASK_ENV, DATABASE_URL\nâ€¢ <strong>Node.js</strong> â€” NODE_ENV, PORT, DATABASE_URL\nâ€¢ <strong>Go</strong> â€” GIN_MODE, PORT\nâ€¢ <strong>Java</strong> â€” SPRING_PROFILES_ACTIVE, JAVA_OPTS\n\nFor sensitive values (passwords, API keys), use ğŸ”’ Secret injection so they never appear in your compose file.</div></div>",
                                        "children": [
                                            {
                                                "id": "dk-cfg-env-row",
                                                "title": "Variable Row",
                                                "icon": "ğŸ“",
                                                "selector": ".dk-env-row",
                                                "content": "A single environment variable â€” the key it's injected as, how the value is sourced, and which vault entry it maps to.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "hasSelector": "select option:checked[value='secret']"
                                                        },
                                                        "icon": "ğŸ”’",
                                                        "content": "ğŸ”’ Secret â€” this variable's value will be sourced from your encrypted vault. It won't appear in the compose file, only in the generated .env at deploy time."
                                                    },
                                                    {
                                                        "when": {
                                                            "hasSelector": "select option:checked[value='variable']"
                                                        },
                                                        "icon": "ğŸ”„",
                                                        "content": "ğŸ”„ Variable â€” this value is substituted from your vault's variables at deploy time. The compose file will contain ${VAR_NAME} syntax."
                                                    },
                                                    {
                                                        "when": {
                                                            "hasSelector": "select option:checked[value='hardcoded']"
                                                        },
                                                        "icon": "ğŸ“‹",
                                                        "content": "ğŸ“‹ Hardcoded â€” this value is written directly in docker-compose.yml. Make sure it's not sensitive â€” anyone with the file can read it."
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "dk-cfg-ports-section",
                                        "title": "Port Mappings",
                                        "icon": "ğŸ”Œ",
                                        "selector": "[id^='dk-mod-ports-wrap-']",
                                        "content": "Maps host ports to container ports so the service is reachable from your machine.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "hasSelector": ".dk-port-row"
                                                },
                                                "content": "Port mappings active â€” each row binds a host port to a container port. The wizard checks for conflicts across all services.",
                                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”Œ Ports Â· mapped</div><div class=\"state-detail\">Port mappings follow <code>HOST:CONTAINER</code> convention:\n\nâ€¢ <strong>Host port</strong> â€” the port on your machine. Must be unique across all services.\nâ€¢ <strong>Container port</strong> â€” what the app listens on inside Docker. Can repeat across services.\nâ€¢ <strong>Protocol</strong> â€” tcp (default) or udp.\n\nExample: <code>3000â†’8080/tcp</code> means <code>localhost:3000</code> reaches port 8080 inside the container.\n\nIf two services try to bind the same host port, validation will flag the conflict.</div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”Œ Port Mappings</div><div class=\"state-detail\">No port mappings yet. Click '+ Add port' to expose this service.\n\nWithout a port mapping, the service runs but is only reachable from other containers on the same Docker network â€” not from your host machine.\n\nCommon defaults by stack:\nâ€¢ <strong>Python (Flask/Django)</strong> â€” 5000 or 8000\nâ€¢ <strong>Node.js (Express)</strong> â€” 3000\nâ€¢ <strong>Go (Gin/Fiber)</strong> â€” 8080\nâ€¢ <strong>Java (Spring)</strong> â€” 8080\n\nThe host port can differ from the container port â€” map 3000â†’8080 if you prefer accessing on 3000.</div></div>",
                                        "children": [
                                            {
                                                "id": "dk-cfg-port-row",
                                                "title": "Port Row",
                                                "icon": "ğŸ”—",
                                                "selector": ".dk-port-row",
                                                "content": "A single host â†’ container port binding. Change the host port to avoid conflicts; the container port should match what the app expects.",
                                                "expanded": "{{dkPortHover}}",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "dk-cfg-vols-section",
                                        "title": "Volume Mappings",
                                        "icon": "ğŸ’¾",
                                        "selector": "[id^='dk-mod-vols-wrap-']",
                                        "content": "Maps data between the host and container for persistence and live-reload.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "hasSelector": ".dk-vol-row"
                                                },
                                                "content": "Volume mappings active â€” data at each source path is available inside the container at the mount point.",
                                                "expanded": "{{dkSetupVolBreakdown}}<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-label\">ğŸ’¾ Volume Types</div><div class=\"state-detail\">â€¢ <strong>Named volumes</strong> (e.g., <code>pgdata</code>) â€” Docker manages storage. Persist across restarts. Best for databases.\nâ€¢ <strong>Bind mounts</strong> (e.g., <code>./src</code>) â€” maps a host directory. Live changes visible both ways. Best for development.\nâ€¢ <strong>Read-only</strong> (<code>:ro</code>) â€” protects config files from accidental container writes.</div></div>"
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ’¾ Volume Mappings</div><div class=\"state-detail\">No volumes configured. Click '+ Add volume' to map host data into the container.\n\nWithout volumes, all data inside the container is lost when it stops. Common use cases:\n\nâ€¢ <strong>Database storage</strong> â€” <code>pgdata:/var/lib/postgresql/data</code> (named volume)\nâ€¢ <strong>App source</strong> â€” <code>./src:/app/src</code> (bind mount for live-reload in dev)\nâ€¢ <strong>Config files</strong> â€” <code>./nginx.conf:/etc/nginx/nginx.conf:ro</code> (read-only)\nâ€¢ <strong>Logs</strong> â€” <code>./logs:/app/logs</code> (access logs from host)</div></div>",
                                        "children": [
                                            {
                                                "id": "dk-cfg-vol-row",
                                                "title": "Volume Row",
                                                "icon": "ğŸ“€",
                                                "selector": ".dk-vol-row",
                                                "content": "A single source : mount binding. Source can be a named volume (e.g., 'pgdata') or a host path (e.g., './data'). Mount is the path inside the container.",
                                                "expanded": "{{dkSetupVolBreakdown}}",
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "dk-cfg-deps-section",
                                        "title": "Depends On",
                                        "icon": "ğŸ”—",
                                        "selector": "[id^='dk-mod-deps-wrap-']",
                                        "content": "Services this container depends on. Compose starts dependencies first.",
                                        "variants": [
                                            {
                                                "when": {
                                                    "hasSelector": "input:checked"
                                                },
                                                "icon": "ğŸ”—",
                                                "content": "Dependencies selected â€” Compose will start these services before this one. If they have health checks, startup waits until healthy.",
                                                "expanded": "{{dkSetupDepBreakdown}}<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-label\">âš™ï¸ Startup Ordering</div><div class=\"state-detail\">The generated <code>depends_on</code> uses:\nâ€¢ <strong>condition: service_healthy</strong> â€” if the dependency has a healthcheck\nâ€¢ <strong>condition: service_started</strong> â€” if no healthcheck is defined\n\nWith healthchecks, Compose waits until the dependency is actually ready (not just started). Without them, your app may crash on first connect.</div></div>"
                                            },
                                            {
                                                "when": {
                                                    "textContains": "No other services"
                                                },
                                                "icon": "ğŸ“­",
                                                "content": "No other services defined yet. Dependencies will be available once you add infrastructure services (database, cache, etc.) or additional modules."
                                            }
                                        ],
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ”— Service Dependencies</div><div class=\"state-detail\">No dependencies selected. This service will start independently.\n\nDependencies matter when your app needs another service at startup â€” for example, a web API that requires PostgreSQL. Without <code>depends_on</code>, Compose starts all services simultaneously, and your app may crash because the database isn't ready yet.\n\nCheck the services this container needs to be running before it starts.</div></div>",
                                        "children": [
                                            {
                                                "id": "dk-cfg-dep-item",
                                                "title": "Service Dependency",
                                                "icon": "ğŸ”—",
                                                "selector": "[id^='dk-mod-deps-wrap-'] label",
                                                "content": "Hover over a dependency to preview what it provides. Check it to add it as a startup dependency.",
                                                "expanded": "{{dkSetupDepHover}}",
                                                "children": []
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "id": "dk-cfg-infra-section",
                "title": "Infrastructure Services",
                "icon": "ğŸ—ï¸",
                "selector": "#dk-infra-list",
                "separator": true,
                "content": "Optionally add common services (databases, caches, brokers, proxies) to your docker-compose.yml. Each service is pre-configured with sensible defaults.",
                "variants": [
                    {
                        "when": {
                            "hasSelector": ".dk-infra-toggle:checked"
                        },
                        "icon": "ğŸ—ï¸",
                        "content": "Infrastructure services are enabled â€” they will be added as separate services in your compose file with their own images, ports, and environment."
                    }
                ],
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—ï¸ Infrastructure Services</div><div class=\"state-detail\">Browse categories and check the services your app needs. Each comes pre-configured:\n\nâ€¢ <strong>Image</strong> â€” official Docker image with version pinning\nâ€¢ <strong>Ports</strong> â€” default ports mapped to your host\nâ€¢ <strong>Environment</strong> â€” required config variables with vault integration\nâ€¢ <strong>Volumes</strong> â€” named volumes for data persistence\n\nYour app services can reference these as <code>depends_on</code> dependencies for proper startup ordering.\n\nPopular categories (Relational DB, Caches, Message Brokers) are open by default.</div></div>",
                "children": [
                    {
                        "id": "dk-cfg-infra-category",
                        "title": "Service Category",
                        "icon": "ğŸ“‚",
                        "selector": "#dk-infra-list > details",
                        "content": "A category of infrastructure services. Open to browse and enable individual services.",
                        "expanded": "{{dkInfraCategoryInfo}}",
                        "children": [
                            {
                                "id": "dk-cfg-infra-item",
                                "title": "Infrastructure Service",
                                "icon": "ğŸ”§",
                                "selector": ".dk-infra-toggle",
                                "content": "An infrastructure service you can add to your compose stack. Hover for details â€” check to enable and configure.",
                                "expanded": "{{dkInfraHover}}",
                                "children": []
                            },
                            {
                                "id": "dk-cfg-infra-panel",
                                "title": "Service Configuration",
                                "icon": "âš™ï¸",
                                "selector": "[id^='dk-infra-cfg-']",
                                "content": "Configuration panel for this infrastructure service â€” image, ports, env vars, volumes, and command.",
                                "expanded": "{{dkInfraHover}}",
                                "children": [
                                    {
                                        "id": "dk-cfg-infra-img",
                                        "title": "Image Select",
                                        "icon": "ğŸ³",
                                        "selector": "[id^='mf-dk-infra-img-']",
                                        "content": "Docker image for this service. Pick from official images or enter a custom registry path.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ³ Image Selection</div><div class=\"state-detail\">Official images are maintained by the project or Docker community. They include:\n\nâ€¢ <strong>Version tags</strong> â€” pin to a specific major/minor version (e.g., <code>16-alpine</code>) for reproducibility\nâ€¢ <strong>Alpine variants</strong> â€” smaller images (~5MB base) with musl libc. Best for production where size matters\nâ€¢ <strong>Custom option</strong> â€” use <code>âŒ¨ Customâ€¦</code> to specify any registry/image:tag\n\nTip: avoid <code>:latest</code> in production â€” pin versions to prevent surprise breaking changes on <code>docker pull</code>.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-infra-ports",
                                        "title": "Port Configuration",
                                        "icon": "ğŸ”Œ",
                                        "selector": "[id^='mf-dk-infra-port-']",
                                        "content": "Host port mapping for this service. Change the port number if you have conflicts with other services or local processes.",
                                        "expanded": "{{dkInfraPortHover}}",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-infra-env-section",
                                        "title": "Environment Variables",
                                        "icon": "ğŸ”",
                                        "selector": "[id^='dk-svc-env-list-infra-']",
                                        "content": "Environment variables for this service â€” credentials, configuration, and operational settings. Each can be hardcoded, sourced from vault variables, or vault secrets.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ” Environment Variables</div><div class=\"state-detail\">Each row configures one environment variable:\n\nâ€¢ <strong>Key</strong> â€” the variable name as the service expects it\nâ€¢ <strong>Value</strong> â€” default value shown; override as needed\nâ€¢ <strong>Var / Secret</strong> â€” optionally source from your vault\nâ€¢ <strong>Injection</strong> â€” <code>hardcoded</code> (in compose), <code>variable</code> (from vault vars), or <code>secret</code> (from vault secrets)\n\nğŸ”’ Password fields default to <code>changeme</code> â€” always override for production.\nâš ï¸ Required fields are marked and validated before generation.</div></div>",
                                        "children": [
                                            {
                                                "id": "dk-cfg-infra-env-row",
                                                "title": "Environment Variable",
                                                "icon": "ğŸ“‹",
                                                "selector": ".dk-env-row",
                                                "content": "A single environment variable â€” key, value, vault source, and injection type.",
                                                "variants": [
                                                    {
                                                        "when": {
                                                            "hasSelector": "select option:checked[value='secret']"
                                                        },
                                                        "icon": "ğŸ”’",
                                                        "content": "ğŸ”’ Secret â€” this variable's value will be sourced from your encrypted vault at deploy time."
                                                    },
                                                    {
                                                        "when": {
                                                            "hasSelector": "select option:checked[value='variable']"
                                                        },
                                                        "icon": "ğŸ”„",
                                                        "content": "ğŸ”„ Variable â€” sourced from vault variables. The compose file will contain ${VAR_NAME} syntax."
                                                    },
                                                    {
                                                        "when": {
                                                            "hasSelector": "select option:checked[value='hardcoded']"
                                                        },
                                                        "icon": "ğŸ“‹",
                                                        "content": "ğŸ“‹ Hardcoded â€” written directly in docker-compose.yml. Don't use for passwords or API keys."
                                                    }
                                                ],
                                                "children": []
                                            }
                                        ]
                                    },
                                    {
                                        "id": "dk-cfg-infra-vols",
                                        "title": "Service Volumes",
                                        "icon": "ğŸ’¾",
                                        "selector": "[id^='mf-dk-infra-vol-']",
                                        "content": "Named volume for persistent data. Check to include in docker-compose.yml.",
                                        "expanded": "{{dkInfraVolState}}",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-infra-cmd",
                                        "title": "Command Override",
                                        "icon": "âš™ï¸",
                                        "selector": "[id^='mf-dk-infra-cmd-']",
                                        "content": "Custom command that overrides the image's default entrypoint. Edit carefully â€” incorrect commands prevent the container from starting.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš™ï¸ Command Override</div><div class=\"state-detail\">This overrides the image's default <code>CMD</code>. The pre-filled value is the recommended startup command for this service.\n\nâ€¢ Changing this can break the service if the syntax is wrong\nâ€¢ Remove the field entirely to use the image's built-in default\nâ€¢ Arguments are space-separated â€” no shell expansion unless wrapped in <code>sh -c</code>\n\nOnly modify if you understand the service's command-line interface.</div></div>",
                                        "children": []
                                    },
                                    {
                                        "id": "dk-cfg-infra-restart",
                                        "title": "Restart Policy",
                                        "icon": "ğŸ”„",
                                        "selector": "[id^='mf-dk-infra-restart-']",
                                        "content": "Controls when Docker automatically restarts this container.",
                                        "expanded": "{{dkInfraRestartState}}",
                                        "children": []
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "id": "dk-cfg-overwrite-wrap",
                "title": "Overwrite Warning",
                "icon": "âš ï¸",
                "selector": "#dk-cfg-overwrite-wrap",
                "content": "An existing Dockerfile was detected. Check this to let the wizard replace it â€” otherwise it will skip modules that already have a Dockerfile in place.",
                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Existing Dockerfile</div><div class=\"state-detail\">The Detect step found a Dockerfile in your project. The wizard defaults to <strong>not overwriting</strong> it.\n\nâ€¢ <strong>Unchecked</strong> â€” the wizard skips generating a Dockerfile for modules whose path already has one. Your existing Dockerfile is preserved.\nâ€¢ <strong>Checked</strong> â€” the wizard regenerates the Dockerfile using the stack template configured below. Your existing file is replaced.\n\nIf you've customized your Dockerfile (multi-stage tricks, custom caching, CI-specific args), leave this unchecked and adjust settings in Compose only.</div></div>",
                "children": []
            },
            {
                "id": "dk-cfg-genopts-section",
                "title": "Generation Options",
                "icon": "âš™ï¸",
                "selector": "#dk-cfg-genopts-section",
                "separator": true,
                "content": "Controls which files the wizard writes when you click Apply. Dockerfile generation is always enabled for selected modules â€” these checkboxes control the companion files.",
                "children": [
                    {
                        "id": "dk-cfg-compose-gen",
                        "title": "Generate docker-compose.yml",
                        "icon": "ğŸ“‹",
                        "selector": "#mf-dk-compose",
                        "content": "Whether to generate a docker-compose.yml that wires all your selected containers and infrastructure services together.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Compose File Generation</div><div class=\"state-detail\">The generated <code>docker-compose.yml</code> includes:\n\nâ€¢ <strong>Application services</strong> â€” one per selected module\nâ€¢ <strong>Infrastructure services</strong> â€” any checked below (databases, caches, etc.)\nâ€¢ <strong>Port mappings</strong> â€” from each service's port configuration\nâ€¢ <strong>Volume mounts</strong> â€” persistent data and source mounts\nâ€¢ <strong>Environment variables</strong> â€” hardcoded, vault substitutions, or secrets\nâ€¢ <strong>Networks</strong> â€” shared network for inter-service communication\nâ€¢ <strong>Dependency ordering</strong> â€” <code>depends_on</code> from your selections\n\nIf you already have a Compose file and only want Dockerfiles, uncheck this.</div></div>",
                        "children": []
                    },
                    {
                        "id": "dk-cfg-ignore-gen",
                        "title": "Generate .dockerignore",
                        "icon": "ğŸš«",
                        "selector": "#mf-dk-ignore",
                        "content": "Whether to generate a .dockerignore file that keeps your build context lean â€” excluding .git, node_modules, __pycache__, and other non-essential files.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš« .dockerignore Generation</div><div class=\"state-detail\">A .dockerignore prevents unnecessary files from being sent to the Docker daemon during builds:\n\nâ€¢ <strong>.git/</strong> â€” repository history (often 100s of MB)\nâ€¢ <strong>node_modules/</strong> â€” reinstalled during build anyway\nâ€¢ <strong>__pycache__/</strong> â€” Python bytecode\nâ€¢ <strong>.env files</strong> â€” credentials that should never be in images\nâ€¢ <strong>*.md, docs/</strong> â€” documentation not needed at runtime\n\nThe generated file is stack-aware â€” it includes patterns relevant to your module's language and framework. If you already maintain a custom .dockerignore, uncheck this.</div></div>",
                        "children": []
                    }
                ]
            }
        ]
    },
    {
        "context": "setup/k8s",
        "title": "Kubernetes Setup",
        "icon": "â˜¸ï¸",
        "content": "Your Kubernetes deployment pipeline â€” from project scan to production-ready manifests.",
        "children": [
            {
                "id": "k8s-detect-env",
                "title": "Kubernetes Environment",
                "icon": "â˜¸ï¸",
                "selector": "#k8s-detect-env",
                "separator": true,
                "content": "Your K8s tooling and cluster connectivity. These determine what the wizard can do â€” generate manifests offline, or validate and deploy against a live cluster.",
                "children": [
                    {
                        "id": "k8s-detect-kubectl",
                        "title": "kubectl",
                        "icon": "â˜¸ï¸",
                        "selector": "#k8s-detect-kubectl",
                        "content": "The CLI that talks to your cluster â€” without it, manifests can't be applied, pods can't be inspected, and deployments can't roll out.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Available"
                                },
                                "content": "kubectl is ready â€” you can apply manifests, inspect pods, and manage rollouts directly from the control plane.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Available</div><div class=\"state-detail\">kubectl is your primary interface to any Kubernetes cluster. With it available, the wizard can:\n\nâ€¢ <strong>Validate manifests</strong> â€” dry-run apply catches errors before deployment\nâ€¢ <strong>Query cluster state</strong> â€” pods, services, deployments in real time\nâ€¢ <strong>Apply changes</strong> â€” push generated manifests directly to your cluster\n\nThe Helm and Cluster checks below also depend on kubectl being present.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Not found"
                                },
                                "content": "kubectl isn't installed â€” you can still generate manifests, but can't validate or deploy them from here.",
                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Not Found</div><div class=\"state-detail\">Without kubectl, the wizard can still generate YAML manifests, but you won't be able to:\n\nâ€¢ Validate manifests against your cluster\nâ€¢ Query running pods or services\nâ€¢ Apply changes directly\n\nYou'd need to install kubectl and configure a kubeconfig before deploying.\n\nğŸ“¦ Install: <code>curl -LO https://dl.k8s.io/release/stable.txt && curl -LO \"https://dl.k8s.io/release/$(cat stable.txt)/bin/linux/amd64/kubectl\"</code></div></div>"
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-helm",
                        "title": "Helm",
                        "icon": "âˆ",
                        "selector": "#k8s-detect-helm",
                        "content": "The K8s package manager â€” lets you template manifests with values files, manage releases, and pull community charts for databases, monitoring, and ingress.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Available"
                                },
                                "content": "Helm is available â€” the wizard can generate Helm charts with templated values for multi-environment deployments.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Available</div><div class=\"state-detail\">With Helm available, the Configure step can optionally scaffold a full Helm chart:\n\nâ€¢ <strong>Chart.yaml</strong> â€” metadata, version, dependencies\nâ€¢ <strong>values.yaml</strong> â€” per-environment overrides\nâ€¢ <strong>templates/</strong> â€” templated Deployment, Service, Ingress\n\nHelm charts are the standard way to package K8s applications for reuse across environments and teams.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Not found"
                                },
                                "content": "Helm isn't installed â€” not a blocker. The wizard generates raw YAML manifests that work without it.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â„¹ï¸ Not Installed</div><div class=\"state-detail\">Helm is optional. Without it, the wizard generates plain YAML manifests â€” perfectly valid Kubernetes resources that you apply directly with kubectl.\n\nConsider Helm if you need:\nâ€¢ Multiple environments with different values (dev/staging/prod)\nâ€¢ Reusable charts shared across teams\nâ€¢ Community charts for databases, monitoring, ingress controllers\n\nğŸ“¦ Install: <code>curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash</code></div></div>"
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-cluster",
                        "title": "Cluster",
                        "icon": "ğŸ”—",
                        "selector": "#k8s-detect-cluster",
                        "content": "Whether kubectl can reach a live Kubernetes cluster â€” determines if you can validate, deploy, and inspect in real time.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Not connected"
                                },
                                "content": "No cluster connection â€” manifests can still be generated, but validation and deployment happen elsewhere.",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Not Connected</div><div class=\"state-detail\">kubectl can't reach a cluster. This is fine for manifest generation â€” the wizard creates valid YAML regardless.\n\nCommon reasons:\nâ€¢ No kubeconfig file (~/.kube/config)\nâ€¢ Cluster is down or unreachable\nâ€¢ Context points to a deleted cluster\n\nYou can deploy the generated manifests later from a machine with cluster access, or through a CI/CD pipeline.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Connected"
                                },
                                "content": "A live cluster is reachable â€” you can validate manifests, inspect running workloads, and deploy directly.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Connected</div><div class=\"state-detail\">kubectl can reach your cluster. This could be a local cluster (minikube, kind, Docker Desktop) or a remote one (EKS, GKE, AKS).\n\nWith a live connection, the Review step can:\nâ€¢ <strong>Dry-run apply</strong> â€” validate manifests against the actual API server\nâ€¢ <strong>Show running workloads</strong> â€” see what's already deployed\nâ€¢ <strong>Deploy directly</strong> â€” apply generated manifests to the cluster</div></div>"
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-manifests",
                        "title": "Manifests",
                        "icon": "ğŸ“„",
                        "selector": "#k8s-detect-manifests",
                        "content": "Existing K8s YAML files in your project â€” the wizard can extend or replace them.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "found"
                                },
                                "content": "Existing manifests detected â€” the Configure step will show what you already have and let you extend or regenerate.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“„ Manifests Found</div><div class=\"state-detail\">The wizard found existing K8s YAML files in your project. In the Configure step, you'll be able to:\n\nâ€¢ Keep existing manifests as-is\nâ€¢ Override specific resources with new configuration\nâ€¢ Add new resources alongside existing ones\n\nExisting manifests won't be deleted unless you explicitly choose to regenerate them.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "None"
                                },
                                "content": "No existing manifests â€” the wizard will generate everything from scratch based on your project structure.",
                                "children": []
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-chart",
                        "title": "Helm Chart",
                        "icon": "ğŸ“¦",
                        "selector": "#k8s-detect-chart",
                        "content": "Whether a Chart.yaml already exists in your project.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Present"
                                },
                                "content": "A Helm chart already exists â€” the wizard will work alongside it rather than overwriting.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ Chart Present</div><div class=\"state-detail\">An existing Chart.yaml was found. The wizard respects your existing chart structure â€” it won't overwrite templates you've already written.\n\nIf you want the wizard to regenerate the chart from scratch, you can delete the existing one first.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "None"
                                },
                                "content": "No Helm chart yet â€” if Helm is available, the Configure step can scaffold one for you.",
                                "children": []
                            }
                        ],
                        "children": []
                    }
                ]
            },
            {
                "id": "k8s-detect-docker",
                "title": "Docker Context",
                "icon": "ğŸ³",
                "selector": "#k8s-detect-docker",
                "separator": true,
                "content": "K8s deploys container images â€” this section checks whether Docker is available and what container definitions already exist. Your Dockerfiles and Compose services feed directly into the K8s workloads configured in the next step.",
                "children": [
                    {
                        "id": "k8s-detect-docker-cli",
                        "title": "Docker",
                        "icon": "ğŸ³",
                        "selector": "#k8s-detect-docker-cli",
                        "content": "The container runtime â€” K8s pulls and runs images that Docker (or a compatible builder) creates.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Available"
                                },
                                "content": "Docker is available â€” images can be built locally and pushed to a registry for K8s to pull.",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Available</div><div class=\"state-detail\">Docker can build your container images locally. The typical flow:\n\n1. <strong>Build</strong> â€” Docker creates images from your Dockerfiles\n2. <strong>Push</strong> â€” images go to a registry (ghcr.io, Docker Hub, ECR)\n3. <strong>Pull</strong> â€” K8s nodes pull images from that registry\n\nIf you haven't set up Docker yet, the Docker Setup wizard can generate Dockerfiles and Compose config.</div></div>"
                            },
                            {
                                "when": {
                                    "textContains": "Not installed"
                                },
                                "content": "Docker isn't installed â€” you'll need a way to build container images before K8s can deploy them.",
                                "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Not Installed</div><div class=\"state-detail\">Without Docker, you can't build container images locally. K8s needs images in a registry to pull from.\n\nOptions:\nâ€¢ Install Docker and use the Docker Setup wizard to generate Dockerfiles\nâ€¢ Build images in CI/CD (GitHub Actions can build and push without local Docker)\nâ€¢ Use a remote builder like Google Cloud Build\n\nThe wizard can still generate K8s manifests â€” they'll reference image names that you'll build elsewhere.</div></div>"
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-compose-file",
                        "title": "Compose File",
                        "icon": "ğŸ“‹",
                        "selector": "#k8s-detect-compose-file",
                        "content": "A docker-compose.yml is the richest source of intelligence for K8s configuration â€” it defines services, ports, volumes, environment variables, and dependencies that map directly to K8s resources.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Missing"
                                },
                                "content": "No Compose file â€” the wizard will use your project modules instead. Consider running Docker Setup first for richer service definitions.",
                                "children": []
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-dockerfiles",
                        "title": "Dockerfiles",
                        "icon": "ğŸ“„",
                        "selector": "#k8s-detect-dockerfiles",
                        "content": "Each Dockerfile becomes a buildable container image. The wizard maps these to K8s Deployment specs with the right image references.",
                        "variants": [
                            {
                                "when": {
                                    "textContains": "Missing"
                                },
                                "content": "No Dockerfiles found â€” K8s needs container images. Run Docker Setup first, or reference pre-built images from a registry.",
                                "children": []
                            }
                        ],
                        "children": []
                    },
                    {
                        "id": "k8s-detect-docker-warn",
                        "title": "Docker Required",
                        "icon": "ğŸ’¡",
                        "selector": "#k8s-detect-docker-warn",
                        "content": "K8s orchestrates containers â€” without Dockerfiles or a Compose file, there's nothing to deploy. The Docker Setup wizard generates both, tailored to your project's stack.",
                        "children": []
                    }
                ]
            },
            {
                "id": "k8s-detect-compose",
                "title": "Compose Services",
                "icon": "ğŸš€",
                "selector": "#k8s-detect-compose",
                "separator": true,
                "content": "The wizard analyzed your docker-compose.yml and classified each service as either application (your code â€” becomes a Deployment) or infrastructure (databases, caches â€” becomes a StatefulSet or managed service). This classification drives the Configure step.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Service Classification</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--success)\">ğŸš€ application</span><span>Your code â€” services that build from source or use your project's images. Become K8s Deployments with replicas, probes, and HPA autoscaling.</span><span style=\"font-weight:600;color:var(--text-muted)\">ğŸ—„ï¸ infrastructure</span><span>Backing services â€” databases, caches, queues, proxies. In Configure, you choose: self-hosted StatefulSet, managed cloud service, or skip.</span></div></div></div>",
                "children": [
                    {
                        "id": "k8s-detect-svc-list",
                        "title": "Service List",
                        "icon": "ğŸ“‹",
                        "selector": "#k8s-detect-svc-list",
                        "content": "Each row shows a detected Compose service â€” its image, ports, environment variables, volumes, and healthcheck. The small icons on the right tell you what configuration the service already carries from Compose.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‹ Reading the Service Rows</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ”§ N</span><span>number of environment variables defined</span><span style=\"font-weight:600;color:var(--text-secondary)\">ğŸ’¾ N</span><span>number of volume mounts</span><span style=\"font-weight:600;color:var(--text-secondary)\">â¤ï¸</span><span>has a healthcheck â€” will be converted to K8s liveness/readiness probes</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">In the next step, each application service gets its own configuration panel with resource limits, probes, and scaling options.</div></div></div>",
                        "dynamic": true,
                        "childTemplate": {
                            "title": "ğŸš€ {{name}}",
                            "content": "Compose service {{name}} â€” hover for classification details and what happens in the Configure step.",
                            "selector": "#k8s-detect-svc-list .k8s-detect-svc-row",
                            "nameSelector": "strong",
                            "variants": [
                                {
                                    "when": {
                                        "textContains": "infrastructure"
                                    },
                                    "title": "ğŸ—„ï¸ {{name}}",
                                    "content": "Infrastructure service {{name}} â€” a backing dependency (database, cache, queue). In the Configure step, choose: self-hosted StatefulSet, managed cloud service, or skip.",
                                    "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—„ï¸ Infrastructure Service</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This service was classified as <strong>infrastructure</strong> â€” it's a backing dependency your application services connect to.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">StatefulSet</span><span>self-hosted in-cluster â€” persistent storage, stable network identity</span><span style=\"font-weight:600;color:var(--text-secondary)\">Managed</span><span>cloud-managed service (RDS, Cloud SQL, ElastiCache) â€” no pods to manage</span><span style=\"font-weight:600;color:var(--text-secondary)\">Skip</span><span>exclude from K8s manifests â€” handled externally or not needed</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">In production, managed services are generally preferred for databases and caches â€” less operational burden, automated backups, and built-in HA.</div></div></div>"
                                },
                                {
                                    "when": {
                                        "textContains": "application"
                                    },
                                    "title": "ğŸš€ {{name}}",
                                    "content": "Application service {{name}} â€” your code. Becomes a K8s Deployment with replicas, health probes, resource limits, and optional HPA autoscaling.",
                                    "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš€ Application Service</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">This service was classified as <strong>application</strong> â€” your code that runs as a K8s Deployment.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Deployment</span><span>manages replicated pods with rolling updates and rollbacks</span><span style=\"font-weight:600;color:var(--text-secondary)\">Probes</span><span>liveness + readiness checks keep traffic away from unhealthy pods</span><span style=\"font-weight:600;color:var(--text-secondary)\">Resources</span><span>CPU/memory requests and limits prevent noisy-neighbor issues</span><span style=\"font-weight:600;color:var(--text-secondary)\">HPA</span><span>auto-scale replicas based on CPU, memory, or custom metrics</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">The Configure step lets you tune all of these per service.</div></div></div>"
                                }
                            ]
                        },
                        "children": []
                    }
                ]
            },
            {
                "id": "k8s-detect-modules",
                "title": "Project Modules",
                "icon": "ğŸ“¦",
                "selector": "#k8s-detect-modules",
                "separator": true,
                "content": "No Compose file was found, so the wizard falls back to your project's module structure. Deployable modules will become K8s Deployments â€” libraries, docs, and tools are shown but skipped.",
                "children": [
                    {
                        "id": "k8s-detect-mod-list",
                        "title": "Module List",
                        "icon": "ğŸ“‹",
                        "selector": "#k8s-detect-mod-list",
                        "content": "Each row shows a detected project module â€” its stack, path, and classification. Only modules classified as 'deployable' will become K8s workloads in the Configure step.",
                        "children": []
                    }
                ]
            },
            {
                "id": "k8s-detect-registry",
                "title": "Registry Context",
                "icon": "ğŸ“¦",
                "selector": "#k8s-detect-registry",
                "separator": true,
                "content": "Where your container images will live. The wizard uses your GitHub repository to construct image names that follow the ghcr.io convention â€” consistent naming across Docker builds, CI/CD pipelines, and K8s manifests.",
                "children": [
                    {
                        "id": "k8s-detect-repo",
                        "title": "Repository",
                        "icon": "ğŸ™",
                        "selector": "#k8s-detect-repo",
                        "content": "Your GitHub repository â€” the owner and name feed into the container image naming convention.",
                        "children": []
                    },
                    {
                        "id": "k8s-detect-registry-url",
                        "title": "Registry URL",
                        "icon": "ğŸ“¦",
                        "selector": "#k8s-detect-registry-url",
                        "content": "The full registry path your K8s manifests will reference â€” images pushed here by Docker builds or CI/CD are what your pods actually run.",
                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“¦ GitHub Container Registry</div><div class=\"state-detail\">ghcr.io is GitHub's built-in container registry. Images pushed here are:\n\nâ€¢ <strong>Tied to your repo</strong> â€” permissions follow repository access\nâ€¢ <strong>Free for public repos</strong> â€” no separate registry subscription\nâ€¢ <strong>CI/CD native</strong> â€” GitHub Actions can push without extra credentials\n\nThe generated K8s manifests will use this as the image prefix â€” e.g., <code>ghcr.io/owner/repo/service:latest</code></div></div>",
                        "children": []
                    }
                ]
            },
            {
                "id": "k8s-detect-envs",
                "title": "Environments",
                "icon": "ğŸ·ï¸",
                "selector": "#k8s-detect-envs",
                "separator": true,
                "content": "Deployment environments from your project configuration. These drive namespace separation, environment-specific values, and multi-stage rollout strategies in your K8s manifests.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ·ï¸ Environment â†’ K8s Mapping</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each environment typically maps to:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Namespace</span><span>isolated resource boundary per environment</span><span style=\"font-weight:600;color:var(--text-secondary)\">Values</span><span>different replica counts, resource limits, image tags</span><span style=\"font-weight:600;color:var(--text-secondary)\">Secrets</span><span>environment-specific credentials from vault</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">The â­ default environment is where local development deploys. Other environments are typically targeted by CI/CD pipelines.</div></div></div>",
                "children": [
                    {
                        "id": "k8s-detect-env-list",
                        "title": "Environment Badges",
                        "icon": "ğŸ·ï¸",
                        "selector": "#k8s-detect-env-list",
                        "content": "Your configured environments â€” â­ marks the default. Each one can get its own namespace and values in the Configure step.",
                        "children": []
                    }
                ]
            },
            {
                "id": "k8s-cfg-app-svcs",
                "title": "Application Deployments",
                "icon": "ğŸš€",
                "selector": "#k8s-app-svc-list",
                "separator": true,
                "content": "Your application services â€” each one becomes a K8s workload. Hover any field for guidance on what it does and what to watch out for.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸš€ Configure â†’ Review â†’ Generate</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each service card produces a set of K8s resources:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Deployment</span><span>pod template + replica management + rolling update strategy</span><span style=\"font-weight:600;color:var(--text-secondary)\">Service</span><span>stable DNS name + load balancing across replicas</span><span style=\"font-weight:600;color:var(--text-secondary)\">ConfigMap</span><span>non-secret environment variables</span><span style=\"font-weight:600;color:var(--text-secondary)\">Secret</span><span>sensitive values injected at deploy time</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">Unchecked services are excluded entirely â€” no resources generated.</div></div></div>",
                "children": [
                    {
                        "id": "k8s-cfg-svc-card",
                        "title": "Service Card",
                        "icon": "ğŸ“¦",
                        "selector": "[id^=k8s-svc-card-]",
                        "content": "Everything in this card shapes one workload. The kind on the right is the most important choice â€” it changes what options appear below.",
                        "variants": [
                            {
                                "when": {
                                    "resolver": "k8sSvcCardKind",
                                    "equals": "Skip"
                                },
                                "content": "Excluded â€” this service won't generate any K8s manifest. If other services depend_on it, make sure it's available another way (managed cloud service, external endpoint).",
                                "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â­ï¸ Skipped</div><div class=\"state-detail\">No Deployment, Service, ConfigMap, or Secret will be generated for this service. It won't appear in the Review step.\n\nIf another service references this one (via depends_on or env vars), you'll need to provide the connection details manually â€” K8s won't manage it.</div></div>"
                            },
                            {
                                "when": {
                                    "resolver": "k8sSvcCardKind",
                                    "equals": "Deployment"
                                },
                                "content": "Deploying as a K8s Deployment â€” replicated stateless pods with rolling updates. The most common choice for application code (APIs, web servers, workers).",
                                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš€ Deployment</div><div class=\"state-detail\">Deployments manage identical, interchangeable pods:\n\nâ€¢ <strong>Rolling updates</strong> â€” new pods come up before old ones go down\nâ€¢ <strong>Replicas</strong> â€” scale horizontally for HA and throughput\nâ€¢ <strong>HPA</strong> â€” auto-scale based on CPU, memory, or custom metrics\nâ€¢ <strong>Rollback</strong> â€” one command reverts to the previous revision\n\nPods have no stable identity or persistent storage. If your service writes to disk, consider StatefulSet instead.</div></div>"
                            },
                            {
                                "when": {
                                    "resolver": "k8sSvcCardKind",
                                    "equals": "StatefulSet"
                                },
                                "content": "StatefulSet â€” each pod gets a stable hostname and its own persistent volume. Good for services that write to disk or need peer discovery.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—„ï¸ StatefulSet</div><div class=\"state-detail\">Unlike Deployments, StatefulSet pods are not interchangeable:\n\nâ€¢ <strong>Stable identity</strong> â€” pod-0, pod-1, pod-2 persist across restarts\nâ€¢ <strong>Per-pod storage</strong> â€” each pod gets its own PVC via volumeClaimTemplates\nâ€¢ <strong>Ordered operations</strong> â€” pods start/stop in sequence (unless Parallel)\nâ€¢ <strong>Headless Service</strong> â€” DNS like <code>svc-0.svc-headless.ns</code>\n\nHeavier to operate than Deployments. Use only when stable identity or per-pod storage is genuinely needed.</div></div>"
                            },
                            {
                                "when": {
                                    "resolver": "k8sSvcCardKind",
                                    "equals": "DaemonSet"
                                },
                                "content": "DaemonSet â€” one pod on every node in the cluster. No replica count â€” K8s automatically places pods as nodes come and go.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ DaemonSet</div><div class=\"state-detail\">DaemonSets guarantee exactly one pod per node:\n\nâ€¢ <strong>No replicas</strong> â€” pod count equals node count\nâ€¢ <strong>Node selectors</strong> â€” restrict to specific nodes if needed\nâ€¢ <strong>Tolerations</strong> â€” run on tainted nodes (control-plane, GPU)\nâ€¢ <strong>Host access</strong> â€” optional host network, PID, IPC sharing\n\nTypical uses: log collectors, monitoring agents, network plugins, storage drivers.</div></div>"
                            },
                            {
                                "when": {
                                    "resolver": "k8sSvcCardKind",
                                    "equals": "Job"
                                },
                                "content": "A run-to-completion Job â€” runs once, exits, and K8s reports success or failure. No service, no replicas, no probes.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Job</div><div class=\"state-detail\">Jobs run a container to completion:\n\nâ€¢ <strong>Backoff limit</strong> â€” how many times to retry on failure\nâ€¢ <strong>Completions</strong> â€” how many successful runs are needed\nâ€¢ <strong>Parallelism</strong> â€” how many pods run simultaneously\nâ€¢ <strong>TTL</strong> â€” auto-cleanup after the job finishes\n\nNo Service, no health probes, no replicas. The container runs its command and exits.</div></div>"
                            },
                            {
                                "when": {
                                    "resolver": "k8sSvcCardKind",
                                    "equals": "CronJob"
                                },
                                "content": "CronJob â€” wraps a Job in a cron schedule. Kubernetes creates a fresh Job each time the schedule fires.",
                                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â° CronJob</div><div class=\"state-detail\">CronJobs schedule recurring work:\n\nâ€¢ <strong>Schedule</strong> â€” standard cron syntax (minute hour day month weekday)\nâ€¢ <strong>Concurrency</strong> â€” Allow, Forbid (skip if running), Replace (kill + restart)\nâ€¢ <strong>Suspend</strong> â€” pause scheduling without deleting the CronJob\nâ€¢ <strong>History</strong> â€” how many successful/failed jobs to keep\n\nEach trigger creates a new Job pod. Long-running CronJobs with Forbid concurrency skip missed runs.</div></div>"
                            }
                        ],
                        "children": [
                            {
                                "id": "k8s-cfg-svc-img",
                                "title": "Container Image",
                                "icon": "ğŸ“¦",
                                "selector": ".k8s-field-img",
                                "content": "Must be pullable by your cluster nodes â€” local Docker images won't work. Use a registry your nodes can reach (GHCR, DockerHub, ECR, private registry).",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "contains": "ghcr.io"
                                        },
                                        "content": "GitHub Container Registry â€” aligned with your repo. GitHub Actions pushes here automatically. If the image is private, your cluster needs an imagePullSecret.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“¦ ghcr.io</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">GitHub Container Registry images are tied to your repository. Advantages:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Auth</span><span>permissions follow repository access â€” no separate creds</span><span style=\"font-weight:600;color:var(--text-secondary)\">CI/CD</span><span>GitHub Actions can push with <code>GITHUB_TOKEN</code> â€” no secrets needed</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cost</span><span>free for public repos</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">For private images, create an imagePullSecret in each namespace where this service runs.</div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "contains": ":latest"
                                        },
                                        "content": "Using :latest tag â€” convenient for development, risky for production. K8s can't tell if the image changed. Pin to a commit SHA or semver tag for reproducible deployments.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ :latest tag</div><div class=\"state-detail\">The :latest tag is a moving target â€” two deploys with the same manifest can run different code.\n\nâ€¢ <strong>imagePullPolicy: Always</strong> forces K8s to check the registry every time (slow)\nâ€¢ <strong>Rollbacks</strong> don't work â€” reverting the Deployment still pulls :latest\nâ€¢ <strong>Debugging</strong> is harder â€” which version is actually running?\n\nFor production, use: <code>image:v1.2.3</code> or <code>image:abc1234</code></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "contains": "localhost"
                                        },
                                        "content": "Local image reference â€” K8s nodes pull from registries, not your local Docker daemon. Push to a registry (ghcr.io, Docker Hub) before deploying.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Local reference</div><div class=\"state-detail\">Kubernetes nodes pull images from container registries over the network. An image on your local Docker daemon is invisible to the cluster.\n\nTo fix: push the image to a registry, then update this field to the registry path.\n\nException: if using minikube with <code>eval $(minikube docker-env)</code>, local images work â€” but only on that single node.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": ""
                                        },
                                        "content": "No image specified â€” this field is required. K8s needs an image reference to create the container. It was probably auto-detected from your Compose file.",
                                        "expanded": "<div class=\"assistant-state-card state-error\"><div class=\"state-label\">âŒ Missing image</div><div class=\"state-detail\">Every K8s container spec needs an <code>image</code> field. Without it, the pod can't start.\n\nExpected format: <code>registry/owner/name:tag</code>\nExample: <code>ghcr.io/myorg/api:v1.0.0</code></div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "k8s-cfg-svc-port",
                                "title": "Port",
                                "icon": "ğŸ”Œ",
                                "selector": ".k8s-field-port",
                                "content": "The port your app binds to inside the container. Gets wired into the Service targetPort, probe endpoints, and ingress rules.",
                                "variants": [],
                                "children": [],
                                "expanded": "{{k8sPortHover}}"
                            },
                            {
                                "id": "k8s-cfg-svc-replicas",
                                "title": "Replicas",
                                "icon": "ğŸ“Š",
                                "selector": ".k8s-field-replicas",
                                "content": "Pod count â€” the tension between availability and cost. Hidden for DaemonSet (node count) and Job/CronJob (one-shot).",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "0"
                                        },
                                        "content": "Zero replicas â€” the Deployment exists but no pods run. Useful for KEDA event-driven scaling or intentionally scaled-down environments.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ 0 replicas</div><div class=\"state-detail\">The manifest is created, but no pods are scheduled. The Deployment sits idle until manually scaled up or an autoscaler (KEDA, HPA with custom metrics) kicks in.\n\nCommon uses:\nâ€¢ Staging environments scaled to zero when unused\nâ€¢ Event-driven workloads that scale from zero on demand\nâ€¢ Services disabled but not deleted</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "1"
                                        },
                                        "content": "Single replica â€” no high availability. If this pod crashes, is evicted, or gets rescheduled, there's a gap in service. Rolling updates cause brief downtime. Fine for dev, risky for prod.",
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ 1 replica</div><div class=\"state-detail\">With one pod, any disruption causes downtime:\n\nâ€¢ <strong>Rolling update</strong> â€” old pod dies before new pod is ready (unless maxSurge > 0)\nâ€¢ <strong>Node failure</strong> â€” pod reschedules to another node, but there's a gap\nâ€¢ <strong>Eviction</strong> â€” resource pressure can kill your only pod\n\nFor production, use at least 2 replicas. For development, 1 is fine â€” saves resources.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "2"
                                        },
                                        "content": "Two replicas â€” basic high availability. During rolling updates, one pod serves traffic while the other rolls. Covers single-node failure.",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… 2 replicas</div><div class=\"state-detail\">The minimum for high availability:\n\nâ€¢ <strong>Rolling updates</strong> work â€” one pod serves while the other is replaced\nâ€¢ <strong>Node failure</strong> â€” if one pod dies, the other still handles traffic\nâ€¢ <strong>Pod Disruption Budget</strong> â€” set minAvailable: 1 to prevent both being evicted\n\nFor services with heavy traffic or strict SLAs, consider 3+ replicas.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "3"
                                        },
                                        "content": "Three replicas â€” solid for production. Handles rolling updates, node failures, and zone failures with headroom. Consider adding an HPA to auto-scale based on load."
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "k8s-cfg-svc-type",
                                "title": "Service Type",
                                "icon": "ğŸŒ",
                                "selector": ".k8s-field-svctype",
                                "content": "Controls who can reach this service â€” the network boundary decision.<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--success)\">ğŸŒ ClusterIP</span><span>Internal only. Other pods reach it via DNS. For external access, use Ingress. <em>The default â€” most secure, most common.</em></span><span style=\"font-weight:600;color:var(--info)\">ğŸ”Œ NodePort</span><span>Exposed on every node's IP at a static port (30000-32767). No cloud LB needed. <em>Bare-metal clusters, local dev.</em></span><span style=\"font-weight:600;color:var(--warning)\">â˜ï¸ LoadBalancer</span><span>Provisions a cloud load balancer (ELB, NLB). Each one costs ~$18/month. <em>Use sparingly â€” prefer Ingress + ClusterIP.</em></span></div></div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "ClusterIP"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸŒ ClusterIP</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">The default and most secure option. Traffic stays inside the cluster.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">DNS</span><span><code>svc-name.namespace.svc.cluster.local</code></span><span style=\"font-weight:600;color:var(--text-secondary)\">External access</span><span>via Ingress, Gateway API, or port-forward for debugging</span><span style=\"font-weight:600;color:var(--text-secondary)\">Cost</span><span>no cloud resources provisioned</span></div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "NodePort"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ NodePort</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">NodePort allocates a port on every node (30000-32767). Access via <code>node-ip:port</code>.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Access</span><span><code>any-node-ip:30000+</code></span><span style=\"font-weight:600;color:var(--text-secondary)\">Firewall</span><span>requires opening the NodePort range on all nodes</span><span style=\"font-weight:600;color:var(--text-secondary)\">No HA</span><span>if the node dies, that IP is gone â€” no automatic failover</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">For production, prefer LoadBalancer or Ingress + ClusterIP.</div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "LoadBalancer"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">ğŸŒ LoadBalancer</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each LoadBalancer service provisions a cloud resource:</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">AWS</span><span>ELB/NLB â€” ~$18/month per LB</span><span style=\"font-weight:600;color:var(--text-secondary)\">GCP</span><span>Network LB â€” ~$18/month per rule</span><span style=\"font-weight:600;color:var(--text-secondary)\">Azure</span><span>Standard LB â€” ~$18/month + rules</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">5 services Ã— $18 = $90/month just for load balancers. An Ingress Controller (nginx, traefik) behind a single LoadBalancer routes all services via path/host rules.</div></div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "k8s-cfg-svc-strategy",
                                "title": "Update Strategy",
                                "icon": "ğŸ”„",
                                "selector": ".k8s-field-strategy",
                                "content": "How K8s replaces old pods with new ones during a deploy.<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--success)\">ğŸ”„ RollingUpdate</span><span>New pods come up before old pods go down. Both versions run briefly in parallel. <em>Zero-downtime deploys â€” the default for most services.</em></span><span style=\"font-weight:600;color:var(--warning)\">âš ï¸ Recreate</span><span>All old pods are killed before new ones start. Causes downtime but guarantees only one version runs at a time. <em>Schema migrations, singleton processes, ReadWriteOnce PVCs.</em></span></div></div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "RollingUpdate"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ”„ RollingUpdate</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Pods are replaced incrementally. At any point during the rollout, both old and new versions may be running simultaneously.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Max Surge</span><span>how many extra pods can exist above the desired count during rollout</span><span style=\"font-weight:600;color:var(--text-secondary)\">Max Unavailable</span><span>how many pods can be down during rollout</span><span style=\"font-weight:600;color:var(--text-secondary)\">Readiness Probe</span><span>new pods must pass readiness before old pods are terminated</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">If your app can't handle two versions running at once (schema migrations, breaking API changes), use Recreate instead.</div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "Recreate"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">âš ï¸ Recreate</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">All existing pods are terminated before new ones are created. The service is unavailable during the gap.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Downtime</span><span>depends on pod startup time â€” could be seconds to minutes</span><span style=\"font-weight:600;color:var(--text-secondary)\">Use when</span><span>ReadWriteOnce PVCs (can't mount on two nodes), breaking schema changes, singleton processes</span><span style=\"font-weight:600;color:var(--text-secondary)\">Max Surge / Unavail</span><span>hidden â€” not applicable with Recreate</span></div></div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "k8s-cfg-svc-maxsurge",
                                "title": "Max Surge",
                                "icon": "ğŸ“ˆ",
                                "selector": ".k8s-field-maxsurge",
                                "content": "Extra pods during rollout â€” speed vs resource cost. Combined with Max Unavailable, controls how aggressive the rollout is.",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "1"
                                        },
                                        "content": "Max Surge 1 â€” one extra pod at a time. Conservative â€” uses minimal extra resources but rollouts are slower with many replicas.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ˆ +1 pod</div><div class=\"state-detail\">During rollout, K8s creates 1 extra pod (replicas + 1 total). Once the new pod passes readiness, an old pod is terminated. Then the next new pod starts.\n\nWith 3 replicas: 4 pods exist briefly during each step. If your cluster is tight on resources, this is the safest choice.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "contains": "%"
                                        },
                                        "content": "Percentage-based surge â€” scales with replica count. 25% of 4 replicas = 1 extra pod. 25% of 12 replicas = 3 extra pods.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ˆ Percentage surge</div><div class=\"state-detail\">K8s rounds up: 25% of 3 replicas = ceil(0.75) = 1 extra pod.\n\nPercentage-based surge scales better than fixed numbers for services with many replicas or HPA-managed scaling.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "not": ""
                                        },
                                        "content": "Extra pods created above the desired count during rollout. Higher values = faster rollouts but more resource consumption during the transition.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“ˆ Max Surge</div><div class=\"state-detail\">Accepts an integer (e.g. 2) or a percentage (e.g. 25%).\n\nâ€¢ <strong>Integer</strong> â€” fixed number of extra pods regardless of replica count\nâ€¢ <strong>Percentage</strong> â€” scales with replicas, rounded up\n\nCombined with Max Unavailable, this controls how aggressively K8s rolls out changes. Both cannot be 0 at the same time.</div></div>"
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "k8s-cfg-svc-maxunavail",
                                "title": "Max Unavailable",
                                "icon": "ğŸ“‰",
                                "selector": ".k8s-field-maxunavail",
                                "content": "Pods allowed to be down during rollout â€” availability vs speed. Both this and Max Surge can't be zero at the same time.",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "0"
                                        },
                                        "content": "Max Unavailable 0 â€” no pod goes down until a new pod is ready. Maximum availability but requires Max Surge > 0 (both can't be zero).",
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸ“‰ Zero downtime</div><div class=\"state-detail\">No existing pod is terminated until a new pod passes its readiness probe. This guarantees the desired replica count is always met during rollout.\n\nRequires Max Surge â‰¥ 1 â€” K8s needs room to create the new pod before it can retire the old one.\n\nBest for: production services where you can't afford any capacity loss.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "1"
                                        },
                                        "content": "Max Unavailable 1 â€” one pod can be down at a time. Balanced â€” maintains most capacity while allowing rollout progress.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‰ -1 pod</div><div class=\"state-detail\">During rollout, K8s can terminate 1 old pod before a new one is ready. With 3 replicas, at least 2 are serving traffic at all times.\n\nCombined with Max Surge 1: at most 4 pods exist and at least 2 serve â€” the default K8s behavior.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "contains": "%"
                                        },
                                        "content": "Percentage-based unavailability â€” scales with replica count. 25% of 4 replicas = 1 pod can be down.",
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ“‰ Percentage</div><div class=\"state-detail\">K8s rounds down: 25% of 3 replicas = floor(0.75) = 0 pods can be down (effectively zero-downtime).\n\nPercentage-based unavailability scales better for services managed by HPA where replica count changes dynamically.</div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "not": ""
                                        },
                                        "content": "Pods that can be unavailable during rollout. Higher values = faster rollouts but reduced capacity during the transition."
                                    }
                                ],
                                "children": []
                            },
                            {
                                "id": "k8s-cfg-svc-kind",
                                "title": "Workload Kind",
                                "icon": "ğŸ“‹",
                                "selector": "[id^=k8s-svc-kind-]",
                                "content": "The most consequential choice per service â€” everything below changes based on this.<div class=\"assistant-state-card state-info\" style=\"margin-top:0.4rem\"><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.25rem 0.5rem;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--success)\">ğŸš€ Deployment</span><span>Stateless. Pods are interchangeable, support rolling updates and autoscaling. <em>Web servers, APIs, workers.</em></span><span style=\"font-weight:600;color:var(--info)\">ğŸ—„ï¸ StatefulSet</span><span>Stable identity. Each pod gets a sticky name (app-0, app-1), its own PVC, and ordered startup. <em>Databases, caches with persistence.</em></span><span style=\"font-weight:600;color:var(--info)\">ğŸŒ DaemonSet</span><span>One pod per node. No replica count. Auto-scales with cluster size. <em>Log collectors, monitoring agents, network plugins.</em></span><span style=\"font-weight:600;color:var(--info)\">âš¡ Job</span><span>Runs to completion, then stops. <em>Migrations, imports, batch processing.</em></span><span style=\"font-weight:600;color:var(--info)\">â° CronJob</span><span>Scheduled Job on a cron pattern. <em>Backups, reports, periodic cleanup.</em></span><span style=\"font-weight:600;color:var(--warning)\">â­ï¸ Skip</span><span>No K8s resource generated for this service.</span></div></div></div>",
                                "variants": [
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "Deployment"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">ğŸš€ Deployment selected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Best for: APIs, web servers, workers, microservices â€” anything that doesn't write to local disk.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Replicas</span><span>horizontal scaling â€” more pods, more throughput</span><span style=\"font-weight:600;color:var(--text-secondary)\">Rolling Update</span><span>zero-downtime deploys â€” new pods before old pods die</span><span style=\"font-weight:600;color:var(--text-secondary)\">HPA</span><span>auto-scale on CPU, memory, or custom metrics</span><span style=\"font-weight:600;color:var(--text-secondary)\">Probes</span><span>readiness + liveness keep traffic away from unhealthy pods</span></div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "StatefulSet"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ—„ï¸ StatefulSet selected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Each pod gets a stable hostname and its own PVC. A Headless Service enables DNS-based discovery.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Identity</span><span>pod-0, pod-1, pod-2 â€” survives restarts and rescheduling</span><span style=\"font-weight:600;color:var(--text-secondary)\">Storage</span><span>volumeClaimTemplates create a PVC per pod</span><span style=\"font-weight:600;color:var(--text-secondary)\">Ordering</span><span>OrderedReady = sequential start/stop; Parallel = all at once</span><span style=\"font-weight:600;color:var(--text-secondary)\">Headless DNS</span><span><code>pod-0.svc-headless.namespace</code></span></div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "DaemonSet"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸŒ DaemonSet selected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Replicas, HPA, and scaling options are hidden â€” pod count equals node count.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Node Selector</span><span>restrict to specific nodes by label</span><span style=\"font-weight:600;color:var(--text-secondary)\">Tolerations</span><span>run on tainted nodes (control-plane, NoSchedule)</span><span style=\"font-weight:600;color:var(--text-secondary)\">Host Access</span><span>share the node's network, PID, or IPC namespace</span></div><div style=\"margin-top:0.3rem;font-size:0.75rem\">Typical uses: Fluentd, Datadog agent, Cilium, node-problem-detector.</div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "Job"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš¡ Job selected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">A Job creates one or more pods that run a command and exit. No K8s Service is created.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Completions</span><span>how many successful pod runs are needed</span><span style=\"font-weight:600;color:var(--text-secondary)\">Parallelism</span><span>how many pods run at once</span><span style=\"font-weight:600;color:var(--text-secondary)\">Backoff Limit</span><span>retries before marking the Job as failed</span><span style=\"font-weight:600;color:var(--text-secondary)\">TTL</span><span>seconds before finished Job is auto-deleted</span></div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "CronJob"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">â° CronJob selected</div><div class=\"state-detail\" style=\"white-space:normal\"><div style=\"margin:0.3rem 0;font-size:0.75rem\">Wraps a Job spec in a cron schedule. Kubernetes creates a new Job each time.</div><div style=\"display:grid;grid-template-columns:auto 1fr;gap:0.2rem 0.5rem;margin:0.3rem 0;font-size:0.75rem\"><span style=\"font-weight:600;color:var(--text-secondary)\">Schedule</span><span>standard cron: <code>*/5 * * * *</code> = every 5 minutes</span><span style=\"font-weight:600;color:var(--text-secondary)\">Forbid</span><span>skip this run if the previous one is still going</span><span style=\"font-weight:600;color:var(--text-secondary)\">Replace</span><span>kill the running job and start a new one</span><span style=\"font-weight:600;color:var(--text-secondary)\">Deadline</span><span>skip the run if it can't start within N seconds</span></div></div></div>"
                                    },
                                    {
                                        "when": {
                                            "resolver": "k8sFieldValue",
                                            "equals": "Skip"
                                        },
                                        "expanded": "<div class=\"assistant-state-card state-warning\"><div class=\"state-label\">â­ï¸ Skipped</div><div class=\"state-detail\">This service won't produce any manifest. If another service has a dependency on it (depends_on, env vars pointing to it), that reference will be orphaned.\n\nUse Skip for services you'll handle outside K8s â€” managed databases, external APIs, or services already running elsewhere.</div></div>"
                                    }
                                ],
                                "children": []
                            }
                        ]
                    }
                ]
            }
        ],
        "variants": [
            {
                "when": {
                    "hasSelector": "#k8s-detect-env"
                },
                "content": "Scanning what you've got â€” tools, cluster access, and running services. Everything here is read-only. The wizard uses this snapshot to shape the Configure step.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">ğŸ‘ï¸ Detect â€” read-only scan</div><div class=\"state-detail\">Nothing changes in this step. The wizard is reading your local environment to understand:\n\nâ€¢ <strong>Tooling</strong> â€” kubectl, Helm, kubeconfig\nâ€¢ <strong>Cluster</strong> â€” is one reachable? what context is active?\nâ€¢ <strong>Services</strong> â€” what Docker Compose services exist to migrate?\n\nProceed to Configure when you're ready to shape the workloads.</div></div>"
            },
            {
                "when": {
                    "hasSelector": "#k8s-app-svc-list"
                },
                "content": "This is where you shape each workload. Every choice here â€” kind, image, ports, strategy, resources â€” flows directly into the manifests generated in Review.",
                "expanded": "<div class=\"assistant-state-card state-info\"><div class=\"state-label\">âš™ï¸ Configure â€” shape your workloads</div><div class=\"state-detail\">Each card represents a service from your Compose file. Hover any field for specific guidance.\n\nâ€¢ <strong>Workload Kind</strong> â€” the most consequential choice per service\nâ€¢ <strong>Primary settings</strong> â€” image, port, replicas, service type\nâ€¢ <strong>Advanced sections</strong> â€” strategy, resources, probes, env vars\n\nChanges aren't applied yet â€” they feed the Review step's manifest generation.</div></div>"
            },
            {
                "when": {
                    "hasSelector": ".wiz-review-item"
                },
                "content": "Everything the wizard will generate â€” Deployments, Services, ConfigMaps, Secrets, PVCs, and optional extras. Review before writing.",
                "expanded": "<div class=\"assistant-state-card state-success\"><div class=\"state-label\">âœ… Review â€” ready to generate</div><div class=\"state-detail\">Every resource listed here becomes a manifest file in your output directory.\n\nâ€¢ <strong>Deployments / StatefulSets / Jobs</strong> â€” workload manifests\nâ€¢ <strong>Services</strong> â€” ClusterIP, NodePort, or LoadBalancer\nâ€¢ <strong>ConfigMaps & Secrets</strong> â€” per-service environment variables\nâ€¢ <strong>PVCs</strong> â€” persistent storage claims\nâ€¢ <strong>Optional</strong> â€” Ingress, Skaffold pipeline, Helm chart\n\nHit Finish to write all files.</div></div>"
            }
        ]
    }
]