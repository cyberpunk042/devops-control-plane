<!-- Content Tab -->
<div id="tab-content" class="tab-content">
    <style>
        .bk-folder-item:hover {
            background: var(--bg-tertiary);
        }

        .bk-folder-item.bk-folder-active {
            background: var(--accent-primary) !important;
            color: #fff !important;
            font-weight: 600;
        }
    </style>
    <header class="tab-header">
        <h1>ğŸ“ Content Vault</h1>
        <p class="subtitle">Manage documents, media, and encrypted archives</p>
    </header>

    <!-- Content sub-tabs -->
    <div class="content-modes" id="content-modes">
        <button class="content-mode active" data-mode="docs" onclick="contentSwitchMode('docs')">ğŸ“ Docs</button>
        <button class="content-mode" data-mode="media" onclick="contentSwitchMode('media')">ğŸ¬ Media</button>
        <button class="content-mode" data-mode="archive" onclick="contentSwitchMode('archive')">ğŸ“¦ Archive</button>
        <button class="content-mode" data-mode="chat" onclick="contentSwitchMode('chat')">ğŸ’¬ Chat</button>
    </div>

    <div class="grid">
        <div class="card full-width" style="min-height:300px">

            <!-- Folder selector bar -->
            <div id="content-folder-bar" style="display:none;margin-bottom:var(--space-md)">
                <div style="display:flex;align-items:center;gap:0.75rem;flex-wrap:wrap">
                    <label style="font-weight:600;font-size:0.85rem;color:var(--text-secondary)">ğŸ“‚ Folder</label>
                    <select id="content-folder-select" onchange="contentLoadFolder(this.value)"
                        style="flex:1;min-width:180px;max-width:300px"></select>
                    <span id="content-summary" style="font-size:0.8rem;color:var(--text-muted)"></span>
                    <div style="margin-left:auto;display:flex;gap:0.5rem;align-items:center">
                        <label
                            style="display:flex;align-items:center;gap:0.3rem;font-size:0.75rem;color:var(--text-muted);cursor:pointer;user-select:none"
                            title="Show all project folders">
                            <input type="checkbox" id="content-explore-all"
                                onchange="contentToggleExploreAll(this.checked)" style="margin:0">
                            ğŸ—‚ All
                        </label>
                        <button class="btn btn-primary btn-sm" id="content-upload-btn" onclick="contentShowUpload()"
                            title="Upload files" style="display:none">ğŸ“¤ Upload</button>
                        <button class="btn btn-secondary btn-sm" onclick="contentRefresh()" title="Refresh">ğŸ”„</button>
                    </div>
                </div>
            </div>

            <!-- Breadcrumb nav -->
            <div id="content-breadcrumb" style="display:none;margin-bottom:var(--space-sm);font-size:0.85rem"></div>

            <!-- File browser -->
            <div id="content-browser">
                <p class="empty-state">
                    <span style="font-size:2rem;display:block;margin-bottom:0.5rem">ğŸ“‚</span>
                    Loading content foldersâ€¦
                </p>
            </div>

            <!-- Chat panel (sibling, hidden by default) -->
            <div id="content-chat-panel" style="display:none"></div>

            <!-- Status output -->
            <div id="content-output" style="display:none;margin-top:var(--space-md)">
                <pre id="content-terminal" class="terminal" translate="no"></pre>
            </div>
        </div>
    </div>
</div>

{% include 'partials/_content_modals.html' %}